(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var _f={exports:{}},xl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function bE(){if($p)return xl;$p=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var y in u)y!=="key"&&(h[y]=u[y])}else h=u;return u=h.ref,{$$typeof:s,type:r,key:d,ref:u!==void 0?u:null,props:h}}return xl.Fragment=e,xl.jsx=i,xl.jsxs=i,xl}var Jp;function RE(){return Jp||(Jp=1,_f.exports=bE()),_f.exports}var J=RE(),vf={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function wE(){if(Wp)return St;Wp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),D=Symbol.iterator;function x(C){return C===null||typeof C!="object"?null:(C=D&&C[D]||C["@@iterator"],typeof C=="function"?C:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,it={};function Z(C,X,nt){this.props=C,this.context=X,this.refs=it,this.updater=nt||G}Z.prototype.isReactComponent={},Z.prototype.setState=function(C,X){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,X,"setState")},Z.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function At(){}At.prototype=Z.prototype;function Tt(C,X,nt){this.props=C,this.context=X,this.refs=it,this.updater=nt||G}var ft=Tt.prototype=new At;ft.constructor=Tt,W(ft,Z.prototype),ft.isPureReactComponent=!0;var Bt=Array.isArray,dt={H:null,A:null,T:null,S:null,V:null},bt=Object.prototype.hasOwnProperty;function I(C,X,nt,tt,ut,Vt){return nt=Vt.ref,{$$typeof:s,type:C,key:X,ref:nt!==void 0?nt:null,props:Vt}}function b(C,X){return I(C.type,X,void 0,void 0,void 0,C.props)}function w(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function M(C){var X={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(nt){return X[nt]})}var V=/\/+/g;function O(C,X){return typeof C=="object"&&C!==null&&C.key!=null?M(""+C.key):X.toString(36)}function S(){}function $t(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(S,S):(C.status="pending",C.then(function(X){C.status==="pending"&&(C.status="fulfilled",C.value=X)},function(X){C.status==="pending"&&(C.status="rejected",C.reason=X)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function Xt(C,X,nt,tt,ut){var Vt=typeof C;(Vt==="undefined"||Vt==="boolean")&&(C=null);var pt=!1;if(C===null)pt=!0;else switch(Vt){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(C.$$typeof){case s:case e:pt=!0;break;case A:return pt=C._init,Xt(pt(C._payload),X,nt,tt,ut)}}if(pt)return ut=ut(C),pt=tt===""?"."+O(C,0):tt,Bt(ut)?(nt="",pt!=null&&(nt=pt.replace(V,"$&/")+"/"),Xt(ut,X,nt,"",function(Dn){return Dn})):ut!=null&&(w(ut)&&(ut=b(ut,nt+(ut.key==null||C&&C.key===ut.key?"":(""+ut.key).replace(V,"$&/")+"/")+pt)),X.push(ut)),1;pt=0;var Oe=tt===""?".":tt+":";if(Bt(C))for(var Ht=0;Ht<C.length;Ht++)tt=C[Ht],Vt=Oe+O(tt,Ht),pt+=Xt(tt,X,nt,Vt,ut);else if(Ht=x(C),typeof Ht=="function")for(C=Ht.call(C),Ht=0;!(tt=C.next()).done;)tt=tt.value,Vt=Oe+O(tt,Ht++),pt+=Xt(tt,X,nt,Vt,ut);else if(Vt==="object"){if(typeof C.then=="function")return Xt($t(C),X,nt,tt,ut);throw X=String(C),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return pt}function q(C,X,nt){if(C==null)return C;var tt=[],ut=0;return Xt(C,tt,"","",function(Vt){return X.call(nt,Vt,ut++)}),tt}function et(C){if(C._status===-1){var X=C._result;X=X(),X.then(function(nt){(C._status===0||C._status===-1)&&(C._status=1,C._result=nt)},function(nt){(C._status===0||C._status===-1)&&(C._status=2,C._result=nt)}),C._status===-1&&(C._status=0,C._result=X)}if(C._status===1)return C._result.default;throw C._result}var ot=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Ut(){}return St.Children={map:q,forEach:function(C,X,nt){q(C,function(){X.apply(this,arguments)},nt)},count:function(C){var X=0;return q(C,function(){X++}),X},toArray:function(C){return q(C,function(X){return X})||[]},only:function(C){if(!w(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},St.Component=Z,St.Fragment=i,St.Profiler=u,St.PureComponent=Tt,St.StrictMode=r,St.Suspense=v,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=dt,St.__COMPILER_RUNTIME={__proto__:null,c:function(C){return dt.H.useMemoCache(C)}},St.cache=function(C){return function(){return C.apply(null,arguments)}},St.cloneElement=function(C,X,nt){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var tt=W({},C.props),ut=C.key,Vt=void 0;if(X!=null)for(pt in X.ref!==void 0&&(Vt=void 0),X.key!==void 0&&(ut=""+X.key),X)!bt.call(X,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&X.ref===void 0||(tt[pt]=X[pt]);var pt=arguments.length-2;if(pt===1)tt.children=nt;else if(1<pt){for(var Oe=Array(pt),Ht=0;Ht<pt;Ht++)Oe[Ht]=arguments[Ht+2];tt.children=Oe}return I(C.type,ut,void 0,void 0,Vt,tt)},St.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},St.createElement=function(C,X,nt){var tt,ut={},Vt=null;if(X!=null)for(tt in X.key!==void 0&&(Vt=""+X.key),X)bt.call(X,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(ut[tt]=X[tt]);var pt=arguments.length-2;if(pt===1)ut.children=nt;else if(1<pt){for(var Oe=Array(pt),Ht=0;Ht<pt;Ht++)Oe[Ht]=arguments[Ht+2];ut.children=Oe}if(C&&C.defaultProps)for(tt in pt=C.defaultProps,pt)ut[tt]===void 0&&(ut[tt]=pt[tt]);return I(C,Vt,void 0,void 0,null,ut)},St.createRef=function(){return{current:null}},St.forwardRef=function(C){return{$$typeof:y,render:C}},St.isValidElement=w,St.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:et}},St.memo=function(C,X){return{$$typeof:_,type:C,compare:X===void 0?null:X}},St.startTransition=function(C){var X=dt.T,nt={};dt.T=nt;try{var tt=C(),ut=dt.S;ut!==null&&ut(nt,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(Ut,ot)}catch(Vt){ot(Vt)}finally{dt.T=X}},St.unstable_useCacheRefresh=function(){return dt.H.useCacheRefresh()},St.use=function(C){return dt.H.use(C)},St.useActionState=function(C,X,nt){return dt.H.useActionState(C,X,nt)},St.useCallback=function(C,X){return dt.H.useCallback(C,X)},St.useContext=function(C){return dt.H.useContext(C)},St.useDebugValue=function(){},St.useDeferredValue=function(C,X){return dt.H.useDeferredValue(C,X)},St.useEffect=function(C,X,nt){var tt=dt.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return tt.useEffect(C,X)},St.useId=function(){return dt.H.useId()},St.useImperativeHandle=function(C,X,nt){return dt.H.useImperativeHandle(C,X,nt)},St.useInsertionEffect=function(C,X){return dt.H.useInsertionEffect(C,X)},St.useLayoutEffect=function(C,X){return dt.H.useLayoutEffect(C,X)},St.useMemo=function(C,X){return dt.H.useMemo(C,X)},St.useOptimistic=function(C,X){return dt.H.useOptimistic(C,X)},St.useReducer=function(C,X,nt){return dt.H.useReducer(C,X,nt)},St.useRef=function(C){return dt.H.useRef(C)},St.useState=function(C){return dt.H.useState(C)},St.useSyncExternalStore=function(C,X,nt){return dt.H.useSyncExternalStore(C,X,nt)},St.useTransition=function(){return dt.H.useTransition()},St.version="19.1.1",St}var ty;function ed(){return ty||(ty=1,vf.exports=wE()),vf.exports}var nn=ed(),Ef={exports:{}},Ul={},Tf={exports:{}},Af={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function CE(){return ey||(ey=1,(function(s){function e(q,et){var ot=q.length;q.push(et);t:for(;0<ot;){var Ut=ot-1>>>1,C=q[Ut];if(0<u(C,et))q[Ut]=et,q[ot]=C,ot=Ut;else break t}}function i(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var et=q[0],ot=q.pop();if(ot!==et){q[0]=ot;t:for(var Ut=0,C=q.length,X=C>>>1;Ut<X;){var nt=2*(Ut+1)-1,tt=q[nt],ut=nt+1,Vt=q[ut];if(0>u(tt,ot))ut<C&&0>u(Vt,tt)?(q[Ut]=Vt,q[ut]=ot,Ut=ut):(q[Ut]=tt,q[nt]=ot,Ut=nt);else if(ut<C&&0>u(Vt,ot))q[Ut]=Vt,q[ut]=ot,Ut=ut;else break t}}return et}function u(q,et){var ot=q.sortIndex-et.sortIndex;return ot!==0?ot:q.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var v=[],_=[],A=1,D=null,x=3,G=!1,W=!1,it=!1,Z=!1,At=typeof setTimeout=="function"?setTimeout:null,Tt=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function Bt(q){for(var et=i(_);et!==null;){if(et.callback===null)r(_);else if(et.startTime<=q)r(_),et.sortIndex=et.expirationTime,e(v,et);else break;et=i(_)}}function dt(q){if(it=!1,Bt(q),!W)if(i(v)!==null)W=!0,bt||(bt=!0,O());else{var et=i(_);et!==null&&Xt(dt,et.startTime-q)}}var bt=!1,I=-1,b=5,w=-1;function M(){return Z?!0:!(s.unstable_now()-w<b)}function V(){if(Z=!1,bt){var q=s.unstable_now();w=q;var et=!0;try{t:{W=!1,it&&(it=!1,Tt(I),I=-1),G=!0;var ot=x;try{e:{for(Bt(q),D=i(v);D!==null&&!(D.expirationTime>q&&M());){var Ut=D.callback;if(typeof Ut=="function"){D.callback=null,x=D.priorityLevel;var C=Ut(D.expirationTime<=q);if(q=s.unstable_now(),typeof C=="function"){D.callback=C,Bt(q),et=!0;break e}D===i(v)&&r(v),Bt(q)}else r(v);D=i(v)}if(D!==null)et=!0;else{var X=i(_);X!==null&&Xt(dt,X.startTime-q),et=!1}}break t}finally{D=null,x=ot,G=!1}et=void 0}}finally{et?O():bt=!1}}}var O;if(typeof ft=="function")O=function(){ft(V)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,$t=S.port2;S.port1.onmessage=V,O=function(){$t.postMessage(null)}}else O=function(){At(V,0)};function Xt(q,et){I=At(function(){q(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(q){switch(x){case 1:case 2:case 3:var et=3;break;default:et=x}var ot=x;x=et;try{return q()}finally{x=ot}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(q,et){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ot=x;x=q;try{return et()}finally{x=ot}},s.unstable_scheduleCallback=function(q,et,ot){var Ut=s.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?Ut+ot:Ut):ot=Ut,q){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ot+C,q={id:A++,callback:et,priorityLevel:q,startTime:ot,expirationTime:C,sortIndex:-1},ot>Ut?(q.sortIndex=ot,e(_,q),i(v)===null&&q===i(_)&&(it?(Tt(I),I=-1):it=!0,Xt(dt,ot-Ut))):(q.sortIndex=C,e(v,q),W||G||(W=!0,bt||(bt=!0,O()))),q},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(q){var et=x;return function(){var ot=x;x=et;try{return q.apply(this,arguments)}finally{x=ot}}}})(Af)),Af}var ny;function DE(){return ny||(ny=1,Tf.exports=CE()),Tf.exports}var Sf={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function VE(){if(iy)return He;iy=1;var s=ed();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(v,_,A){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:D==null?null:""+D,children:v,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,He.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},He.flushSync=function(v){var _=d.T,A=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=_,r.p=A,r.d.f()}},He.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(v,_))},He.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},He.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,D=y(A,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:D,integrity:x,fetchPriority:G}):A==="script"&&r.d.X(v,{crossOrigin:D,integrity:x,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},He.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=y(_.as,_.crossOrigin);r.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(v)},He.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,D=y(A,_.crossOrigin);r.d.L(v,A,{crossOrigin:D,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},He.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=y(_.as,_.crossOrigin);r.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(v)},He.requestFormReset=function(v){r.d.r(v)},He.unstable_batchedUpdates=function(v,_){return v(_)},He.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.1.1",He}var ay;function NE(){if(ay)return Sf.exports;ay=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Sf.exports=VE(),Sf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function IE(){if(ry)return Ul;ry=1;var s=DE(),e=ed(),i=NE();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(h(t)!==t)throw Error(r(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return y(c),t;if(f===l)return y(c),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=f;else{for(var p=!1,E=c.child;E;){if(E===a){p=!0,a=c,l=f;break}if(E===l){p=!0,l=c,a=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===a){p=!0,a=f,l=c;break}if(E===l){p=!0,l=f,a=c;break}E=E.sibling}if(!p)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,D=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),At=Symbol.for("react.provider"),Tt=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),Bt=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),bt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function O(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var S=Symbol.for("react.client.reference");function $t(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===S?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case Z:return"Profiler";case it:return"StrictMode";case dt:return"Suspense";case bt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case ft:return(t.displayName||"Context")+".Provider";case Tt:return(t._context.displayName||"Context")+".Consumer";case Bt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:$t(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return $t(t(n))}catch{}}return null}var Xt=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},Ut=[],C=-1;function X(t){return{current:t}}function nt(t){0>C||(t.current=Ut[C],Ut[C]=null,C--)}function tt(t,n){C++,Ut[C]=t.current,t.current=n}var ut=X(null),Vt=X(null),pt=X(null),Oe=X(null);function Ht(t,n){switch(tt(pt,n),tt(Vt,t),tt(ut,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Rp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Rp(n),t=wp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(ut),tt(ut,t)}function Dn(){nt(ut),nt(Vt),nt(pt)}function Ds(t){t.memoizedState!==null&&tt(Oe,t);var n=ut.current,a=wp(n,t.type);n!==a&&(tt(Vt,t),tt(ut,a))}function vr(t){Vt.current===t&&(nt(ut),nt(Vt)),Oe.current===t&&(nt(Oe),Vl._currentValue=ot)}var Er=Object.prototype.hasOwnProperty,Ca=s.unstable_scheduleCallback,Tr=s.unstable_cancelCallback,_c=s.unstable_shouldYield,Vs=s.unstable_requestPaint,Je=s.unstable_now,lu=s.unstable_getCurrentPriorityLevel,ve=s.unstable_ImmediatePriority,we=s.unstable_UserBlockingPriority,li=s.unstable_NormalPriority,vc=s.unstable_LowPriority,Ns=s.unstable_IdlePriority,Ec=s.log,Da=s.unstable_setDisableYieldValue,Ii=null,ke=null;function gn(t){if(typeof Ec=="function"&&Da(t),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(Ii,t)}catch{}}var Fe=Math.clz32?Math.clz32:ou,Tc=Math.log,uu=Math.LN2;function ou(t){return t>>>=0,t===0?32:31-(Tc(t)/uu|0)|0}var Bn=256,Oi=4194304;function Vn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pn(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Vn(l):(p&=E,p!==0?c=Vn(p):a||(a=E&~t,a!==0&&(c=Vn(a))))):(E=l&~f,E!==0?c=Vn(E):p!==0?c=Vn(p):a||(a=l&~t,a!==0&&(c=Vn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function Mi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ar(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Is(){var t=Bn;return Bn<<=1,(Bn&4194048)===0&&(Bn=256),t}function xi(){var t=Oi;return Oi<<=1,(Oi&62914560)===0&&(Oi=4194304),t}function Sr(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function ue(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function cu(t,n,a,l,c,f){var p=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,P=t.hiddenUpdates;for(a=p&~a;0<a;){var H=31-Fe(a),Y=1<<H;E[H]=0,R[H]=-1;var B=P[H];if(B!==null)for(P[H]=null,H=0;H<B.length;H++){var k=B[H];k!==null&&(k.lane&=-536870913)}a&=~Y}l!==0&&Ui(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Ui(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Fe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Li(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Fe(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Os(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ms(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ui(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:Qp(t.type))}function Ac(t,n){var a=et.p;try{return et.p=t,n()}finally{et.p=a}}var kn=Math.random().toString(36).slice(2),oe="__reactFiber$"+kn,Me="__reactProps$"+kn,oi="__reactContainer$"+kn,Va="__reactEvents$"+kn,Na="__reactListeners$"+kn,Sc="__reactHandles$"+kn,Nn="__reactResources$"+kn,zi="__reactMarker$"+kn;function br(t){delete t[oe],delete t[Me],delete t[Va],delete t[Na],delete t[Sc]}function jn(t){var n=t[oe];if(n)return n;for(var a=t.parentNode;a;){if(n=a[oi]||a[oe]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Np(t);t!==null;){if(a=t[oe])return a;t=Np(t)}return n}t=a,a=t.parentNode}return null}function qn(t){if(t=t[oe]||t[oi]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Pi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Bi(t){var n=t[Nn];return n||(n=t[Nn]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ce(t){t[zi]=!0}var hu=new Set,Ia={};function Hn(t,n){Gn(t,n),Gn(t+"Capture",n)}function Gn(t,n){for(Ia[t]=n,t=0;t<n.length;t++)hu.add(n[t])}var Oa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qn={},Rr={};function bc(t){return Er.call(Rr,t)?!0:Er.call(Qn,t)?!1:Oa.test(t)?Rr[t]=!0:(Qn[t]=!0,!1)}function Ma(t,n,a){if(bc(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function xa(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function yn(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var Ua,wr;function ci(t){if(Ua===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ua=n&&n[1]||"",wr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ua+t+wr}var Cr=!1;function Dr(t,n){if(!t||Cr)return"";Cr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(k){var B=k}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(k){B=k}t.call(Y.prototype)}}else{try{throw Error()}catch(k){B=k}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(k){if(k&&B&&typeof k.stack=="string")return[k.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var R=p.split(`
`),P=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===P.length)for(l=R.length-1,c=P.length-1;1<=l&&0<=c&&R[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==P[c]){var H=`
`+R[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{Cr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ci(a):""}function Rc(t){switch(t.tag){case 26:case 27:case 5:return ci(t.type);case 16:return ci("Lazy");case 13:return ci("Suspense");case 19:return ci("SuspenseList");case 0:case 15:return Dr(t.type,!1);case 11:return Dr(t.type.render,!1);case 1:return Dr(t.type,!0);case 31:return ci("Activity");default:return""}}function In(t){try{var n="";do n+=Rc(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ne(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ki(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function La(t){var n=ki(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){l=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(p){l=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ji(t){t._valueTracker||(t._valueTracker=La(t))}function Gt(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=ki(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function hi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var za=/[\n"\\]/g;function Ce(t){return t.replace(za,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function xs(t,n,a,l,c,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+ne(n)):t.value!==""+ne(n)&&(t.value=""+ne(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Ls(t,p,ne(n)):a!=null?Ls(t,p,ne(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+ne(E):t.removeAttribute("name")}function Us(t,n,a,l,c,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+ne(a):"",n=n!=null?""+ne(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p)}function Ls(t,n,a){n==="number"&&hi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function qi(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+ne(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function fu(t,n,a){if(n!=null&&(n=""+ne(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+ne(a):""}function du(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(Xt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=ne(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function _n(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var fi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zs(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||fi.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Ps(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&zs(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&zs(t,f,n[f])}function Vr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function On(t){return gu.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Bs=null;function ks(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hi=null,Xe=null;function pu(t){var n=qn(t);if(n&&(t=n.stateNode)){var a=t[Me]||null;t:switch(t=n.stateNode,n.type){case"input":if(xs(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ce(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[Me]||null;if(!c)throw Error(r(90));xs(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Gt(l)}break t;case"textarea":fu(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&qi(t,!!a.multiple,n,!1)}}}var Pa=!1;function Ba(t,n,a){if(Pa)return t(n,a);Pa=!0;try{var l=t(n);return l}finally{if(Pa=!1,(Hi!==null||Xe!==null)&&(ro(),Hi&&(n=Hi,t=Xe,Xe=Hi=null,pu(n),t)))for(n=0;n<t.length;n++)pu(t[n])}}function Gi(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Me]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Ke=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),di=!1;if(Ke)try{var Qi={};Object.defineProperty(Qi,"passive",{get:function(){di=!0}}),window.addEventListener("test",Qi,Qi),window.removeEventListener("test",Qi,Qi)}catch{di=!1}var vn=null,Jt=null,Nr=null;function yu(){if(Nr)return Nr;var t,n=Jt,a=n.length,l,c="value"in vn?vn.value:vn.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var p=a-t;for(l=1;l<=p&&n[a-l]===c[f-l];l++);return Nr=c.slice(t,1<l?1-l:void 0)}function ka(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ja(){return!0}function js(){return!1}function Ee(t){function n(a,l,c,f,p){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ja:js,this.isPropagationStopped=js,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ja)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ja)},persist:function(){},isPersistent:ja}),n}var je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qa=Ee(je),Ha=A({},je,{view:0,detail:0}),Ga=Ee(Ha),Ir,Qa,Yn,Ya=A({},Ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yn&&(Yn&&t.type==="mousemove"?(Ir=t.screenX-Yn.screenX,Qa=t.screenY-Yn.screenY):Qa=Ir=0,Yn=t),Ir)},movementY:function(t){return"movementY"in t?t.movementY:Qa}}),Fa=Ee(Ya),wc=A({},Ya,{dataTransfer:0}),_u=Ee(wc),Xa=A({},Ha,{relatedTarget:0}),Or=Ee(Xa),vu=A({},je,{animationName:0,elapsedTime:0,pseudoElement:0}),qs=Ee(vu),Hs=A({},je,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Eu=Ee(Hs),Mr=A({},je,{data:0}),Gs=Ee(Mr),Tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Su(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Au[t])?!!n[t]:!1}function xr(){return Su}var bu=A({},Ha,{key:function(t){if(t.key){var n=Tu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ka(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mi[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xr,charCode:function(t){return t.type==="keypress"?ka(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ka(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ur=Ee(bu),Ze=A({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qs=Ee(Ze),Ru=A({},Ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xr}),Yi=Ee(Ru),o=A({},je,{propertyName:0,elapsedTime:0,pseudoElement:0}),m=Ee(o),g=A({},Ya,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),T=Ee(g),z=A({},je,{newState:0,oldState:0}),j=Ee(z),$=[9,13,27,32],vt=Ke&&"CompositionEvent"in window,te=null;Ke&&"documentMode"in document&&(te=document.documentMode);var kt=Ke&&"TextEvent"in window&&!te,he=Ke&&(!vt||te&&8<te&&11>=te),sn=" ",Fn=!1;function Mn(t,n){switch(t){case"keyup":return $.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xn(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Un=!1;function Ys(t,n){switch(t){case"compositionend":return xn(n);case"keypress":return n.which!==32?null:(Fn=!0,sn);case"textInput":return t=n.data,t===sn&&Fn?null:t;default:return null}}function $v(t,n){if(Un)return t==="compositionend"||!vt&&Mn(t,n)?(t=yu(),Nr=Jt=vn=null,Un=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return he&&n.locale!=="ko"?null:n.data;default:return null}}var Jv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Jv[t.type]:n==="textarea"}function kd(t,n,a,l){Hi?Xe?Xe.push(l):Xe=[l]:Hi=l,n=ho(n,"onChange"),0<n.length&&(a=new qa("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Fs=null,Xs=null;function Wv(t){Ep(t,0)}function wu(t){var n=Pi(t);if(Gt(n))return t}function jd(t,n){if(t==="change")return n}var qd=!1;if(Ke){var Cc;if(Ke){var Dc="oninput"in document;if(!Dc){var Hd=document.createElement("div");Hd.setAttribute("oninput","return;"),Dc=typeof Hd.oninput=="function"}Cc=Dc}else Cc=!1;qd=Cc&&(!document.documentMode||9<document.documentMode)}function Gd(){Fs&&(Fs.detachEvent("onpropertychange",Qd),Xs=Fs=null)}function Qd(t){if(t.propertyName==="value"&&wu(Xs)){var n=[];kd(n,Xs,t,ks(t)),Ba(Wv,n)}}function t0(t,n,a){t==="focusin"?(Gd(),Fs=n,Xs=a,Fs.attachEvent("onpropertychange",Qd)):t==="focusout"&&Gd()}function e0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wu(Xs)}function n0(t,n){if(t==="click")return wu(n)}function i0(t,n){if(t==="input"||t==="change")return wu(n)}function a0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:a0;function Ks(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!Er.call(n,c)||!ln(t[c],n[c]))return!1}return!0}function Yd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fd(t,n){var a=Yd(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Yd(a)}}function Xd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Xd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Kd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=hi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=hi(t.document)}return n}function Vc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var r0=Ke&&"documentMode"in document&&11>=document.documentMode,Lr=null,Nc=null,Zs=null,Ic=!1;function Zd(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ic||Lr==null||Lr!==hi(l)||(l=Lr,"selectionStart"in l&&Vc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Zs&&Ks(Zs,l)||(Zs=l,l=ho(Nc,"onSelect"),0<l.length&&(n=new qa("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Lr)))}function Ka(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var zr={animationend:Ka("Animation","AnimationEnd"),animationiteration:Ka("Animation","AnimationIteration"),animationstart:Ka("Animation","AnimationStart"),transitionrun:Ka("Transition","TransitionRun"),transitionstart:Ka("Transition","TransitionStart"),transitioncancel:Ka("Transition","TransitionCancel"),transitionend:Ka("Transition","TransitionEnd")},Oc={},$d={};Ke&&($d=document.createElement("div").style,"AnimationEvent"in window||(delete zr.animationend.animation,delete zr.animationiteration.animation,delete zr.animationstart.animation),"TransitionEvent"in window||delete zr.transitionend.transition);function Za(t){if(Oc[t])return Oc[t];if(!zr[t])return t;var n=zr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in $d)return Oc[t]=n[a];return t}var Jd=Za("animationend"),Wd=Za("animationiteration"),tm=Za("animationstart"),s0=Za("transitionrun"),l0=Za("transitionstart"),u0=Za("transitioncancel"),em=Za("transitionend"),nm=new Map,Mc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mc.push("scrollEnd");function Ln(t,n){nm.set(t,n),Hn(n,[t])}var im=new WeakMap;function En(t,n){if(typeof t=="object"&&t!==null){var a=im.get(t);return a!==void 0?a:(n={value:t,source:n,stack:In(n)},im.set(t,n),n)}return{value:t,source:n,stack:In(n)}}var Tn=[],Pr=0,xc=0;function Cu(){for(var t=Pr,n=xc=Pr=0;n<t;){var a=Tn[n];Tn[n++]=null;var l=Tn[n];Tn[n++]=null;var c=Tn[n];Tn[n++]=null;var f=Tn[n];if(Tn[n++]=null,l!==null&&c!==null){var p=l.pending;p===null?c.next=c:(c.next=p.next,p.next=c),l.pending=c}f!==0&&am(a,c,f)}}function Du(t,n,a,l){Tn[Pr++]=t,Tn[Pr++]=n,Tn[Pr++]=a,Tn[Pr++]=l,xc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Uc(t,n,a,l){return Du(t,n,a,l),Vu(t)}function Br(t,n){return Du(t,null,null,n),Vu(t)}function am(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Fe(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Vu(t){if(50<Tl)throw Tl=0,jh=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var kr={};function o0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(t,n,a,l){return new o0(t,n,a,l)}function Lc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gi(t,n){var a=t.alternate;return a===null?(a=un(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function rm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Nu(t,n,a,l,c,f){var p=0;if(l=t,typeof t=="function")Lc(t)&&(p=1);else if(typeof t=="string")p=hE(t,a,ut.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=un(31,a,n,c),t.elementType=w,t.lanes=f,t;case W:return $a(a.children,c,f,n);case it:p=8,c|=24;break;case Z:return t=un(12,a,n,c|2),t.elementType=Z,t.lanes=f,t;case dt:return t=un(13,a,n,c),t.elementType=dt,t.lanes=f,t;case bt:return t=un(19,a,n,c),t.elementType=bt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case At:case ft:p=10;break t;case Tt:p=9;break t;case Bt:p=11;break t;case I:p=14;break t;case b:p=16,l=null;break t}p=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=un(p,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function $a(t,n,a,l){return t=un(7,t,l,n),t.lanes=a,t}function zc(t,n,a){return t=un(6,t,null,n),t.lanes=a,t}function Pc(t,n,a){return n=un(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var jr=[],qr=0,Iu=null,Ou=0,An=[],Sn=0,Ja=null,pi=1,yi="";function Wa(t,n){jr[qr++]=Ou,jr[qr++]=Iu,Iu=t,Ou=n}function sm(t,n,a){An[Sn++]=pi,An[Sn++]=yi,An[Sn++]=Ja,Ja=t;var l=pi;t=yi;var c=32-Fe(l)-1;l&=~(1<<c),a+=1;var f=32-Fe(n)+c;if(30<f){var p=c-c%5;f=(l&(1<<p)-1).toString(32),l>>=p,c-=p,pi=1<<32-Fe(n)+c|a<<c|l,yi=f+t}else pi=1<<f|a<<c|l,yi=t}function Bc(t){t.return!==null&&(Wa(t,1),sm(t,1,0))}function kc(t){for(;t===Iu;)Iu=jr[--qr],jr[qr]=null,Ou=jr[--qr],jr[qr]=null;for(;t===Ja;)Ja=An[--Sn],An[Sn]=null,yi=An[--Sn],An[Sn]=null,pi=An[--Sn],An[Sn]=null}var $e=null,se=null,zt=!1,tr=null,Xn=!1,jc=Error(r(519));function er(t){var n=Error(r(418,""));throw Ws(En(n,t)),jc}function lm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[oe]=t,n[Me]=l,a){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(a=0;a<Sl.length;a++)Dt(Sl[a],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),Us(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ji(n);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),du(n,l.value,l.defaultValue,l.children),ji(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||bp(n.textContent,a)?(l.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),l.onScroll!=null&&Dt("scroll",n),l.onScrollEnd!=null&&Dt("scrollend",n),l.onClick!=null&&(n.onclick=fo),n=!0):n=!1,n||er(t)}function um(t){for($e=t.return;$e;)switch($e.tag){case 5:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:$e=$e.return}}function $s(t){if(t!==$e)return!1;if(!zt)return um(t),zt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||af(t.type,t.memoizedProps)),a=!a),a&&se&&er(t),um(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){se=Pn(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}se=null}}else n===27?(n=se,ua(t.type)?(t=uf,uf=null,se=t):se=n):se=$e?Pn(t.stateNode.nextSibling):null;return!0}function Js(){se=$e=null,zt=!1}function om(){var t=tr;return t!==null&&(en===null?en=t:en.push.apply(en,t),tr=null),t}function Ws(t){tr===null?tr=[t]:tr.push(t)}var qc=X(null),nr=null,_i=null;function Fi(t,n,a){tt(qc,n._currentValue),n._currentValue=a}function vi(t){t._currentValue=qc.current,nt(qc)}function Hc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Gc(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var p=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Hc(f.return,a,t),l||(p=null);break t}f=E.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(r(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),Hc(p,a,t),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===t){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function tl(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var E=c.type;ln(c.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(c===Oe.current){if(p=c.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Vl):t=[Vl])}c=c.return}t!==null&&Gc(n,t,a,l),n.flags|=262144}function Mu(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ir(t){nr=t,_i=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return cm(nr,t)}function xu(t,n){return nr===null&&ir(t),cm(t,n)}function cm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},_i===null){if(t===null)throw Error(r(308));_i=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else _i=_i.next=n;return a}var c0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},h0=s.unstable_scheduleCallback,f0=s.unstable_NormalPriority,Te={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qc(){return{controller:new c0,data:new Map,refCount:0}}function el(t){t.refCount--,t.refCount===0&&h0(f0,function(){t.controller.abort()})}var nl=null,Yc=0,Hr=0,Gr=null;function d0(t,n){if(nl===null){var a=nl=[];Yc=0,Hr=Xh(),Gr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Yc++,n.then(hm,hm),n}function hm(){if(--Yc===0&&nl!==null){Gr!==null&&(Gr.status="fulfilled");var t=nl;nl=null,Hr=0,Gr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function m0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var fm=q.S;q.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&d0(t,n),fm!==null&&fm(t,n)};var ar=X(null);function Fc(){var t=ar.current;return t!==null?t:Wt.pooledCache}function Uu(t,n){n===null?tt(ar,ar.current):tt(ar,n.pool)}function dm(){var t=Fc();return t===null?null:{parent:Te._currentValue,pool:t}}var il=Error(r(460)),mm=Error(r(474)),Lu=Error(r(542)),Xc={then:function(){}};function gm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function zu(){}function pm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(zu,zu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,_m(t),t;default:if(typeof n.status=="string")n.then(zu,zu);else{if(t=Wt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,_m(t),t}throw al=n,il}}var al=null;function ym(){if(al===null)throw Error(r(459));var t=al;return al=null,t}function _m(t){if(t===il||t===Lu)throw Error(r(483))}var Xi=!1;function Kc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ki(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Zi(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(jt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Vu(t),am(t,null,a),n}return Du(t,l,n,a),Vu(t)}function rl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Li(t,a)}}function $c(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Jc=!1;function sl(){if(Jc){var t=Gr;if(t!==null)throw t}}function ll(t,n,a,l){Jc=!1;var c=t.updateQueue;Xi=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,P=R.next;R.next=null,p===null?f=P:p.next=P,p=R;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==p&&(E===null?H.firstBaseUpdate=P:E.next=P,H.lastBaseUpdate=R))}if(f!==null){var Y=c.baseState;p=0,H=P=R=null,E=f;do{var B=E.lane&-536870913,k=B!==E.lane;if(k?(Ot&B)===B:(l&B)===B){B!==0&&B===Hr&&(Jc=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var yt=t,ht=E;B=n;var Ft=a;switch(ht.tag){case 1:if(yt=ht.payload,typeof yt=="function"){Y=yt.call(Ft,Y,B);break t}Y=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=ht.payload,B=typeof yt=="function"?yt.call(Ft,Y,B):yt,B==null)break t;Y=A({},Y,B);break t;case 2:Xi=!0}}B=E.callback,B!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[B]:k.push(B))}else k={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(P=H=k,R=Y):H=H.next=k,p|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);H===null&&(R=Y),c.baseState=R,c.firstBaseUpdate=P,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),aa|=p,t.lanes=p,t.memoizedState=Y}}function vm(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Em(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)vm(a[t],n)}var Qr=X(null),Pu=X(0);function Tm(t,n){t=wi,tt(Pu,t),tt(Qr,n),wi=t|n.baseLanes}function Wc(){tt(Pu,wi),tt(Qr,Qr.current)}function th(){wi=Pu.current,nt(Qr),nt(Pu)}var $i=0,Rt=null,Qt=null,ge=null,Bu=!1,Yr=!1,rr=!1,ku=0,ul=0,Fr=null,g0=0;function fe(){throw Error(r(321))}function eh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!ln(t[a],n[a]))return!1;return!0}function nh(t,n,a,l,c,f){return $i=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?ag:rg,rr=!1,f=a(l,c),rr=!1,Yr&&(f=Sm(n,a,l,c)),Am(t),f}function Am(t){q.H=Yu;var n=Qt!==null&&Qt.next!==null;if($i=0,ge=Qt=Rt=null,Bu=!1,ul=0,Fr=null,n)throw Error(r(300));t===null||De||(t=t.dependencies,t!==null&&Mu(t)&&(De=!0))}function Sm(t,n,a,l){Rt=t;var c=0;do{if(Yr&&(Fr=null),ul=0,Yr=!1,25<=c)throw Error(r(301));if(c+=1,ge=Qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=A0,f=n(a,l)}while(Yr);return f}function p0(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?ol(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(Rt.flags|=1024),n}function ih(){var t=ku!==0;return ku=0,t}function ah(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function rh(t){if(Bu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Bu=!1}$i=0,ge=Qt=Rt=null,Yr=!1,ul=ku=0,Fr=null}function We(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?Rt.memoizedState=ge=t:ge=ge.next=t,ge}function pe(){if(Qt===null){var t=Rt.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=ge===null?Rt.memoizedState:ge.next;if(n!==null)ge=n,Qt=t;else{if(t===null)throw Rt.alternate===null?Error(r(467)):Error(r(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},ge===null?Rt.memoizedState=ge=t:ge=ge.next=t}return ge}function sh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ol(t){var n=ul;return ul+=1,Fr===null&&(Fr=[]),t=pm(Fr,t,n),n=Rt,(ge===null?n.memoizedState:ge.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?ag:rg),t}function ju(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ol(t);if(t.$$typeof===ft)return qe(t)}throw Error(r(438,String(t)))}function lh(t){var n=null,a=Rt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=sh(),Rt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=M;return n.index++,a}function Ei(t,n){return typeof n=="function"?n(t):n}function qu(t){var n=pe();return uh(n,Qt,t)}function uh(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=p=null,R=null,P=n,H=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Ot&Y)===Y:($i&Y)===Y){var B=P.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===Hr&&(H=!0);else if(($i&B)===B){P=P.next,B===Hr&&(H=!0);continue}else Y={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=Y,p=f):R=R.next=Y,Rt.lanes|=B,aa|=B;Y=P.action,rr&&a(f,Y),f=P.hasEagerState?P.eagerState:a(f,Y)}else B={lane:Y,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=B,p=f):R=R.next=B,Rt.lanes|=Y,aa|=Y;P=P.next}while(P!==null&&P!==n);if(R===null?p=f:R.next=E,!ln(f,t.memoizedState)&&(De=!0,H&&(a=Gr,a!==null)))throw a;t.memoizedState=f,t.baseState=p,t.baseQueue=R,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function oh(t){var n=pe(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var p=c=c.next;do f=t(f,p.action),p=p.next;while(p!==c);ln(f,n.memoizedState)||(De=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function bm(t,n,a){var l=Rt,c=pe(),f=zt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var p=!ln((Qt||c).memoizedState,a);p&&(c.memoizedState=a,De=!0),c=c.queue;var E=Cm.bind(null,l,c,t);if(cl(2048,8,E,[t]),c.getSnapshot!==n||p||ge!==null&&ge.memoizedState.tag&1){if(l.flags|=2048,Xr(9,Hu(),wm.bind(null,l,c,a,n),null),Wt===null)throw Error(r(349));f||($i&124)!==0||Rm(l,n,a)}return a}function Rm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Rt.updateQueue,n===null?(n=sh(),Rt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function wm(t,n,a,l){n.value=a,n.getSnapshot=l,Dm(n)&&Vm(t)}function Cm(t,n,a){return a(function(){Dm(n)&&Vm(t)})}function Dm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!ln(t,a)}catch{return!0}}function Vm(t){var n=Br(t,2);n!==null&&dn(n,t,2)}function ch(t){var n=We();if(typeof t=="function"){var a=t;if(t=a(),rr){gn(!0);try{a()}finally{gn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:t},n}function Nm(t,n,a,l){return t.baseState=a,uh(t,Qt,typeof l=="function"?l:Ei)}function y0(t,n,a,l,c){if(Qu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};q.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Im(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Im(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=q.T,p={};q.T=p;try{var E=a(c,l),R=q.S;R!==null&&R(p,E),Om(t,n,E)}catch(P){hh(t,n,P)}finally{q.T=f}}else try{f=a(c,l),Om(t,n,f)}catch(P){hh(t,n,P)}}function Om(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Mm(t,n,l)},function(l){return hh(t,n,l)}):Mm(t,n,a)}function Mm(t,n,a){n.status="fulfilled",n.value=a,xm(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Im(t,a)))}function hh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,xm(n),n=n.next;while(n!==l)}t.action=null}function xm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Um(t,n){return n}function Lm(t,n){if(zt){var a=Wt.formState;if(a!==null){t:{var l=Rt;if(zt){if(se){e:{for(var c=se,f=Xn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Pn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){se=Pn(c.nextSibling),l=c.data==="F!";break t}}er(l)}l=!1}l&&(n=a[0])}}return a=We(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Um,lastRenderedState:n},a.queue=l,a=eg.bind(null,Rt,l),l.dispatch=a,l=ch(!1),f=ph.bind(null,Rt,!1,l.queue),l=We(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=y0.bind(null,Rt,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function zm(t){var n=pe();return Pm(n,Qt,t)}function Pm(t,n,a){if(n=uh(t,n,Um)[0],t=qu(Ei)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ol(n)}catch(p){throw p===il?Lu:p}else l=n;n=pe();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(Rt.flags|=2048,Xr(9,Hu(),_0.bind(null,c,a),null)),[l,f,t]}function _0(t,n){t.action=n}function Bm(t){var n=pe(),a=Qt;if(a!==null)return Pm(n,a,t);pe(),n=n.memoizedState,a=pe();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Xr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=sh(),Rt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Hu(){return{destroy:void 0,resource:void 0}}function km(){return pe().memoizedState}function Gu(t,n,a,l){var c=We();l=l===void 0?null:l,Rt.flags|=t,c.memoizedState=Xr(1|n,Hu(),a,l)}function cl(t,n,a,l){var c=pe();l=l===void 0?null:l;var f=c.memoizedState.inst;Qt!==null&&l!==null&&eh(l,Qt.memoizedState.deps)?c.memoizedState=Xr(n,f,a,l):(Rt.flags|=t,c.memoizedState=Xr(1|n,f,a,l))}function jm(t,n){Gu(8390656,8,t,n)}function qm(t,n){cl(2048,8,t,n)}function Hm(t,n){return cl(4,2,t,n)}function Gm(t,n){return cl(4,4,t,n)}function Qm(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ym(t,n,a){a=a!=null?a.concat([t]):null,cl(4,4,Qm.bind(null,n,t),a)}function fh(){}function Fm(t,n){var a=pe();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&eh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Xm(t,n){var a=pe();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&eh(n,l[1]))return l[0];if(l=t(),rr){gn(!0);try{t()}finally{gn(!1)}}return a.memoizedState=[l,n],l}function dh(t,n,a){return a===void 0||($i&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=$g(),Rt.lanes|=t,aa|=t,a)}function Km(t,n,a,l){return ln(a,n)?a:Qr.current!==null?(t=dh(t,a,l),ln(t,n)||(De=!0),t):($i&42)===0?(De=!0,t.memoizedState=a):(t=$g(),Rt.lanes|=t,aa|=t,n)}function Zm(t,n,a,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var p=q.T,E={};q.T=E,ph(t,!1,n,a);try{var R=c(),P=q.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var H=m0(R,l);hl(t,n,H,fn(t))}else hl(t,n,l,fn(t))}catch(Y){hl(t,n,{then:function(){},status:"rejected",reason:Y},fn())}finally{et.p=f,q.T=p}}function v0(){}function mh(t,n,a,l){if(t.tag!==5)throw Error(r(476));var c=$m(t).queue;Zm(t,c,n,ot,a===null?v0:function(){return Jm(t),a(l)})}function $m(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:ot},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Jm(t){var n=$m(t).next.queue;hl(t,n,{},fn())}function gh(){return qe(Vl)}function Wm(){return pe().memoizedState}function tg(){return pe().memoizedState}function E0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=fn();t=Ki(a);var l=Zi(n,t,a);l!==null&&(dn(l,n,a),rl(l,n,a)),n={cache:Qc()},t.payload=n;return}n=n.return}}function T0(t,n,a){var l=fn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Qu(t)?ng(n,a):(a=Uc(t,n,a,l),a!==null&&(dn(a,t,l),ig(a,n,l)))}function eg(t,n,a){var l=fn();hl(t,n,a,l)}function hl(t,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Qu(t))ng(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,a);if(c.hasEagerState=!0,c.eagerState=E,ln(E,p))return Du(t,n,c,0),Wt===null&&Cu(),!1}catch{}finally{}if(a=Uc(t,n,c,l),a!==null)return dn(a,t,l),ig(a,n,l),!0}return!1}function ph(t,n,a,l){if(l={lane:2,revertLane:Xh(),action:l,hasEagerState:!1,eagerState:null,next:null},Qu(t)){if(n)throw Error(r(479))}else n=Uc(t,a,l,2),n!==null&&dn(n,t,2)}function Qu(t){var n=t.alternate;return t===Rt||n!==null&&n===Rt}function ng(t,n){Yr=Bu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function ig(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Li(t,a)}}var Yu={readContext:qe,use:ju,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe},ag={readContext:qe,use:ju,useCallback:function(t,n){return We().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:jm,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Gu(4194308,4,Qm.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Gu(4194308,4,t,n)},useInsertionEffect:function(t,n){Gu(4,2,t,n)},useMemo:function(t,n){var a=We();n=n===void 0?null:n;var l=t();if(rr){gn(!0);try{t()}finally{gn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=We();if(a!==void 0){var c=a(n);if(rr){gn(!0);try{a(n)}finally{gn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=T0.bind(null,Rt,t),[l.memoizedState,t]},useRef:function(t){var n=We();return t={current:t},n.memoizedState=t},useState:function(t){t=ch(t);var n=t.queue,a=eg.bind(null,Rt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:fh,useDeferredValue:function(t,n){var a=We();return dh(a,t,n)},useTransition:function(){var t=ch(!1);return t=Zm.bind(null,Rt,t.queue,!0,!1),We().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Rt,c=We();if(zt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Wt===null)throw Error(r(349));(Ot&124)!==0||Rm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,jm(Cm.bind(null,l,f,t),[t]),l.flags|=2048,Xr(9,Hu(),wm.bind(null,l,f,a,n),null),a},useId:function(){var t=We(),n=Wt.identifierPrefix;if(zt){var a=yi,l=pi;a=(l&~(1<<32-Fe(l)-1)).toString(32)+a,n=""+n+"R"+a,a=ku++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=g0++,n=""+n+"r"+a.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:gh,useFormState:Lm,useActionState:Lm,useOptimistic:function(t){var n=We();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=ph.bind(null,Rt,!0,a),a.dispatch=n,[t,n]},useMemoCache:lh,useCacheRefresh:function(){return We().memoizedState=E0.bind(null,Rt)}},rg={readContext:qe,use:ju,useCallback:Fm,useContext:qe,useEffect:qm,useImperativeHandle:Ym,useInsertionEffect:Hm,useLayoutEffect:Gm,useMemo:Xm,useReducer:qu,useRef:km,useState:function(){return qu(Ei)},useDebugValue:fh,useDeferredValue:function(t,n){var a=pe();return Km(a,Qt.memoizedState,t,n)},useTransition:function(){var t=qu(Ei)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:ol(t),n]},useSyncExternalStore:bm,useId:Wm,useHostTransitionStatus:gh,useFormState:zm,useActionState:zm,useOptimistic:function(t,n){var a=pe();return Nm(a,Qt,t,n)},useMemoCache:lh,useCacheRefresh:tg},A0={readContext:qe,use:ju,useCallback:Fm,useContext:qe,useEffect:qm,useImperativeHandle:Ym,useInsertionEffect:Hm,useLayoutEffect:Gm,useMemo:Xm,useReducer:oh,useRef:km,useState:function(){return oh(Ei)},useDebugValue:fh,useDeferredValue:function(t,n){var a=pe();return Qt===null?dh(a,t,n):Km(a,Qt.memoizedState,t,n)},useTransition:function(){var t=oh(Ei)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:ol(t),n]},useSyncExternalStore:bm,useId:Wm,useHostTransitionStatus:gh,useFormState:Bm,useActionState:Bm,useOptimistic:function(t,n){var a=pe();return Qt!==null?Nm(a,Qt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:lh,useCacheRefresh:tg},Kr=null,fl=0;function Fu(t){var n=fl;return fl+=1,Kr===null&&(Kr=[]),pm(Kr,t,n)}function dl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Xu(t,n){throw n.$$typeof===D?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function sg(t){var n=t._init;return n(t._payload)}function lg(t){function n(U,N){if(t){var L=U.deletions;L===null?(U.deletions=[N],U.flags|=16):L.push(N)}}function a(U,N){if(!t)return null;for(;N!==null;)n(U,N),N=N.sibling;return null}function l(U){for(var N=new Map;U!==null;)U.key!==null?N.set(U.key,U):N.set(U.index,U),U=U.sibling;return N}function c(U,N){return U=gi(U,N),U.index=0,U.sibling=null,U}function f(U,N,L){return U.index=L,t?(L=U.alternate,L!==null?(L=L.index,L<N?(U.flags|=67108866,N):L):(U.flags|=67108866,N)):(U.flags|=1048576,N)}function p(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,N,L,Q){return N===null||N.tag!==6?(N=zc(L,U.mode,Q),N.return=U,N):(N=c(N,L),N.return=U,N)}function R(U,N,L,Q){var rt=L.type;return rt===W?H(U,N,L.props.children,Q,L.key):N!==null&&(N.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===b&&sg(rt)===N.type)?(N=c(N,L.props),dl(N,L),N.return=U,N):(N=Nu(L.type,L.key,L.props,null,U.mode,Q),dl(N,L),N.return=U,N)}function P(U,N,L,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=Pc(L,U.mode,Q),N.return=U,N):(N=c(N,L.children||[]),N.return=U,N)}function H(U,N,L,Q,rt){return N===null||N.tag!==7?(N=$a(L,U.mode,Q,rt),N.return=U,N):(N=c(N,L),N.return=U,N)}function Y(U,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=zc(""+N,U.mode,L),N.return=U,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case x:return L=Nu(N.type,N.key,N.props,null,U.mode,L),dl(L,N),L.return=U,L;case G:return N=Pc(N,U.mode,L),N.return=U,N;case b:var Q=N._init;return N=Q(N._payload),Y(U,N,L)}if(Xt(N)||O(N))return N=$a(N,U.mode,L,null),N.return=U,N;if(typeof N.then=="function")return Y(U,Fu(N),L);if(N.$$typeof===ft)return Y(U,xu(U,N),L);Xu(U,N)}return null}function B(U,N,L,Q){var rt=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return rt!==null?null:E(U,N,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case x:return L.key===rt?R(U,N,L,Q):null;case G:return L.key===rt?P(U,N,L,Q):null;case b:return rt=L._init,L=rt(L._payload),B(U,N,L,Q)}if(Xt(L)||O(L))return rt!==null?null:H(U,N,L,Q,null);if(typeof L.then=="function")return B(U,N,Fu(L),Q);if(L.$$typeof===ft)return B(U,N,xu(U,L),Q);Xu(U,L)}return null}function k(U,N,L,Q,rt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(L)||null,E(N,U,""+Q,rt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case x:return U=U.get(Q.key===null?L:Q.key)||null,R(N,U,Q,rt);case G:return U=U.get(Q.key===null?L:Q.key)||null,P(N,U,Q,rt);case b:var wt=Q._init;return Q=wt(Q._payload),k(U,N,L,Q,rt)}if(Xt(Q)||O(Q))return U=U.get(L)||null,H(N,U,Q,rt,null);if(typeof Q.then=="function")return k(U,N,L,Fu(Q),rt);if(Q.$$typeof===ft)return k(U,N,L,xu(N,Q),rt);Xu(N,Q)}return null}function yt(U,N,L,Q){for(var rt=null,wt=null,lt=N,mt=N=0,Ne=null;lt!==null&&mt<L.length;mt++){lt.index>mt?(Ne=lt,lt=null):Ne=lt.sibling;var Lt=B(U,lt,L[mt],Q);if(Lt===null){lt===null&&(lt=Ne);break}t&&lt&&Lt.alternate===null&&n(U,lt),N=f(Lt,N,mt),wt===null?rt=Lt:wt.sibling=Lt,wt=Lt,lt=Ne}if(mt===L.length)return a(U,lt),zt&&Wa(U,mt),rt;if(lt===null){for(;mt<L.length;mt++)lt=Y(U,L[mt],Q),lt!==null&&(N=f(lt,N,mt),wt===null?rt=lt:wt.sibling=lt,wt=lt);return zt&&Wa(U,mt),rt}for(lt=l(lt);mt<L.length;mt++)Ne=k(lt,U,mt,L[mt],Q),Ne!==null&&(t&&Ne.alternate!==null&&lt.delete(Ne.key===null?mt:Ne.key),N=f(Ne,N,mt),wt===null?rt=Ne:wt.sibling=Ne,wt=Ne);return t&&lt.forEach(function(da){return n(U,da)}),zt&&Wa(U,mt),rt}function ht(U,N,L,Q){if(L==null)throw Error(r(151));for(var rt=null,wt=null,lt=N,mt=N=0,Ne=null,Lt=L.next();lt!==null&&!Lt.done;mt++,Lt=L.next()){lt.index>mt?(Ne=lt,lt=null):Ne=lt.sibling;var da=B(U,lt,Lt.value,Q);if(da===null){lt===null&&(lt=Ne);break}t&&lt&&da.alternate===null&&n(U,lt),N=f(da,N,mt),wt===null?rt=da:wt.sibling=da,wt=da,lt=Ne}if(Lt.done)return a(U,lt),zt&&Wa(U,mt),rt;if(lt===null){for(;!Lt.done;mt++,Lt=L.next())Lt=Y(U,Lt.value,Q),Lt!==null&&(N=f(Lt,N,mt),wt===null?rt=Lt:wt.sibling=Lt,wt=Lt);return zt&&Wa(U,mt),rt}for(lt=l(lt);!Lt.done;mt++,Lt=L.next())Lt=k(lt,U,mt,Lt.value,Q),Lt!==null&&(t&&Lt.alternate!==null&&lt.delete(Lt.key===null?mt:Lt.key),N=f(Lt,N,mt),wt===null?rt=Lt:wt.sibling=Lt,wt=Lt);return t&&lt.forEach(function(SE){return n(U,SE)}),zt&&Wa(U,mt),rt}function Ft(U,N,L,Q){if(typeof L=="object"&&L!==null&&L.type===W&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case x:t:{for(var rt=L.key;N!==null;){if(N.key===rt){if(rt=L.type,rt===W){if(N.tag===7){a(U,N.sibling),Q=c(N,L.props.children),Q.return=U,U=Q;break t}}else if(N.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===b&&sg(rt)===N.type){a(U,N.sibling),Q=c(N,L.props),dl(Q,L),Q.return=U,U=Q;break t}a(U,N);break}else n(U,N);N=N.sibling}L.type===W?(Q=$a(L.props.children,U.mode,Q,L.key),Q.return=U,U=Q):(Q=Nu(L.type,L.key,L.props,null,U.mode,Q),dl(Q,L),Q.return=U,U=Q)}return p(U);case G:t:{for(rt=L.key;N!==null;){if(N.key===rt)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){a(U,N.sibling),Q=c(N,L.children||[]),Q.return=U,U=Q;break t}else{a(U,N);break}else n(U,N);N=N.sibling}Q=Pc(L,U.mode,Q),Q.return=U,U=Q}return p(U);case b:return rt=L._init,L=rt(L._payload),Ft(U,N,L,Q)}if(Xt(L))return yt(U,N,L,Q);if(O(L)){if(rt=O(L),typeof rt!="function")throw Error(r(150));return L=rt.call(L),ht(U,N,L,Q)}if(typeof L.then=="function")return Ft(U,N,Fu(L),Q);if(L.$$typeof===ft)return Ft(U,N,xu(U,L),Q);Xu(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(a(U,N.sibling),Q=c(N,L),Q.return=U,U=Q):(a(U,N),Q=zc(L,U.mode,Q),Q.return=U,U=Q),p(U)):a(U,N)}return function(U,N,L,Q){try{fl=0;var rt=Ft(U,N,L,Q);return Kr=null,rt}catch(lt){if(lt===il||lt===Lu)throw lt;var wt=un(29,lt,null,U.mode);return wt.lanes=Q,wt.return=U,wt}finally{}}}var Zr=lg(!0),ug=lg(!1),bn=X(null),Kn=null;function Ji(t){var n=t.alternate;tt(Ae,Ae.current&1),tt(bn,t),Kn===null&&(n===null||Qr.current!==null||n.memoizedState!==null)&&(Kn=t)}function og(t){if(t.tag===22){if(tt(Ae,Ae.current),tt(bn,t),Kn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Kn=t)}}else Wi()}function Wi(){tt(Ae,Ae.current),tt(bn,bn.current)}function Ti(t){nt(bn),Kn===t&&(Kn=null),nt(Ae)}var Ae=X(0);function Ku(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||lf(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function yh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var _h={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=fn(),c=Ki(l);c.payload=n,a!=null&&(c.callback=a),n=Zi(t,c,l),n!==null&&(dn(n,t,l),rl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=fn(),c=Ki(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=Zi(t,c,l),n!==null&&(dn(n,t,l),rl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=fn(),l=Ki(a);l.tag=2,n!=null&&(l.callback=n),n=Zi(t,l,a),n!==null&&(dn(n,t,a),rl(n,t,a))}};function cg(t,n,a,l,c,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Ks(a,l)||!Ks(c,f):!0}function hg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&_h.enqueueReplaceState(n,n.state,null)}function sr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var Zu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function fg(t){Zu(t)}function dg(t){console.error(t)}function mg(t){Zu(t)}function $u(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function gg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function vh(t,n,a){return a=Ki(a),a.tag=3,a.payload={element:null},a.callback=function(){$u(t,n)},a}function pg(t){return t=Ki(t),t.tag=3,t}function yg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){gg(n,a,l)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){gg(n,a,l),typeof c!="function"&&(ra===null?ra=new Set([this]):ra.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function S0(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&tl(n,a,c,!0),a=bn.current,a!==null){switch(a.tag){case 13:return Kn===null?Hh():a.alternate===null&&le===0&&(le=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Xc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Qh(t,l,c)),!1;case 22:return a.flags|=65536,l===Xc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Qh(t,l,c)),!1}throw Error(r(435,a.tag))}return Qh(t,l,c),Hh(),!1}if(zt)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==jc&&(t=Error(r(422),{cause:l}),Ws(En(t,a)))):(l!==jc&&(n=Error(r(423),{cause:l}),Ws(En(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=En(l,a),c=vh(t.stateNode,l,c),$c(t,c),le!==4&&(le=2)),!1;var f=Error(r(520),{cause:l});if(f=En(f,a),El===null?El=[f]:El.push(f),le!==4&&(le=2),n===null)return!0;l=En(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=vh(a.stateNode,l,t),$c(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ra===null||!ra.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=pg(c),yg(c,t,a,l),$c(a,c),!1}a=a.return}while(a!==null);return!1}var _g=Error(r(461)),De=!1;function xe(t,n,a,l){n.child=t===null?ug(n,null,a,l):Zr(n,t.child,a,l)}function vg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return ir(n),l=nh(t,n,a,p,f,c),E=ih(),t!==null&&!De?(ah(t,n,c),Ai(t,n,c)):(zt&&E&&Bc(n),n.flags|=1,xe(t,n,l,c),n.child)}function Eg(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!Lc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Tg(t,n,f,l,c)):(t=Nu(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Ch(t,c)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:Ks,a(p,l)&&t.ref===n.ref)return Ai(t,n,c)}return n.flags|=1,t=gi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Tg(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(Ks(f,l)&&t.ref===n.ref)if(De=!1,n.pendingProps=l=f,Ch(t,c))(t.flags&131072)!==0&&(De=!0);else return n.lanes=t.lanes,Ai(t,n,c)}return Eh(t,n,a,l,c)}function Ag(t,n,a){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Sg(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Uu(n,f!==null?f.cachePool:null),f!==null?Tm(n,f):Wc(),og(n);else return n.lanes=n.childLanes=536870912,Sg(t,n,f!==null?f.baseLanes|a:a,a)}else f!==null?(Uu(n,f.cachePool),Tm(n,f),Wi(),n.memoizedState=null):(t!==null&&Uu(n,null),Wc(),Wi());return xe(t,n,c,a),n.child}function Sg(t,n,a,l){var c=Fc();return c=c===null?null:{parent:Te._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&Uu(n,null),Wc(),og(n),t!==null&&tl(t,n,l,!0),null}function Ju(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Eh(t,n,a,l,c){return ir(n),a=nh(t,n,a,l,void 0,c),l=ih(),t!==null&&!De?(ah(t,n,c),Ai(t,n,c)):(zt&&l&&Bc(n),n.flags|=1,xe(t,n,a,c),n.child)}function bg(t,n,a,l,c,f){return ir(n),n.updateQueue=null,a=Sm(n,l,a,c),Am(t),l=ih(),t!==null&&!De?(ah(t,n,f),Ai(t,n,f)):(zt&&l&&Bc(n),n.flags|=1,xe(t,n,a,f),n.child)}function Rg(t,n,a,l,c){if(ir(n),n.stateNode===null){var f=kr,p=a.contextType;typeof p=="object"&&p!==null&&(f=qe(p)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=_h,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Kc(n),p=a.contextType,f.context=typeof p=="object"&&p!==null?qe(p):kr,f.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(yh(n,a,p,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&_h.enqueueReplaceState(f,f.state,null),ll(n,l,f,c),sl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=sr(a,E);f.props=R;var P=f.context,H=a.contextType;p=kr,typeof H=="object"&&H!==null&&(p=qe(H));var Y=a.getDerivedStateFromProps;H=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==p)&&hg(n,f,l,p),Xi=!1;var B=n.memoizedState;f.state=B,ll(n,l,f,c),sl(),P=n.memoizedState,E||B!==P||Xi?(typeof Y=="function"&&(yh(n,a,Y,l),P=n.memoizedState),(R=Xi||cg(n,a,R,l,B,P,p))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=p,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Zc(t,n),p=n.memoizedProps,H=sr(a,p),f.props=H,Y=n.pendingProps,B=f.context,P=a.contextType,R=kr,typeof P=="object"&&P!==null&&(R=qe(P)),E=a.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||B!==R)&&hg(n,f,l,R),Xi=!1,B=n.memoizedState,f.state=B,ll(n,l,f,c),sl();var k=n.memoizedState;p!==Y||B!==k||Xi||t!==null&&t.dependencies!==null&&Mu(t.dependencies)?(typeof E=="function"&&(yh(n,a,E,l),k=n.memoizedState),(H=Xi||cg(n,a,H,l,B,k,R)||t!==null&&t.dependencies!==null&&Mu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=R,l=H):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Ju(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Zr(n,t.child,null,c),n.child=Zr(n,null,a,c)):xe(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Ai(t,n,c),t}function wg(t,n,a,l){return Js(),n.flags|=256,xe(t,n,a,l),n.child}var Th={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ah(t){return{baseLanes:t,cachePool:dm()}}function Sh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Rn),t}function Cg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),p&&(c=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(zt){if(c?Ji(n):Wi(),zt){var E=se,R;if(R=E){t:{for(R=E,E=Xn;R.nodeType!==8;){if(!E){E=null;break t}if(R=Pn(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(n.memoizedState={dehydrated:E,treeContext:Ja!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},R=un(18,null,null,0),R.stateNode=E,R.return=n,n.child=R,$e=n,se=null,R=!0):R=!1}R||er(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return lf(E)?n.lanes=32:n.lanes=536870912,null;Ti(n)}return E=l.children,l=l.fallback,c?(Wi(),c=n.mode,E=Wu({mode:"hidden",children:E},c),l=$a(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Ah(a),c.childLanes=Sh(t,p,a),n.memoizedState=Th,l):(Ji(n),bh(n,E))}if(R=t.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Ji(n),n.flags&=-257,n=Rh(t,n,a)):n.memoizedState!==null?(Wi(),n.child=t.child,n.flags|=128,n=null):(Wi(),c=l.fallback,E=n.mode,l=Wu({mode:"visible",children:l.children},E),c=$a(c,E,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Zr(n,t.child,null,a),l=n.child,l.memoizedState=Ah(a),l.childLanes=Sh(t,p,a),n.memoizedState=Th,n=c);else if(Ji(n),lf(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var P=p.dgst;p=P,l=Error(r(419)),l.stack="",l.digest=p,Ws({value:l,source:null,stack:null}),n=Rh(t,n,a)}else if(De||tl(t,n,a,!1),p=(a&t.childLanes)!==0,De||p){if(p=Wt,p!==null&&(l=a&-a,l=(l&42)!==0?1:Os(l),l=(l&(p.suspendedLanes|a))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,Br(t,l),dn(p,t,l),_g;E.data==="$?"||Hh(),n=Rh(t,n,a)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,se=Pn(E.nextSibling),$e=n,zt=!0,tr=null,Xn=!1,t!==null&&(An[Sn++]=pi,An[Sn++]=yi,An[Sn++]=Ja,pi=t.id,yi=t.overflow,Ja=n),n=bh(n,l.children),n.flags|=4096);return n}return c?(Wi(),c=l.fallback,E=n.mode,R=t.child,P=R.sibling,l=gi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,P!==null?c=gi(P,c):(c=$a(c,E,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Ah(a):(R=E.cachePool,R!==null?(P=Te._currentValue,R=R.parent!==P?{parent:P,pool:P}:R):R=dm(),E={baseLanes:E.baseLanes|a,cachePool:R}),c.memoizedState=E,c.childLanes=Sh(t,p,a),n.memoizedState=Th,l):(Ji(n),a=t.child,t=a.sibling,a=gi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=a,n.memoizedState=null,a)}function bh(t,n){return n=Wu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Wu(t,n){return t=un(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Rh(t,n,a){return Zr(n,t.child,null,a),t=bh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Dg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Hc(t.return,n,a)}function wh(t,n,a,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=c)}function Vg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(xe(t,n,l.children,a),l=Ae.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dg(t,a,n);else if(t.tag===19)Dg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(tt(Ae,l),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&Ku(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),wh(n,!1,c,a,f);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Ku(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}wh(n,!0,a,null,f);break;case"together":wh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ai(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),aa|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(tl(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=gi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=gi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Ch(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Mu(t)))}function b0(t,n,a){switch(n.tag){case 3:Ht(n,n.stateNode.containerInfo),Fi(n,Te,t.memoizedState.cache),Js();break;case 27:case 5:Ds(n);break;case 4:Ht(n,n.stateNode.containerInfo);break;case 10:Fi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ji(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Cg(t,n,a):(Ji(n),t=Ai(t,n,a),t!==null?t.sibling:null);Ji(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(tl(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Vg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),tt(Ae,Ae.current),l)break;return null;case 22:case 23:return n.lanes=0,Ag(t,n,a);case 24:Fi(n,Te,t.memoizedState.cache)}return Ai(t,n,a)}function Ng(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)De=!0;else{if(!Ch(t,a)&&(n.flags&128)===0)return De=!1,b0(t,n,a);De=(t.flags&131072)!==0}else De=!1,zt&&(n.flags&1048576)!==0&&sm(n,Ou,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Lc(l)?(t=sr(l,t),n.tag=1,n=Rg(null,n,l,t,a)):(n.tag=0,n=Eh(null,n,l,t,a));else{if(l!=null){if(c=l.$$typeof,c===Bt){n.tag=11,n=vg(null,n,l,t,a);break t}else if(c===I){n.tag=14,n=Eg(null,n,l,t,a);break t}}throw n=$t(l)||l,Error(r(306,n,""))}}return n;case 0:return Eh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=sr(l,n.pendingProps),Rg(t,n,l,c,a);case 3:t:{if(Ht(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Zc(t,n),ll(n,l,null,a);var p=n.memoizedState;if(l=p.cache,Fi(n,Te,l),l!==f.cache&&Gc(n,[Te],a,!0),sl(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=wg(t,n,l,a);break t}else if(l!==c){c=En(Error(r(424)),n),Ws(c),n=wg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(se=Pn(t.firstChild),$e=n,zt=!0,tr=null,Xn=!0,a=ug(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Js(),l===c){n=Ai(t,n,a);break t}xe(t,n,l,a)}n=n.child}return n;case 26:return Ju(t,n),t===null?(a=xp(n.type,null,n.pendingProps,null))?n.memoizedState=a:zt||(a=n.type,t=n.pendingProps,l=mo(pt.current).createElement(a),l[oe]=n,l[Me]=t,Le(l,a,t),ce(l),n.stateNode=l):n.memoizedState=xp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ds(n),t===null&&zt&&(l=n.stateNode=Ip(n.type,n.pendingProps,pt.current),$e=n,Xn=!0,c=se,ua(n.type)?(uf=c,se=Pn(l.firstChild)):se=c),xe(t,n,n.pendingProps.children,a),Ju(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&zt&&((c=l=se)&&(l=J0(l,n.type,n.pendingProps,Xn),l!==null?(n.stateNode=l,$e=n,se=Pn(l.firstChild),Xn=!1,c=!0):c=!1),c||er(n)),Ds(n),c=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,af(c,f)?l=null:p!==null&&af(c,p)&&(n.flags|=32),n.memoizedState!==null&&(c=nh(t,n,p0,null,null,a),Vl._currentValue=c),Ju(t,n),xe(t,n,l,a),n.child;case 6:return t===null&&zt&&((t=a=se)&&(a=W0(a,n.pendingProps,Xn),a!==null?(n.stateNode=a,$e=n,se=null,t=!0):t=!1),t||er(n)),null;case 13:return Cg(t,n,a);case 4:return Ht(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Zr(n,null,l,a):xe(t,n,l,a),n.child;case 11:return vg(t,n,n.type,n.pendingProps,a);case 7:return xe(t,n,n.pendingProps,a),n.child;case 8:return xe(t,n,n.pendingProps.children,a),n.child;case 12:return xe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Fi(n,n.type,l.value),xe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ir(n),c=qe(c),l=l(c),n.flags|=1,xe(t,n,l,a),n.child;case 14:return Eg(t,n,n.type,n.pendingProps,a);case 15:return Tg(t,n,n.type,n.pendingProps,a);case 19:return Vg(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=Wu(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=gi(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Ag(t,n,a);case 24:return ir(n),l=qe(Te),t===null?(c=Fc(),c===null&&(c=Wt,f=Qc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},Kc(n),Fi(n,Te,c)):((t.lanes&a)!==0&&(Zc(t,n),ll(n,null,null,a),sl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Fi(n,Te,l)):(l=f.cache,Fi(n,Te,l),l!==c.cache&&Gc(n,[Te],a,!0))),xe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Si(t){t.flags|=4}function Ig(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Bp(n)){if(n=bn.current,n!==null&&((Ot&4194048)===Ot?Kn!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||n!==Kn))throw al=Xc,mm;t.flags|=8192}}function to(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?xi():536870912,t.lanes|=n,ts|=n)}function ml(t,n){if(!zt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ie(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function R0(t,n,a){var l=n.pendingProps;switch(kc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),vi(Te),Dn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&($s(n)?Si(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,om())),ie(n),null;case 26:return a=n.memoizedState,t===null?(Si(n),a!==null?(ie(n),Ig(n,a)):(ie(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Si(n),ie(n),Ig(n,a)):(ie(n),n.flags&=-16777217):(t.memoizedProps!==l&&Si(n),ie(n),n.flags&=-16777217),null;case 27:vr(n),a=pt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Si(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ie(n),null}t=ut.current,$s(n)?lm(n):(t=Ip(c,l,a),n.stateNode=t,Si(n))}return ie(n),null;case 5:if(vr(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Si(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ie(n),null}if(t=ut.current,$s(n))lm(n);else{switch(c=mo(pt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}t[oe]=n,t[Me]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Le(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Si(n)}}return ie(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Si(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=pt.current,$s(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=$e,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[oe]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||bp(t.nodeValue,a)),t||er(n)}else t=mo(t).createTextNode(l),t[oe]=n,n.stateNode=t}return ie(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=$s(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[oe]=n}else Js(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),c=!1}else c=om(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ti(n),n):(Ti(n),null)}if(Ti(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),to(n,n.updateQueue),ie(n),null;case 4:return Dn(),t===null&&Jh(n.stateNode.containerInfo),ie(n),null;case 10:return vi(n.type),ie(n),null;case 19:if(nt(Ae),c=n.memoizedState,c===null)return ie(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)ml(c,!1);else{if(le!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Ku(t),f!==null){for(n.flags|=128,ml(c,!1),t=f.updateQueue,n.updateQueue=t,to(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)rm(a,t),a=a.sibling;return tt(Ae,Ae.current&1|2),n.child}t=t.sibling}c.tail!==null&&Je()>io&&(n.flags|=128,l=!0,ml(c,!1),n.lanes=4194304)}else{if(!l)if(t=Ku(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,to(n,t),ml(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!zt)return ie(n),null}else 2*Je()-c.renderingStartTime>io&&a!==536870912&&(n.flags|=128,l=!0,ml(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Je(),n.sibling=null,t=Ae.current,tt(Ae,l?t&1|2:t&1),n):(ie(n),null);case 22:case 23:return Ti(n),th(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),a=n.updateQueue,a!==null&&to(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&nt(ar),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),vi(Te),ie(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function w0(t,n){switch(kc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return vi(Te),Dn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return vr(n),null;case 13:if(Ti(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Js()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return nt(Ae),null;case 4:return Dn(),null;case 10:return vi(n.type),null;case 22:case 23:return Ti(n),th(),t!==null&&nt(ar),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return vi(Te),null;case 25:return null;default:return null}}function Og(t,n){switch(kc(n),n.tag){case 3:vi(Te),Dn();break;case 26:case 27:case 5:vr(n);break;case 4:Dn();break;case 13:Ti(n);break;case 19:nt(Ae);break;case 10:vi(n.type);break;case 22:case 23:Ti(n),th(),t!==null&&nt(ar);break;case 24:vi(Te)}}function gl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,p=a.inst;l=f(),p.destroy=l}a=a.next}while(a!==c)}}catch(E){Kt(n,n.return,E)}}function ta(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,c=n;var R=a,P=E;try{P()}catch(H){Kt(c,R,H)}}}l=l.next}while(l!==f)}}catch(H){Kt(n,n.return,H)}}function Mg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Em(n,a)}catch(l){Kt(t,t.return,l)}}}function xg(t,n,a){a.props=sr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Kt(t,n,l)}}function pl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Kt(t,n,c)}}function Zn(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Kt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Kt(t,n,c)}else a.current=null}function Ug(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Kt(t,t.return,c)}}function Dh(t,n,a){try{var l=t.stateNode;F0(l,t.type,a,n),l[Me]=n}catch(c){Kt(t,t.return,c)}}function Lg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ua(t.type)||t.tag===4}function Vh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Lg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ua(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=fo));else if(l!==4&&(l===27&&ua(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Nh(t,n,a),t=t.sibling;t!==null;)Nh(t,n,a),t=t.sibling}function eo(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&ua(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(eo(t,n,a),t=t.sibling;t!==null;)eo(t,n,a),t=t.sibling}function zg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Le(n,l,a),n[oe]=t,n[Me]=a}catch(f){Kt(t,t.return,f)}}var bi=!1,de=!1,Ih=!1,Pg=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function C0(t,n){if(t=t.containerInfo,ef=Eo,t=Kd(t),Vc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var p=0,E=-1,R=-1,P=0,H=0,Y=t,B=null;e:for(;;){for(var k;Y!==a||c!==0&&Y.nodeType!==3||(E=p+c),Y!==f||l!==0&&Y.nodeType!==3||(R=p+l),Y.nodeType===3&&(p+=Y.nodeValue.length),(k=Y.firstChild)!==null;)B=Y,Y=k;for(;;){if(Y===t)break e;if(B===a&&++P===c&&(E=p),B===f&&++H===l&&(R=p),(k=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=k}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(nf={focusedElem:t,selectionRange:a},Eo=!1,Ve=n;Ve!==null;)if(n=Ve,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ve=t;else for(;Ve!==null;){switch(n=Ve,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var yt=sr(a.type,c,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(yt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ht){Kt(a,a.return,ht)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)sf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":sf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Ve=t;break}Ve=n.return}}function Bg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ea(t,a),l&4&&gl(5,a);break;case 1:if(ea(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(p){Kt(a,a.return,p)}else{var c=sr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){Kt(a,a.return,p)}}l&64&&Mg(a),l&512&&pl(a,a.return);break;case 3:if(ea(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Em(t,n)}catch(p){Kt(a,a.return,p)}}break;case 27:n===null&&l&4&&zg(a);case 26:case 5:ea(t,a),n===null&&l&4&&Ug(a),l&512&&pl(a,a.return);break;case 12:ea(t,a);break;case 13:ea(t,a),l&4&&qg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=L0.bind(null,a),tE(t,a))));break;case 22:if(l=a.memoizedState!==null||bi,!l){n=n!==null&&n.memoizedState!==null||de,c=bi;var f=de;bi=l,(de=n)&&!f?na(t,a,(a.subtreeFlags&8772)!==0):ea(t,a),bi=c,de=f}break;case 30:break;default:ea(t,a)}}function kg(t){var n=t.alternate;n!==null&&(t.alternate=null,kg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&br(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ee=null,tn=!1;function Ri(t,n,a){for(a=a.child;a!==null;)jg(t,n,a),a=a.sibling}function jg(t,n,a){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(Ii,a)}catch{}switch(a.tag){case 26:de||Zn(a,n),Ri(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:de||Zn(a,n);var l=ee,c=tn;ua(a.type)&&(ee=a.stateNode,tn=!1),Ri(t,n,a),Rl(a.stateNode),ee=l,tn=c;break;case 5:de||Zn(a,n);case 6:if(l=ee,c=tn,ee=null,Ri(t,n,a),ee=l,tn=c,ee!==null)if(tn)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(a.stateNode)}catch(f){Kt(a,n,f)}else try{ee.removeChild(a.stateNode)}catch(f){Kt(a,n,f)}break;case 18:ee!==null&&(tn?(t=ee,Vp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ml(t)):Vp(ee,a.stateNode));break;case 4:l=ee,c=tn,ee=a.stateNode.containerInfo,tn=!0,Ri(t,n,a),ee=l,tn=c;break;case 0:case 11:case 14:case 15:de||ta(2,a,n),de||ta(4,a,n),Ri(t,n,a);break;case 1:de||(Zn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&xg(a,n,l)),Ri(t,n,a);break;case 21:Ri(t,n,a);break;case 22:de=(l=de)||a.memoizedState!==null,Ri(t,n,a),de=l;break;default:Ri(t,n,a)}}function qg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ml(t)}catch(a){Kt(n,n.return,a)}}function D0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Pg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Pg),n;default:throw Error(r(435,t.tag))}}function Oh(t,n){var a=D0(t);n.forEach(function(l){var c=z0.bind(null,t,l);a.has(l)||(a.add(l),l.then(c,c))})}function on(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(ua(E.type)){ee=E.stateNode,tn=!1;break t}break;case 5:ee=E.stateNode,tn=!1;break t;case 3:case 4:ee=E.stateNode.containerInfo,tn=!0;break t}E=E.return}if(ee===null)throw Error(r(160));jg(f,p,c),ee=null,tn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Hg(n,t),n=n.sibling}var zn=null;function Hg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(n,t),cn(t),l&4&&(ta(3,t,t.return),gl(3,t),ta(5,t,t.return));break;case 1:on(n,t),cn(t),l&512&&(de||a===null||Zn(a,a.return)),l&64&&bi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=zn;if(on(n,t),cn(t),l&512&&(de||a===null||Zn(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[zi]||f[oe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Le(f,l,a),f[oe]=t,ce(f),l=f;break t;case"link":var p=zp("link","href",c).get(l+(a.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(E,1);break e}}f=c.createElement(l),Le(f,l,a),c.head.appendChild(f);break;case"meta":if(p=zp("meta","content",c).get(l+(a.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(E,1);break e}}f=c.createElement(l),Le(f,l,a),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[oe]=t,ce(f),l=f}t.stateNode=l}else Pp(c,t.type,t.stateNode);else t.stateNode=Lp(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Pp(c,t.type,t.stateNode):Lp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Dh(t,t.memoizedProps,a.memoizedProps)}break;case 27:on(n,t),cn(t),l&512&&(de||a===null||Zn(a,a.return)),a!==null&&l&4&&Dh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(on(n,t),cn(t),l&512&&(de||a===null||Zn(a,a.return)),t.flags&32){c=t.stateNode;try{_n(c,"")}catch(k){Kt(t,t.return,k)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Dh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Ih=!0);break;case 6:if(on(n,t),cn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(k){Kt(t,t.return,k)}}break;case 3:if(yo=null,c=zn,zn=go(n.containerInfo),on(n,t),zn=c,cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ml(n.containerInfo)}catch(k){Kt(t,t.return,k)}Ih&&(Ih=!1,Gg(t));break;case 4:l=zn,zn=go(t.stateNode.containerInfo),on(n,t),cn(t),zn=l;break;case 12:on(n,t),cn(t);break;case 13:on(n,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ph=Je()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Oh(t,l)));break;case 22:c=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,P=bi,H=de;if(bi=P||c,de=H||R,on(n,t),de=H,bi=P,cn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||R||bi||de||lr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,c)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=R.stateNode;var Y=R.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(k){Kt(R,R.return,k)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(k){Kt(R,R.return,k)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Oh(t,a))));break;case 19:on(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Oh(t,l)));break;case 30:break;case 21:break;default:on(n,t),cn(t)}}function cn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Lg(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,f=Vh(t);eo(t,f,c);break;case 5:var p=a.stateNode;a.flags&32&&(_n(p,""),a.flags&=-33);var E=Vh(t);eo(t,E,p);break;case 3:case 4:var R=a.stateNode.containerInfo,P=Vh(t);Nh(t,P,R);break;default:throw Error(r(161))}}catch(H){Kt(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Gg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Gg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ea(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Bg(t,n.alternate,n),n=n.sibling}function lr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ta(4,n,n.return),lr(n);break;case 1:Zn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&xg(n,n.return,a),lr(n);break;case 27:Rl(n.stateNode);case 26:case 5:Zn(n,n.return),lr(n);break;case 22:n.memoizedState===null&&lr(n);break;case 30:lr(n);break;default:lr(n)}t=t.sibling}}function na(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:na(c,f,a),gl(4,f);break;case 1:if(na(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Kt(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)vm(R[c],E)}catch(P){Kt(l,l.return,P)}}a&&p&64&&Mg(f),pl(f,f.return);break;case 27:zg(f);case 26:case 5:na(c,f,a),a&&l===null&&p&4&&Ug(f),pl(f,f.return);break;case 12:na(c,f,a);break;case 13:na(c,f,a),a&&p&4&&qg(c,f);break;case 22:f.memoizedState===null&&na(c,f,a),pl(f,f.return);break;case 30:break;default:na(c,f,a)}n=n.sibling}}function Mh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&el(a))}function xh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&el(t))}function $n(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Qg(t,n,a,l),n=n.sibling}function Qg(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:$n(t,n,a,l),c&2048&&gl(9,n);break;case 1:$n(t,n,a,l);break;case 3:$n(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&el(t)));break;case 12:if(c&2048){$n(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Kt(n,n.return,R)}}else $n(t,n,a,l);break;case 13:$n(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?$n(t,n,a,l):yl(t,n):f._visibility&2?$n(t,n,a,l):(f._visibility|=2,$r(t,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&Mh(p,n);break;case 24:$n(t,n,a,l),c&2048&&xh(n.alternate,n);break;default:$n(t,n,a,l)}}function $r(t,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,p=n,E=a,R=l,P=p.flags;switch(p.tag){case 0:case 11:case 15:$r(f,p,E,R,c),gl(8,p);break;case 23:break;case 22:var H=p.stateNode;p.memoizedState!==null?H._visibility&2?$r(f,p,E,R,c):yl(f,p):(H._visibility|=2,$r(f,p,E,R,c)),c&&P&2048&&Mh(p.alternate,p);break;case 24:$r(f,p,E,R,c),c&&P&2048&&xh(p.alternate,p);break;default:$r(f,p,E,R,c)}n=n.sibling}}function yl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:yl(a,l),c&2048&&Mh(l.alternate,l);break;case 24:yl(a,l),c&2048&&xh(l.alternate,l);break;default:yl(a,l)}n=n.sibling}}var _l=8192;function Jr(t){if(t.subtreeFlags&_l)for(t=t.child;t!==null;)Yg(t),t=t.sibling}function Yg(t){switch(t.tag){case 26:Jr(t),t.flags&_l&&t.memoizedState!==null&&dE(zn,t.memoizedState,t.memoizedProps);break;case 5:Jr(t);break;case 3:case 4:var n=zn;zn=go(t.stateNode.containerInfo),Jr(t),zn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=_l,_l=16777216,Jr(t),_l=n):Jr(t));break;default:Jr(t)}}function Fg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function vl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ve=l,Kg(l,t)}Fg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Xg(t),t=t.sibling}function Xg(t){switch(t.tag){case 0:case 11:case 15:vl(t),t.flags&2048&&ta(9,t,t.return);break;case 3:vl(t);break;case 12:vl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,no(t)):vl(t);break;default:vl(t)}}function no(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ve=l,Kg(l,t)}Fg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ta(8,n,n.return),no(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,no(n));break;default:no(n)}t=t.sibling}}function Kg(t,n){for(;Ve!==null;){var a=Ve;switch(a.tag){case 0:case 11:case 15:ta(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:el(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ve=l;else t:for(a=t;Ve!==null;){l=Ve;var c=l.sibling,f=l.return;if(kg(l),l===a){Ve=null;break t}if(c!==null){c.return=f,Ve=c;break t}Ve=f}}}var V0={getCacheForType:function(t){var n=qe(Te),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},N0=typeof WeakMap=="function"?WeakMap:Map,jt=0,Wt=null,Ct=null,Ot=0,qt=0,hn=null,ia=!1,Wr=!1,Uh=!1,wi=0,le=0,aa=0,ur=0,Lh=0,Rn=0,ts=0,El=null,en=null,zh=!1,Ph=0,io=1/0,ao=null,ra=null,Ue=0,sa=null,es=null,ns=0,Bh=0,kh=null,Zg=null,Tl=0,jh=null;function fn(){if((jt&2)!==0&&Ot!==0)return Ot&-Ot;if(q.T!==null){var t=Hr;return t!==0?t:Xh()}return ui()}function $g(){Rn===0&&(Rn=(Ot&536870912)===0||zt?Is():536870912);var t=bn.current;return t!==null&&(t.flags|=32),Rn}function dn(t,n,a){(t===Wt&&(qt===2||qt===9)||t.cancelPendingCommit!==null)&&(is(t,0),la(t,Ot,Rn,!1)),ue(t,a),((jt&2)===0||t!==Wt)&&(t===Wt&&((jt&2)===0&&(ur|=a),le===4&&la(t,Ot,Rn,!1)),Jn(t))}function Jg(t,n,a){if((jt&6)!==0)throw Error(r(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Mi(t,n),c=l?M0(t,n):Gh(t,n,!0),f=l;do{if(c===0){Wr&&!l&&la(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!I0(a)){c=Gh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=t;c=El;var R=E.current.memoizedState.isDehydrated;if(R&&(is(E,p).flags|=256),p=Gh(E,p,!1),p!==2){if(Uh&&!R){E.errorRecoveryDisabledLanes|=f,ur|=f,c=4;break t}f=en,en=c,f!==null&&(en===null?en=f:en.push.apply(en,f))}c=p}if(f=!1,c!==2)continue}}if(c===1){is(t,0),la(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:la(l,n,Rn,!ia);break t;case 2:en=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=Ph+300-Je(),10<c)){if(la(l,n,Rn,!ia),pn(l,0,!0)!==0)break t;l.timeoutHandle=Cp(Wg.bind(null,l,a,en,ao,zh,n,Rn,ur,ts,ia,f,2,-0,0),c);break t}Wg(l,a,en,ao,zh,n,Rn,ur,ts,ia,f,0,-0,0)}}break}while(!0);Jn(t)}function Wg(t,n,a,l,c,f,p,E,R,P,H,Y,B,k){if(t.timeoutHandle=-1,Y=n.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(Dl={stylesheets:null,count:0,unsuspend:fE},Yg(n),Y=mE(),Y!==null)){t.cancelPendingCommit=Y(sp.bind(null,t,n,f,a,l,c,p,E,R,H,1,B,k)),la(t,f,p,!P);return}sp(t,n,f,a,l,c,p,E,R)}function I0(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!ln(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function la(t,n,a,l){n&=~Lh,n&=~ur,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Fe(c),p=1<<f;l[f]=-1,c&=~p}a!==0&&Ui(t,a,n)}function ro(){return(jt&6)===0?(Al(0),!1):!0}function qh(){if(Ct!==null){if(qt===0)var t=Ct.return;else t=Ct,_i=nr=null,rh(t),Kr=null,fl=0,t=Ct;for(;t!==null;)Og(t.alternate,t),t=t.return;Ct=null}}function is(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,K0(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),qh(),Wt=t,Ct=a=gi(t.current,null),Ot=n,qt=0,hn=null,ia=!1,Wr=Mi(t,n),Uh=!1,ts=Rn=Lh=ur=aa=le=0,en=El=null,zh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Fe(l),f=1<<c;n|=t[c],l&=~f}return wi=n,Cu(),a}function tp(t,n){Rt=null,q.H=Yu,n===il||n===Lu?(n=ym(),qt=3):n===mm?(n=ym(),qt=4):qt=n===_g?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,Ct===null&&(le=1,$u(t,En(n,t.current)))}function ep(){var t=q.H;return q.H=Yu,t===null?Yu:t}function np(){var t=q.A;return q.A=V0,t}function Hh(){le=4,ia||(Ot&4194048)!==Ot&&bn.current!==null||(Wr=!0),(aa&134217727)===0&&(ur&134217727)===0||Wt===null||la(Wt,Ot,Rn,!1)}function Gh(t,n,a){var l=jt;jt|=2;var c=ep(),f=np();(Wt!==t||Ot!==n)&&(ao=null,is(t,n)),n=!1;var p=le;t:do try{if(qt!==0&&Ct!==null){var E=Ct,R=hn;switch(qt){case 8:qh(),p=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(n=!0);var P=qt;if(qt=0,hn=null,as(t,E,R,P),a&&Wr){p=0;break t}break;default:P=qt,qt=0,hn=null,as(t,E,R,P)}}O0(),p=le;break}catch(H){tp(t,H)}while(!0);return n&&t.shellSuspendCounter++,_i=nr=null,jt=l,q.H=c,q.A=f,Ct===null&&(Wt=null,Ot=0,Cu()),p}function O0(){for(;Ct!==null;)ip(Ct)}function M0(t,n){var a=jt;jt|=2;var l=ep(),c=np();Wt!==t||Ot!==n?(ao=null,io=Je()+500,is(t,n)):Wr=Mi(t,n);t:do try{if(qt!==0&&Ct!==null){n=Ct;var f=hn;e:switch(qt){case 1:qt=0,hn=null,as(t,n,f,1);break;case 2:case 9:if(gm(f)){qt=0,hn=null,ap(n);break}n=function(){qt!==2&&qt!==9||Wt!==t||(qt=7),Jn(t)},f.then(n,n);break t;case 3:qt=7;break t;case 4:qt=5;break t;case 7:gm(f)?(qt=0,hn=null,ap(n)):(qt=0,hn=null,as(t,n,f,7));break;case 5:var p=null;switch(Ct.tag){case 26:p=Ct.memoizedState;case 5:case 27:var E=Ct;if(!p||Bp(p)){qt=0,hn=null;var R=E.sibling;if(R!==null)Ct=R;else{var P=E.return;P!==null?(Ct=P,so(P)):Ct=null}break e}}qt=0,hn=null,as(t,n,f,5);break;case 6:qt=0,hn=null,as(t,n,f,6);break;case 8:qh(),le=6;break t;default:throw Error(r(462))}}x0();break}catch(H){tp(t,H)}while(!0);return _i=nr=null,q.H=l,q.A=c,jt=a,Ct!==null?0:(Wt=null,Ot=0,Cu(),le)}function x0(){for(;Ct!==null&&!_c();)ip(Ct)}function ip(t){var n=Ng(t.alternate,t,wi);t.memoizedProps=t.pendingProps,n===null?so(t):Ct=n}function ap(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=bg(a,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=bg(a,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:rh(n);default:Og(a,n),n=Ct=rm(n,wi),n=Ng(a,n,wi)}t.memoizedProps=t.pendingProps,n===null?so(t):Ct=n}function as(t,n,a,l){_i=nr=null,rh(n),Kr=null,fl=0;var c=n.return;try{if(S0(t,c,n,a,Ot)){le=1,$u(t,En(a,t.current)),Ct=null;return}}catch(f){if(c!==null)throw Ct=c,f;le=1,$u(t,En(a,t.current)),Ct=null;return}n.flags&32768?(zt||l===1?t=!0:Wr||(Ot&536870912)!==0?t=!1:(ia=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),rp(n,t)):so(n)}function so(t){var n=t;do{if((n.flags&32768)!==0){rp(n,ia);return}t=n.return;var a=R0(n.alternate,n,wi);if(a!==null){Ct=a;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=t}while(n!==null);le===0&&(le=5)}function rp(t,n){do{var a=w0(t.alternate,t);if(a!==null){a.flags&=32767,Ct=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ct=t;return}Ct=t=a}while(t!==null);le=6,Ct=null}function sp(t,n,a,l,c,f,p,E,R){t.cancelPendingCommit=null;do lo();while(Ue!==0);if((jt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=xc,cu(t,a,f,p,E,R),t===Wt&&(Ct=Wt=null,Ot=0),es=n,sa=t,ns=a,Bh=f,kh=c,Zg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,P0(li,function(){return hp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,c=et.p,et.p=2,p=jt,jt|=4;try{C0(t,n,a)}finally{jt=p,et.p=c,q.T=l}}Ue=1,lp(),up(),op()}}function lp(){if(Ue===1){Ue=0;var t=sa,n=es,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var l=et.p;et.p=2;var c=jt;jt|=4;try{Hg(n,t);var f=nf,p=Kd(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Xd(E.ownerDocument.documentElement,E)){if(R!==null&&Vc(E)){var P=R.start,H=R.end;if(H===void 0&&(H=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(H,E.value.length);else{var Y=E.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var k=B.getSelection(),yt=E.textContent.length,ht=Math.min(R.start,yt),Ft=R.end===void 0?ht:Math.min(R.end,yt);!k.extend&&ht>Ft&&(p=Ft,Ft=ht,ht=p);var U=Fd(E,ht),N=Fd(E,Ft);if(U&&N&&(k.rangeCount!==1||k.anchorNode!==U.node||k.anchorOffset!==U.offset||k.focusNode!==N.node||k.focusOffset!==N.offset)){var L=Y.createRange();L.setStart(U.node,U.offset),k.removeAllRanges(),ht>Ft?(k.addRange(L),k.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),k.addRange(L))}}}}for(Y=[],k=E;k=k.parentNode;)k.nodeType===1&&Y.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Eo=!!ef,nf=ef=null}finally{jt=c,et.p=l,q.T=a}}t.current=n,Ue=2}}function up(){if(Ue===2){Ue=0;var t=sa,n=es,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var l=et.p;et.p=2;var c=jt;jt|=4;try{Bg(t,n.alternate,n)}finally{jt=c,et.p=l,q.T=a}}Ue=3}}function op(){if(Ue===4||Ue===3){Ue=0,Vs();var t=sa,n=es,a=ns,l=Zg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,es=sa=null,cp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ra=null),Ms(a),n=n.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(Ii,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=q.T,c=et.p,et.p=2,q.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var E=l[p];f(E.value,{componentStack:E.stack})}}finally{q.T=n,et.p=c}}(ns&3)!==0&&lo(),Jn(t),c=t.pendingLanes,(a&4194090)!==0&&(c&42)!==0?t===jh?Tl++:(Tl=0,jh=t):Tl=0,Al(0)}}function cp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,el(n)))}function lo(t){return lp(),up(),op(),hp()}function hp(){if(Ue!==5)return!1;var t=sa,n=Bh;Bh=0;var a=Ms(ns),l=q.T,c=et.p;try{et.p=32>a?32:a,q.T=null,a=kh,kh=null;var f=sa,p=ns;if(Ue=0,es=sa=null,ns=0,(jt&6)!==0)throw Error(r(331));var E=jt;if(jt|=4,Xg(f.current),Qg(f,f.current,p,a),jt=E,Al(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(Ii,f)}catch{}return!0}finally{et.p=c,q.T=l,cp(t,n)}}function fp(t,n,a){n=En(a,n),n=vh(t.stateNode,n,2),t=Zi(t,n,2),t!==null&&(ue(t,2),Jn(t))}function Kt(t,n,a){if(t.tag===3)fp(t,t,a);else for(;n!==null;){if(n.tag===3){fp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ra===null||!ra.has(l))){t=En(a,t),a=pg(2),l=Zi(n,a,2),l!==null&&(yg(a,l,n,t),ue(l,2),Jn(l));break}}n=n.return}}function Qh(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new N0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Uh=!0,c.add(a),t=U0.bind(null,t,n,a),n.then(t,t))}function U0(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Wt===t&&(Ot&a)===a&&(le===4||le===3&&(Ot&62914560)===Ot&&300>Je()-Ph?(jt&2)===0&&is(t,0):Lh|=a,ts===Ot&&(ts=0)),Jn(t)}function dp(t,n){n===0&&(n=xi()),t=Br(t,n),t!==null&&(ue(t,n),Jn(t))}function L0(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),dp(t,a)}function z0(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),dp(t,a)}function P0(t,n){return Ca(t,n)}var uo=null,rs=null,Yh=!1,oo=!1,Fh=!1,or=0;function Jn(t){t!==rs&&t.next===null&&(rs===null?uo=rs=t:rs=rs.next=t),oo=!0,Yh||(Yh=!0,k0())}function Al(t,n){if(!Fh&&oo){Fh=!0;do for(var a=!1,l=uo;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Fe(42|t)+1)-1,f&=c&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,yp(l,f))}else f=Ot,f=pn(l,l===Wt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Mi(l,f)||(a=!0,yp(l,f));l=l.next}while(a);Fh=!1}}function B0(){mp()}function mp(){oo=Yh=!1;var t=0;or!==0&&(X0()&&(t=or),or=0);for(var n=Je(),a=null,l=uo;l!==null;){var c=l.next,f=gp(l,n);f===0?(l.next=null,a===null?uo=c:a.next=c,c===null&&(rs=a)):(a=l,(t!==0||(f&3)!==0)&&(oo=!0)),l=c}Al(t)}function gp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-Fe(f),E=1<<p,R=c[p];R===-1?((E&a)===0||(E&l)!==0)&&(c[p]=Ar(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=Wt,a=Ot,a=pn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(qt===2||qt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Tr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Mi(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Tr(l),Ms(a)){case 2:case 8:a=we;break;case 32:a=li;break;case 268435456:a=Ns;break;default:a=li}return l=pp.bind(null,t),a=Ca(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Tr(l),t.callbackPriority=2,t.callbackNode=null,2}function pp(t,n){if(Ue!==0&&Ue!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(lo()&&t.callbackNode!==a)return null;var l=Ot;return l=pn(t,t===Wt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Jg(t,l,n),gp(t,Je()),t.callbackNode!=null&&t.callbackNode===a?pp.bind(null,t):null)}function yp(t,n){if(lo())return null;Jg(t,n,!0)}function k0(){Z0(function(){(jt&6)!==0?Ca(ve,B0):mp()})}function Xh(){return or===0&&(or=Is()),or}function _p(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:On(""+t)}function vp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function j0(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=_p((c[Me]||null).action),p=l.submitter;p&&(n=(n=p[Me]||null)?_p(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new qa("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(or!==0){var R=p?vp(c,p):new FormData(c);mh(a,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=p?vp(c,p):new FormData(c),mh(a,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var Kh=0;Kh<Mc.length;Kh++){var Zh=Mc[Kh],q0=Zh.toLowerCase(),H0=Zh[0].toUpperCase()+Zh.slice(1);Ln(q0,"on"+H0)}Ln(Jd,"onAnimationEnd"),Ln(Wd,"onAnimationIteration"),Ln(tm,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(s0,"onTransitionRun"),Ln(l0,"onTransitionStart"),Ln(u0,"onTransitionCancel"),Ln(em,"onTransitionEnd"),Gn("onMouseEnter",["mouseout","mouseover"]),Gn("onMouseLeave",["mouseout","mouseover"]),Gn("onPointerEnter",["pointerout","pointerover"]),Gn("onPointerLeave",["pointerout","pointerover"]),Hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sl));function Ep(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(H){Zu(H)}c.currentTarget=null,f=R}else for(p=0;p<l.length;p++){if(E=l[p],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(H){Zu(H)}c.currentTarget=null,f=R}}}}function Dt(t,n){var a=n[Va];a===void 0&&(a=n[Va]=new Set);var l=t+"__bubble";a.has(l)||(Tp(n,t,2,!1),a.add(l))}function $h(t,n,a){var l=0;n&&(l|=4),Tp(a,t,l,n)}var co="_reactListening"+Math.random().toString(36).slice(2);function Jh(t){if(!t[co]){t[co]=!0,hu.forEach(function(a){a!=="selectionchange"&&(G0.has(a)||$h(a,!1,t),$h(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[co]||(n[co]=!0,$h("selectionchange",!1,n))}}function Tp(t,n,a,l){switch(Qp(n)){case 2:var c=yE;break;case 8:c=_E;break;default:c=df}a=c.bind(null,n,a,t),c=void 0,!di||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function Wh(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===c)break;if(p===4)for(p=l.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;E!==null;){if(p=jn(E),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){l=f=p;continue t}E=E.parentNode}}l=l.return}Ba(function(){var P=f,H=ks(a),Y=[];t:{var B=nm.get(t);if(B!==void 0){var k=qa,yt=t;switch(t){case"keypress":if(ka(a)===0)break t;case"keydown":case"keyup":k=Ur;break;case"focusin":yt="focus",k=Or;break;case"focusout":yt="blur",k=Or;break;case"beforeblur":case"afterblur":k=Or;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Fa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Yi;break;case Jd:case Wd:case tm:k=qs;break;case em:k=m;break;case"scroll":case"scrollend":k=Ga;break;case"wheel":k=T;break;case"copy":case"cut":case"paste":k=Eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Qs;break;case"toggle":case"beforetoggle":k=j}var ht=(n&4)!==0,Ft=!ht&&(t==="scroll"||t==="scrollend"),U=ht?B!==null?B+"Capture":null:B;ht=[];for(var N=P,L;N!==null;){var Q=N;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||U===null||(Q=Gi(N,U),Q!=null&&ht.push(bl(N,Q,L))),Ft)break;N=N.return}0<ht.length&&(B=new k(B,yt,null,a,H),Y.push({event:B,listeners:ht}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",B&&a!==Bs&&(yt=a.relatedTarget||a.fromElement)&&(jn(yt)||yt[oi]))break t;if((k||B)&&(B=H.window===H?H:(B=H.ownerDocument)?B.defaultView||B.parentWindow:window,k?(yt=a.relatedTarget||a.toElement,k=P,yt=yt?jn(yt):null,yt!==null&&(Ft=h(yt),ht=yt.tag,yt!==Ft||ht!==5&&ht!==27&&ht!==6)&&(yt=null)):(k=null,yt=P),k!==yt)){if(ht=Fa,Q="onMouseLeave",U="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(ht=Qs,Q="onPointerLeave",U="onPointerEnter",N="pointer"),Ft=k==null?B:Pi(k),L=yt==null?B:Pi(yt),B=new ht(Q,N+"leave",k,a,H),B.target=Ft,B.relatedTarget=L,Q=null,jn(H)===P&&(ht=new ht(U,N+"enter",yt,a,H),ht.target=L,ht.relatedTarget=Ft,Q=ht),Ft=Q,k&&yt)e:{for(ht=k,U=yt,N=0,L=ht;L;L=ss(L))N++;for(L=0,Q=U;Q;Q=ss(Q))L++;for(;0<N-L;)ht=ss(ht),N--;for(;0<L-N;)U=ss(U),L--;for(;N--;){if(ht===U||U!==null&&ht===U.alternate)break e;ht=ss(ht),U=ss(U)}ht=null}else ht=null;k!==null&&Ap(Y,B,k,ht,!1),yt!==null&&Ft!==null&&Ap(Y,Ft,yt,ht,!0)}}t:{if(B=P?Pi(P):window,k=B.nodeName&&B.nodeName.toLowerCase(),k==="select"||k==="input"&&B.type==="file")var rt=jd;else if(Bd(B))if(qd)rt=i0;else{rt=e0;var wt=t0}else k=B.nodeName,!k||k.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&Vr(P.elementType)&&(rt=jd):rt=n0;if(rt&&(rt=rt(t,P))){kd(Y,rt,a,H);break t}wt&&wt(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&Ls(B,"number",B.value)}switch(wt=P?Pi(P):window,t){case"focusin":(Bd(wt)||wt.contentEditable==="true")&&(Lr=wt,Nc=P,Zs=null);break;case"focusout":Zs=Nc=Lr=null;break;case"mousedown":Ic=!0;break;case"contextmenu":case"mouseup":case"dragend":Ic=!1,Zd(Y,a,H);break;case"selectionchange":if(r0)break;case"keydown":case"keyup":Zd(Y,a,H)}var lt;if(vt)t:{switch(t){case"compositionstart":var mt="onCompositionStart";break t;case"compositionend":mt="onCompositionEnd";break t;case"compositionupdate":mt="onCompositionUpdate";break t}mt=void 0}else Un?Mn(t,a)&&(mt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(mt="onCompositionStart");mt&&(he&&a.locale!=="ko"&&(Un||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Un&&(lt=yu()):(vn=H,Jt="value"in vn?vn.value:vn.textContent,Un=!0)),wt=ho(P,mt),0<wt.length&&(mt=new Gs(mt,t,null,a,H),Y.push({event:mt,listeners:wt}),lt?mt.data=lt:(lt=xn(a),lt!==null&&(mt.data=lt)))),(lt=kt?Ys(t,a):$v(t,a))&&(mt=ho(P,"onBeforeInput"),0<mt.length&&(wt=new Gs("onBeforeInput","beforeinput",null,a,H),Y.push({event:wt,listeners:mt}),wt.data=lt)),j0(Y,t,P,a,H)}Ep(Y,n)})}function bl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function ho(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Gi(t,a),c!=null&&l.unshift(bl(t,c,f)),c=Gi(t,n),c!=null&&l.push(bl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function ss(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ap(t,n,a,l,c){for(var f=n._reactName,p=[];a!==null&&a!==l;){var E=a,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||P===null||(R=P,c?(P=Gi(a,f),P!=null&&p.unshift(bl(a,P,R))):c||(P=Gi(a,f),P!=null&&p.push(bl(a,P,R)))),a=a.return}p.length!==0&&t.push({event:n,listeners:p})}var Q0=/\r\n?/g,Y0=/\u0000|\uFFFD/g;function Sp(t){return(typeof t=="string"?t:""+t).replace(Q0,`
`).replace(Y0,"")}function bp(t,n){return n=Sp(n),Sp(t)===n}function fo(){}function Yt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||_n(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&_n(t,""+l);break;case"className":xa(t,"class",l);break;case"tabIndex":xa(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":xa(t,a,l);break;case"style":Ps(t,l,f);break;case"data":if(n!=="object"){xa(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=On(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=On(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=fo);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=On(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Dt("beforetoggle",t),Dt("toggle",t),Ma(t,"popover",l);break;case"xlinkActuate":yn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":yn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":yn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":yn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":yn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":yn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":yn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":yn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":yn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ma(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=mu.get(a)||a,Ma(t,a,l))}}function tf(t,n,a,l,c,f){switch(a){case"style":Ps(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?_n(t,l):(typeof l=="number"||typeof l=="bigint")&&_n(t,""+l);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=fo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ia.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[Me]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ma(t,a,l)}}}function Le(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",t),Dt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Yt(t,n,f,p,a,null)}}c&&Yt(t,n,"srcSet",a.srcSet,a,null),l&&Yt(t,n,"src",a.src,a,null);return;case"input":Dt("invalid",t);var E=f=p=c=null,R=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var H=a[l];if(H!=null)switch(l){case"name":c=H;break;case"type":p=H;break;case"checked":R=H;break;case"defaultChecked":P=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:Yt(t,n,l,H,a,null)}}Us(t,f,E,R,P,p,c,!1),ji(t);return;case"select":Dt("invalid",t),l=p=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:Yt(t,n,c,E,a,null)}n=f,a=p,t.multiple=!!l,n!=null?qi(t,!!l,n,!1):a!=null&&qi(t,!!l,a,!0);return;case"textarea":Dt("invalid",t),f=c=l=null;for(p in a)if(a.hasOwnProperty(p)&&(E=a[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Yt(t,n,p,E,a,null)}du(t,l,c,f),ji(t);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,R,l,a,null)}return;case"dialog":Dt("beforetoggle",t),Dt("toggle",t),Dt("cancel",t),Dt("close",t);break;case"iframe":case"object":Dt("load",t);break;case"video":case"audio":for(l=0;l<Sl.length;l++)Dt(Sl[l],t);break;case"image":Dt("error",t),Dt("load",t);break;case"details":Dt("toggle",t);break;case"embed":case"source":case"link":Dt("error",t),Dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Yt(t,n,P,l,a,null)}return;default:if(Vr(n)){for(H in a)a.hasOwnProperty(H)&&(l=a[H],l!==void 0&&tf(t,n,H,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Yt(t,n,E,l,a,null))}function F0(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,p=null,E=null,R=null,P=null,H=null;for(k in a){var Y=a[k];if(a.hasOwnProperty(k)&&Y!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":R=Y;default:l.hasOwnProperty(k)||Yt(t,n,k,null,l,Y)}}for(var B in l){var k=l[B];if(Y=a[B],l.hasOwnProperty(B)&&(k!=null||Y!=null))switch(B){case"type":f=k;break;case"name":c=k;break;case"checked":P=k;break;case"defaultChecked":H=k;break;case"value":p=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,n));break;default:k!==Y&&Yt(t,n,B,k,l,Y)}}xs(t,p,E,R,P,H,f,c);return;case"select":k=p=E=B=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":k=R;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,R)}for(c in l)if(f=l[c],R=a[c],l.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==R&&Yt(t,n,c,f,l,R)}n=E,a=p,l=k,B!=null?qi(t,!!a,B,!1):!!l!=!!a&&(n!=null?qi(t,!!a,n,!0):qi(t,!!a,a?[]:"",!1));return;case"textarea":k=B=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,c)}for(p in l)if(c=l[p],f=a[p],l.hasOwnProperty(p)&&(c!=null||f!=null))switch(p){case"value":B=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Yt(t,n,p,c,l,f)}fu(t,B,k);return;case"option":for(var yt in a)if(B=a[yt],a.hasOwnProperty(yt)&&B!=null&&!l.hasOwnProperty(yt))switch(yt){case"selected":t.selected=!1;break;default:Yt(t,n,yt,null,l,B)}for(R in l)if(B=l[R],k=a[R],l.hasOwnProperty(R)&&B!==k&&(B!=null||k!=null))switch(R){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Yt(t,n,R,B,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in a)B=a[ht],a.hasOwnProperty(ht)&&B!=null&&!l.hasOwnProperty(ht)&&Yt(t,n,ht,null,l,B);for(P in l)if(B=l[P],k=a[P],l.hasOwnProperty(P)&&B!==k&&(B!=null||k!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:Yt(t,n,P,B,l,k)}return;default:if(Vr(n)){for(var Ft in a)B=a[Ft],a.hasOwnProperty(Ft)&&B!==void 0&&!l.hasOwnProperty(Ft)&&tf(t,n,Ft,void 0,l,B);for(H in l)B=l[H],k=a[H],!l.hasOwnProperty(H)||B===k||B===void 0&&k===void 0||tf(t,n,H,B,l,k);return}}for(var U in a)B=a[U],a.hasOwnProperty(U)&&B!=null&&!l.hasOwnProperty(U)&&Yt(t,n,U,null,l,B);for(Y in l)B=l[Y],k=a[Y],!l.hasOwnProperty(Y)||B===k||B==null&&k==null||Yt(t,n,Y,B,l,k)}var ef=null,nf=null;function mo(t){return t.nodeType===9?t:t.ownerDocument}function Rp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function af(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var rf=null;function X0(){var t=window.event;return t&&t.type==="popstate"?t===rf?!1:(rf=t,!0):(rf=null,!1)}var Cp=typeof setTimeout=="function"?setTimeout:void 0,K0=typeof clearTimeout=="function"?clearTimeout:void 0,Dp=typeof Promise=="function"?Promise:void 0,Z0=typeof queueMicrotask=="function"?queueMicrotask:typeof Dp<"u"?function(t){return Dp.resolve(null).then(t).catch($0)}:Cp;function $0(t){setTimeout(function(){throw t})}function ua(t){return t==="head"}function Vp(t,n){var a=n,l=0,c=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var p=t.ownerDocument;if(a&1&&Rl(p.documentElement),a&2&&Rl(p.body),a&4)for(a=p.head,Rl(a),p=a.firstChild;p;){var E=p.nextSibling,R=p.nodeName;p[zi]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&p.rel.toLowerCase()==="stylesheet"||a.removeChild(p),p=E}}if(c===0){t.removeChild(f),Ml(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);Ml(n)}function sf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":sf(a),br(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function J0(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[zi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Pn(t.nextSibling),t===null)break}return null}function W0(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Pn(t.nextSibling),t===null))return null;return t}function lf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function tE(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Pn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var uf=null;function Np(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function Ip(t,n,a){switch(n=mo(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Rl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);br(t)}var wn=new Map,Op=new Set;function go(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ci=et.d;et.d={f:eE,r:nE,D:iE,C:aE,L:rE,m:sE,X:uE,S:lE,M:oE};function eE(){var t=Ci.f(),n=ro();return t||n}function nE(t){var n=qn(t);n!==null&&n.tag===5&&n.type==="form"?Jm(n):Ci.r(t)}var ls=typeof document>"u"?null:document;function Mp(t,n,a){var l=ls;if(l&&typeof n=="string"&&n){var c=Ce(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Op.has(c)||(Op.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Le(n,"link",t),ce(n),l.head.appendChild(n)))}}function iE(t){Ci.D(t),Mp("dns-prefetch",t,null)}function aE(t,n){Ci.C(t,n),Mp("preconnect",t,n)}function rE(t,n,a){Ci.L(t,n,a);var l=ls;if(l&&t&&n){var c='link[rel="preload"][as="'+Ce(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Ce(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Ce(a.imageSizes)+'"]')):c+='[href="'+Ce(t)+'"]';var f=c;switch(n){case"style":f=us(t);break;case"script":f=os(t)}wn.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),wn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(wl(f))||n==="script"&&l.querySelector(Cl(f))||(n=l.createElement("link"),Le(n,"link",t),ce(n),l.head.appendChild(n)))}}function sE(t,n){Ci.m(t,n);var a=ls;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Ce(l)+'"][href="'+Ce(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=os(t)}if(!wn.has(f)&&(t=A({rel:"modulepreload",href:t},n),wn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Cl(f)))return}l=a.createElement("link"),Le(l,"link",t),ce(l),a.head.appendChild(l)}}}function lE(t,n,a){Ci.S(t,n,a);var l=ls;if(l&&t){var c=Bi(l).hoistableStyles,f=us(t);n=n||"default";var p=c.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(wl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=wn.get(f))&&of(t,a);var R=p=l.createElement("link");ce(R),Le(R,"link",t),R._p=new Promise(function(P,H){R.onload=P,R.onerror=H}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,po(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},c.set(f,p)}}}function uE(t,n){Ci.X(t,n);var a=ls;if(a&&t){var l=Bi(a).hoistableScripts,c=os(t),f=l.get(c);f||(f=a.querySelector(Cl(c)),f||(t=A({src:t,async:!0},n),(n=wn.get(c))&&cf(t,n),f=a.createElement("script"),ce(f),Le(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function oE(t,n){Ci.M(t,n);var a=ls;if(a&&t){var l=Bi(a).hoistableScripts,c=os(t),f=l.get(c);f||(f=a.querySelector(Cl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=wn.get(c))&&cf(t,n),f=a.createElement("script"),ce(f),Le(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function xp(t,n,a,l){var c=(c=pt.current)?go(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=us(a.href),a=Bi(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=us(a.href);var f=Bi(c).hoistableStyles,p=f.get(t);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=c.querySelector(wl(t)))&&!f._p&&(p.instance=f,p.state.loading=5),wn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},wn.set(t,a),f||cE(c,t,a,p.state))),n&&l===null)throw Error(r(528,""));return p}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=os(a),a=Bi(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function us(t){return'href="'+Ce(t)+'"'}function wl(t){return'link[rel="stylesheet"]['+t+"]"}function Up(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function cE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Le(n,"link",a),ce(n),t.head.appendChild(n))}function os(t){return'[src="'+Ce(t)+'"]'}function Cl(t){return"script[async]"+t}function Lp(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Ce(a.href)+'"]');if(l)return n.instance=l,ce(l),l;var c=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ce(l),Le(l,"style",c),po(l,a.precedence,t),n.instance=l;case"stylesheet":c=us(a.href);var f=t.querySelector(wl(c));if(f)return n.state.loading|=4,n.instance=f,ce(f),f;l=Up(a),(c=wn.get(c))&&of(l,c),f=(t.ownerDocument||t).createElement("link"),ce(f);var p=f;return p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),Le(f,"link",l),n.state.loading|=4,po(f,a.precedence,t),n.instance=f;case"script":return f=os(a.src),(c=t.querySelector(Cl(f)))?(n.instance=c,ce(c),c):(l=a,(c=wn.get(f))&&(l=A({},a),cf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ce(c),Le(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,po(l,a.precedence,t));return n.instance}function po(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function of(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function cf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var yo=null;function zp(t,n,a){if(yo===null){var l=new Map,c=yo=new Map;c.set(a,l)}else c=yo,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[zi]||f[oe]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function Pp(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function hE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Bp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Dl=null;function fE(){}function dE(t,n,a){if(Dl===null)throw Error(r(475));var l=Dl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=us(a.href),f=t.querySelector(wl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=_o.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ce(f);return}f=t.ownerDocument||t,a=Up(a),(c=wn.get(c))&&of(a,c),f=f.createElement("link"),ce(f);var p=f;p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),Le(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=_o.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function mE(){if(Dl===null)throw Error(r(475));var t=Dl;return t.stylesheets&&t.count===0&&hf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&hf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function _o(){if(this.count--,this.count===0){if(this.stylesheets)hf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var vo=null;function hf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,vo=new Map,n.forEach(gE,t),vo=null,_o.call(t))}function gE(t,n){if(!(n.state.loading&4)){var a=vo.get(t);if(a)var l=a.get(null);else{a=new Map,vo.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var p=c[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),l=p)}l&&a.set(null,l)}c=n.instance,p=c.getAttribute("data-precedence"),f=a.get(p)||l,f===l&&a.set(null,c),a.set(p,c),this.count++,l=_o.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Vl={$$typeof:ft,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function pE(t,n,a,l,c,f,p,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sr(0),this.hiddenUpdates=Sr(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function kp(t,n,a,l,c,f,p,E,R,P,H,Y){return t=new pE(t,n,a,p,E,R,P,Y),n=1,f===!0&&(n|=24),f=un(3,null,null,n),t.current=f,f.stateNode=t,n=Qc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},Kc(f),t}function jp(t){return t?(t=kr,t):kr}function qp(t,n,a,l,c,f){c=jp(c),l.context===null?l.context=c:l.pendingContext=c,l=Ki(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Zi(t,l,n),a!==null&&(dn(a,t,n),rl(a,t,n))}function Hp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function ff(t,n){Hp(t,n),(t=t.alternate)&&Hp(t,n)}function Gp(t){if(t.tag===13){var n=Br(t,67108864);n!==null&&dn(n,t,67108864),ff(t,67108864)}}var Eo=!0;function yE(t,n,a,l){var c=q.T;q.T=null;var f=et.p;try{et.p=2,df(t,n,a,l)}finally{et.p=f,q.T=c}}function _E(t,n,a,l){var c=q.T;q.T=null;var f=et.p;try{et.p=8,df(t,n,a,l)}finally{et.p=f,q.T=c}}function df(t,n,a,l){if(Eo){var c=mf(l);if(c===null)Wh(t,n,l,To,a),Yp(t,l);else if(EE(c,t,n,a,l))l.stopPropagation();else if(Yp(t,l),n&4&&-1<vE.indexOf(t)){for(;c!==null;){var f=qn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Vn(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var R=1<<31-Fe(p);E.entanglements[1]|=R,p&=~R}Jn(f),(jt&6)===0&&(io=Je()+500,Al(0))}}break;case 13:E=Br(f,2),E!==null&&dn(E,f,2),ro(),ff(f,2)}if(f=mf(l),f===null&&Wh(t,n,l,To,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else Wh(t,n,l,null,a)}}function mf(t){return t=ks(t),gf(t)}var To=null;function gf(t){if(To=null,t=jn(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return To=t,null}function Qp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lu()){case ve:return 2;case we:return 8;case li:case vc:return 32;case Ns:return 268435456;default:return 32}default:return 32}}var pf=!1,oa=null,ca=null,ha=null,Nl=new Map,Il=new Map,fa=[],vE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yp(t,n){switch(t){case"focusin":case"focusout":oa=null;break;case"dragenter":case"dragleave":ca=null;break;case"mouseover":case"mouseout":ha=null;break;case"pointerover":case"pointerout":Nl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(n.pointerId)}}function Ol(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=qn(n),n!==null&&Gp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function EE(t,n,a,l,c){switch(n){case"focusin":return oa=Ol(oa,t,n,a,l,c),!0;case"dragenter":return ca=Ol(ca,t,n,a,l,c),!0;case"mouseover":return ha=Ol(ha,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Nl.set(f,Ol(Nl.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Il.set(f,Ol(Il.get(f)||null,t,n,a,l,c)),!0}return!1}function Fp(t){var n=jn(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Ac(t.priority,function(){if(a.tag===13){var l=fn();l=Os(l);var c=Br(a,l);c!==null&&dn(c,a,l),ff(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ao(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=mf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Bs=l,a.target.dispatchEvent(l),Bs=null}else return n=qn(a),n!==null&&Gp(n),t.blockedOn=a,!1;n.shift()}return!0}function Xp(t,n,a){Ao(t)&&a.delete(n)}function TE(){pf=!1,oa!==null&&Ao(oa)&&(oa=null),ca!==null&&Ao(ca)&&(ca=null),ha!==null&&Ao(ha)&&(ha=null),Nl.forEach(Xp),Il.forEach(Xp)}function So(t,n){t.blockedOn===n&&(t.blockedOn=null,pf||(pf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,TE)))}var bo=null;function Kp(t){bo!==t&&(bo=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){bo===t&&(bo=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(gf(l||a)===null)continue;break}var f=qn(a);f!==null&&(t.splice(n,3),n-=3,mh(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Ml(t){function n(R){return So(R,t)}oa!==null&&So(oa,t),ca!==null&&So(ca,t),ha!==null&&So(ha,t),Nl.forEach(n),Il.forEach(n);for(var a=0;a<fa.length;a++){var l=fa[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<fa.length&&(a=fa[0],a.blockedOn===null);)Fp(a),a.blockedOn===null&&fa.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],p=c[Me]||null;if(typeof f=="function")p||Kp(a);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,p=f[Me]||null)E=p.formAction;else if(gf(c)!==null)continue}else E=p.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),Kp(a)}}}function yf(t){this._internalRoot=t}Ro.prototype.render=yf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=fn();qp(a,l,t,n,null,null)},Ro.prototype.unmount=yf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;qp(t.current,2,null,t,null,null),ro(),n[oi]=null}};function Ro(t){this._internalRoot=t}Ro.prototype.unstable_scheduleHydration=function(t){if(t){var n=ui();t={blockedOn:null,target:t,priority:n};for(var a=0;a<fa.length&&n!==0&&n<fa[a].priority;a++);fa.splice(a,0,t),a===0&&Fp(t)}};var Zp=e.version;if(Zp!=="19.1.1")throw Error(r(527,Zp,"19.1.1"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var AE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wo.isDisabled&&wo.supportsFiber)try{Ii=wo.inject(AE),ke=wo}catch{}}return Ul.createRoot=function(t,n){if(!u(t))throw Error(r(299));var a=!1,l="",c=fg,f=dg,p=mg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=kp(t,1,!1,null,null,a,l,c,f,p,E,null),t[oi]=n.current,Jh(t),new yf(n)},Ul.hydrateRoot=function(t,n,a){if(!u(t))throw Error(r(299));var l=!1,c="",f=fg,p=dg,E=mg,R=null,P=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(P=a.formState)),n=kp(t,1,!0,n,a??null,l,c,f,p,E,R,P),n.context=jp(null),a=n.current,l=fn(),l=Os(l),c=Ki(l),c.callback=null,Zi(a,c,l),a=l,n.current.lanes=a,ue(n,a),Jn(n),t[oi]=n.current,Jh(t),new Ro(n)},Ul.version="19.1.1",Ul}var sy;function OE(){if(sy)return Ef.exports;sy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ef.exports=IE(),Ef.exports}var ME=OE();const ly=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36],xE={0:"green",1:"red",2:"black",3:"red",4:"black",5:"red",6:"black",7:"red",8:"black",9:"red",10:"black",11:"black",12:"red",13:"black",14:"red",15:"black",16:"red",17:"black",18:"red",19:"red",20:"black",21:"red",22:"black",23:"red",24:"black",25:"red",26:"black",27:"red",28:"black",29:"black",30:"red",31:"black",32:"red",33:"black",34:"red",35:"black",36:"red"},UE=36,LE=9e3,tc=s=>xE[s]||"black",Co=s=>{const e=tc(s);return e==="red"?"bg-red-600 hover:bg-red-700":e==="black"?"bg-gray-900 hover:bg-black":"bg-green-600 hover:bg-green-700"},zE=s=>{const e=tc(s);return e==="red"?"text-red-600":e==="black"?"text-black":"text-green-600"},PE=()=>ly[Math.floor(Math.random()*ly.length)],BE=(s,e,i,r)=>{let u=0;if(s[i]&&(u+=s[i]*r),i!==0){const h=tc(i),d=i%2===0;h==="red"&&e.red&&(u+=e.red*2),h==="black"&&e.black&&(u+=e.black*2),d&&e.even&&(u+=e.even*2),!d&&e.odd&&(u+=e.odd*2)}return u},kE=({onStart:s})=>{const[e,i]=nn.useState("1000000"),r=()=>{const u=parseFloat(e);u>0&&s(u)};return J.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-900 to-green-700 flex items-center justify-center p-4",children:J.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 max-w-md w-full",children:[J.jsx("h1",{className:"text-3xl font-bold text-center mb-6 text-green-800",children:"Ruleta Argentina"}),J.jsx("p",{className:"text-center text-gray-600 mb-6",children:"37 nmeros (0-36)"}),J.jsxs("div",{className:"mb-6",children:[J.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Capital Inicial (ARS)"}),J.jsxs("div",{className:"relative",children:[J.jsx("span",{className:"absolute left-3 top-3 text-gray-500",children:"$"}),J.jsx("input",{type:"number",value:e,onChange:u=>i(u.target.value),className:"w-full pl-8 pr-4 py-3 border-2 border-gray-300 rounded-lg focus:border-green-500 focus:outline-none",placeholder:"10000",min:"1"})]})]}),J.jsx("button",{onClick:r,className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 rounded-lg transition",children:"Comenzar"})]})})},jE=({balance:s,betAmount:e,onBetChange:i,totalBet:r})=>J.jsxs("div",{className:"bg-gray-800 text-white p-4 rounded-lg mb-4",children:[J.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[J.jsxs("div",{className:"text-center",children:[J.jsx("div",{className:"text-sm text-gray-400",children:"Balance"}),J.jsxs("div",{className:"text-xl font-bold",children:["$",s.toLocaleString()]})]}),J.jsxs("div",{className:"text-center",children:[J.jsx("div",{className:"text-sm text-gray-400",children:"Apostado"}),J.jsxs("div",{className:"text-xl font-bold text-yellow-400",children:["$",r.toLocaleString()]})]}),J.jsxs("div",{className:"text-center",children:[J.jsx("div",{className:"text-sm text-gray-400",children:"Disponible"}),J.jsxs("div",{className:"text-xl font-bold text-green-400",children:["$",(s-r).toLocaleString()]})]})]}),J.jsxs("div",{children:[J.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Monto por ficha (ARS)"}),J.jsx("input",{type:"number",value:e,onChange:u=>i(parseFloat(u.target.value)||0),className:"w-full bg-gray-700 text-white px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-green-500",min:"1"})]})]}),qE=({result:s,won:e,winAmount:i})=>s===null?null:J.jsxs("div",{className:`mt-4 p-4 rounded-lg text-center ${e?"bg-green-100":"bg-red-100"}`,children:[J.jsxs("div",{className:"text-2xl font-bold mb-2",children:["Resultado: ",J.jsx("span",{className:zE(s),children:s})]}),e?J.jsxs("div",{className:"text-green-700 font-bold text-xl",children:["Ganaste $",i.toLocaleString(),"!"]}):J.jsx("div",{className:"text-red-700 font-bold",children:"Perdiste esta ronda"})]}),HE=({bets:s,specialBets:e,onBet:i,onSpecialBet:r})=>{const u=[3,6,9,12,15,18,21,24,27,30,33,36],h=[2,5,8,11,14,17,20,23,26,29,32,35],d=[1,4,7,10,13,16,19,22,25,28,31,34];return J.jsxs("div",{className:"bg-green-800 p-4 rounded-lg",children:[J.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[J.jsxs("button",{onClick:()=>r("red"),className:"bg-red-600 hover:bg-red-700 text-white font-bold py-3 rounded relative transition",children:["ROJO",e.red&&e.red>0&&J.jsxs("span",{className:"absolute top-1 right-1 bg-yellow-400 text-black text-xs px-2 py-1 rounded",children:["$",e.red]})]}),J.jsxs("button",{onClick:()=>r("black"),className:"bg-gray-900 hover:bg-black text-white font-bold py-3 rounded relative transition",children:["NEGRO",e.black&&e.black>0&&J.jsxs("span",{className:"absolute top-1 right-1 bg-yellow-400 text-black text-xs px-2 py-1 rounded",children:["$",e.black]})]}),J.jsxs("button",{onClick:()=>r("even"),className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded relative transition",children:["PAR",e.even&&e.even>0&&J.jsxs("span",{className:"absolute top-1 right-1 bg-yellow-400 text-black text-xs px-2 py-1 rounded",children:["$",e.even]})]}),J.jsxs("button",{onClick:()=>r("odd"),className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 rounded relative transition",children:["IMPAR",e.odd&&e.odd>0&&J.jsxs("span",{className:"absolute top-1 right-1 bg-yellow-400 text-black text-xs px-2 py-1 rounded",children:["$",e.odd]})]})]}),J.jsxs("div",{className:"flex gap-1",children:[J.jsx("div",{className:"flex items-stretch",children:J.jsxs("button",{onClick:()=>i(0),className:`${Co(0)} text-white font-bold px-4 rounded relative transition w-16`,children:[J.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:J.jsx("span",{className:"text-2xl",children:"0"})}),s[0]>0&&J.jsxs("span",{className:"absolute top-1 right-1 bg-yellow-400 text-black text-xs px-2 py-1 rounded",children:["$",s[0]]})]})}),J.jsxs("div",{className:"flex-1",children:[J.jsx("div",{className:"grid grid-cols-12 gap-1 mb-1",children:u.map(y=>J.jsxs("button",{onClick:()=>i(y),className:`${Co(y)} text-white text-sm font-bold py-3 rounded relative transition`,children:[y,s[y]>0&&J.jsxs("span",{className:"absolute -top-1 -right-1 bg-yellow-400 text-black text-xs px-1 rounded",children:["$",s[y]]})]},y))}),J.jsx("div",{className:"grid grid-cols-12 gap-1 mb-1",children:h.map(y=>J.jsxs("button",{onClick:()=>i(y),className:`${Co(y)} text-white text-sm font-bold py-3 rounded relative transition`,children:[y,s[y]>0&&J.jsxs("span",{className:"absolute -top-1 -right-1 bg-yellow-400 text-black text-xs px-1 rounded",children:["$",s[y]]})]},y))}),J.jsx("div",{className:"grid grid-cols-12 gap-1",children:d.map(y=>J.jsxs("button",{onClick:()=>i(y),className:`${Co(y)} text-white text-sm font-bold py-3 rounded relative transition`,children:[y,s[y]>0&&J.jsxs("span",{className:"absolute -top-1 -right-1 bg-yellow-400 text-black text-xs px-1 rounded",children:["$",s[y]]})]},y))})]})]})]})},GE=({onSpin:s,onClear:e,spinning:i,canSpin:r})=>J.jsxs("div",{className:"flex gap-4 mt-4",children:[J.jsx("button",{onClick:s,disabled:i||!r,className:`flex-1 ${i||!r?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"} text-white font-bold py-3 rounded-lg transition`,children:i?"Girando...":"Girar Ruleta"}),J.jsx("button",{onClick:e,disabled:i,className:"flex-1 bg-red-600 hover:bg-red-700 disabled:bg-gray-400 text-white font-bold py-3 rounded-lg transition",children:"Limpiar Apuestas"})]}),QE=({history:s})=>J.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 mb-4",children:[J.jsx("h3",{className:"text-white text-sm font-semibold mb-2 text-center",children:"Historial"}),J.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",style:{scrollbarWidth:"thin"},children:s.length===0?J.jsx("p",{className:"text-gray-400 text-sm text-center w-full",children:"No hay tiradas an"}):s.map((e,i)=>{const r=tc(e),u=r==="red"?"bg-red-600":r==="black"?"bg-gray-900":"bg-green-600";return J.jsx("div",{className:`${u} text-white font-bold rounded-full w-10 h-10 flex items-center justify-center flex-shrink-0 shadow-lg`,children:e},i)})})]}),YE=()=>{};var uy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let u=s.charCodeAt(r);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},FE=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const u=s[i++];if(u<128)e[r++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[i++];e[r++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[i++],d=s[i++],y=s[i++],v=((u&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],d=s[i++];e[r++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},g_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let u=0;u<s.length;u+=3){const h=s[u],d=u+1<s.length,y=d?s[u+1]:0,v=u+2<s.length,_=v?s[u+2]:0,A=h>>2,D=(h&3)<<4|y>>4;let x=(y&15)<<2|_>>6,G=_&63;v||(G=64,d||(x=64)),r.push(i[A],i[D],i[x],i[G])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(m_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):FE(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let u=0;u<s.length;){const h=i[s.charAt(u++)],y=u<s.length?i[s.charAt(u)]:0;++u;const _=u<s.length?i[s.charAt(u)]:64;++u;const D=u<s.length?i[s.charAt(u)]:64;if(++u,h==null||y==null||_==null||D==null)throw new XE;const x=h<<2|y>>4;if(r.push(x),_!==64){const G=y<<4&240|_>>2;if(r.push(G),D!==64){const W=_<<6&192|D;r.push(W)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class XE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KE=function(s){const e=m_(s);return g_.encodeByteArray(e,!0)},Bo=function(s){return KE(s).replace(/\./g,"")},ZE=function(s){try{return g_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=()=>$E().__FIREBASE_DEFAULTS__,WE=()=>{if(typeof process>"u"||typeof uy>"u")return;const s=uy.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},tT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&ZE(s[1]);return e&&JSON.parse(e)},nd=()=>{try{return YE()||JE()||WE()||tT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},eT=s=>nd()?.emulatorHosts?.[s],nT=s=>{const e=eT(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},p_=()=>nd()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function aT(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Bo(JSON.stringify(i)),Bo(JSON.stringify(d)),""].join(".")}const kl={};function sT(){const s={prod:[],emulator:[]};for(const e of Object.keys(kl))kl[e]?s.emulator.push(e):s.prod.push(e);return s}function lT(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let oy=!1;function uT(s,e){if(typeof window>"u"||typeof document>"u"||!id(window.location.host)||kl[s]===e||kl[s]||oy)return;kl[s]=e;function i(x){return`__firebase__banner__${x}`}const r="__firebase__banner",h=sT().prod.length>0;function d(){const x=document.getElementById(r);x&&x.remove()}function y(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function v(x,G){x.setAttribute("width","24"),x.setAttribute("id",G),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function _(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{oy=!0,d()},x}function A(x,G){x.setAttribute("id",G),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function D(){const x=lT(r),G=i("text"),W=document.getElementById(G)||document.createElement("span"),it=i("learnmore"),Z=document.getElementById(it)||document.createElement("a"),At=i("preprendIcon"),Tt=document.getElementById(At)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const ft=x.element;y(ft),A(Z,it);const Bt=_();v(Tt,At),ft.append(Tt,W,Z,Bt),document.body.appendChild(ft)}h?(W.innerText="Preview backend disconnected.",Tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",D):D()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cT(){const s=nd()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hT(){return!cT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fT(){try{return typeof indexedDB=="object"}catch{return!1}}function dT(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(r);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{e(u.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="FirebaseError";class Ss extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=mT,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,y_.prototype.create)}}class y_{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?gT(h,r):"Error",y=`${this.serviceName}: ${d} (${u}).`;return new Ss(u,y,r)}}function gT(s,e){return s.replace(pT,(i,r)=>{const u=e[r];return u!=null?String(u):`<${r}?>`})}const pT=/\{\$([^}]+)}/g;function Yl(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const u of i){if(!r.includes(u))return!1;const h=s[u],d=e[u];if(cy(h)&&cy(d)){if(!Yl(h,d))return!1}else if(h!==d)return!1}for(const u of r)if(!i.includes(u))return!1;return!0}function cy(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(s){return s&&s._delegate?s._delegate:s}class Fl{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new iT;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&r.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(r)return null;throw u}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vT(e))try{this.getOrInitializeService({instanceIdentifier:cr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});r.resolve(h)}catch{}}}}clearInstance(e=cr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=cr){return this.instances.has(e)}getOptions(e=cr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);r===y&&d.resolve(u)}return u}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),u=this.onInitCallbacks.get(r)??new Set;u.add(e),this.onInitCallbacks.set(r,u);const h=this.instances.get(r);return h&&e(h,r),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const u of r)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_T(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=cr){return this.component?this.component.multipleInstances?e:cr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _T(s){return s===cr?void 0:s}function vT(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new yT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(xt||(xt={}));const TT={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},AT=xt.INFO,ST={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},bT=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),u=ST[e];if(u)console[u](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class __{constructor(e){this.name=e,this._logLevel=AT,this._logHandler=bT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...e),this._logHandler(this,xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...e),this._logHandler(this,xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...e),this._logHandler(this,xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...e),this._logHandler(this,xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...e),this._logHandler(this,xt.ERROR,...e)}}const RT=(s,e)=>e.some(i=>s instanceof i);let hy,fy;function wT(){return hy||(hy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CT(){return fy||(fy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const v_=new WeakMap,Mf=new WeakMap,E_=new WeakMap,bf=new WeakMap,ad=new WeakMap;function DT(s){const e=new Promise((i,r)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(ga(s.result)),u()},d=()=>{r(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&v_.set(i,s)}).catch(()=>{}),ad.set(e,s),e}function VT(s){if(Mf.has(s))return;const e=new Promise((i,r)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Mf.set(s,e)}let xf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Mf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||E_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ga(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function NT(s){xf=s(xf)}function IT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Rf(this),e,...i);return E_.set(r,e.sort?e.sort():[e]),ga(r)}:CT().includes(s)?function(...e){return s.apply(Rf(this),e),ga(v_.get(this))}:function(...e){return ga(s.apply(Rf(this),e))}}function OT(s){return typeof s=="function"?IT(s):(s instanceof IDBTransaction&&VT(s),RT(s,wT())?new Proxy(s,xf):s)}function ga(s){if(s instanceof IDBRequest)return DT(s);if(bf.has(s))return bf.get(s);const e=OT(s);return e!==s&&(bf.set(s,e),ad.set(e,s)),e}const Rf=s=>ad.get(s);function MT(s,e,{blocked:i,upgrade:r,blocking:u,terminated:h}={}){const d=indexedDB.open(s,e),y=ga(d);return r&&d.addEventListener("upgradeneeded",v=>{r(ga(d.result),v.oldVersion,v.newVersion,ga(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{h&&v.addEventListener("close",()=>h()),u&&v.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const xT=["get","getKey","getAll","getAllKeys","count"],UT=["put","add","delete","clear"],wf=new Map;function dy(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(wf.get(e))return wf.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,u=UT.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(u||xT.includes(i)))return;const h=async function(d,...y){const v=this.transaction(d,u?"readwrite":"readonly");let _=v.store;return r&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),u&&v.done]))[0]};return wf.set(e,h),h}NT(s=>({...s,get:(e,i,r)=>dy(e,i)||s.get(e,i,r),has:(e,i)=>!!dy(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(zT(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function zT(s){return s.getComponent()?.type==="VERSION"}const Uf="@firebase/app",my="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new __("@firebase/app"),PT="@firebase/app-compat",BT="@firebase/analytics-compat",kT="@firebase/analytics",jT="@firebase/app-check-compat",qT="@firebase/app-check",HT="@firebase/auth",GT="@firebase/auth-compat",QT="@firebase/database",YT="@firebase/data-connect",FT="@firebase/database-compat",XT="@firebase/functions",KT="@firebase/functions-compat",ZT="@firebase/installations",$T="@firebase/installations-compat",JT="@firebase/messaging",WT="@firebase/messaging-compat",t1="@firebase/performance",e1="@firebase/performance-compat",n1="@firebase/remote-config",i1="@firebase/remote-config-compat",a1="@firebase/storage",r1="@firebase/storage-compat",s1="@firebase/firestore",l1="@firebase/ai",u1="@firebase/firestore-compat",o1="firebase",c1="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="[DEFAULT]",h1={[Uf]:"fire-core",[PT]:"fire-core-compat",[kT]:"fire-analytics",[BT]:"fire-analytics-compat",[qT]:"fire-app-check",[jT]:"fire-app-check-compat",[HT]:"fire-auth",[GT]:"fire-auth-compat",[QT]:"fire-rtdb",[YT]:"fire-data-connect",[FT]:"fire-rtdb-compat",[XT]:"fire-fn",[KT]:"fire-fn-compat",[ZT]:"fire-iid",[$T]:"fire-iid-compat",[JT]:"fire-fcm",[WT]:"fire-fcm-compat",[t1]:"fire-perf",[e1]:"fire-perf-compat",[n1]:"fire-rc",[i1]:"fire-rc-compat",[a1]:"fire-gcs",[r1]:"fire-gcs-compat",[s1]:"fire-fst",[u1]:"fire-fst-compat",[l1]:"fire-vertex","fire-js":"fire-js",[o1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=new Map,f1=new Map,zf=new Map;function gy(s,e){try{s.container.addComponent(e)}catch(i){Di.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function jo(s){const e=s.name;if(zf.has(e))return Di.debug(`There were multiple attempts to register component ${e}.`),!1;zf.set(e,s);for(const i of ko.values())gy(i,s);for(const i of f1.values())gy(i,s);return!0}function d1(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function m1(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pa=new y_("app","Firebase",g1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=c1;function T_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:Lf,automaticDataCollectionEnabled:!0,...e},u=r.name;if(typeof u!="string"||!u)throw pa.create("bad-app-name",{appName:String(u)});if(i||(i=p_()),!i)throw pa.create("no-options");const h=ko.get(u);if(h){if(Yl(i,h.options)&&Yl(r,h.config))return h;throw pa.create("duplicate-app",{appName:u})}const d=new ET(u);for(const v of zf.values())d.addComponent(v);const y=new p1(i,r,d);return ko.set(u,y),y}function _1(s=Lf){const e=ko.get(s);if(!e&&s===Lf&&p_())return T_();if(!e)throw pa.create("no-app",{appName:s});return e}function ms(s,e,i){let r=h1[s]??s;i&&(r+=`-${i}`);const u=r.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${r}" with version "${e}":`];u&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Di.warn(d.join(" "));return}jo(new Fl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="firebase-heartbeat-database",E1=1,Xl="firebase-heartbeat-store";let Cf=null;function A_(){return Cf||(Cf=MT(v1,E1,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Xl)}catch(i){console.warn(i)}}}}).catch(s=>{throw pa.create("idb-open",{originalErrorMessage:s.message})})),Cf}async function T1(s){try{const i=(await A_()).transaction(Xl),r=await i.objectStore(Xl).get(S_(s));return await i.done,r}catch(e){if(e instanceof Ss)Di.warn(e.message);else{const i=pa.create("idb-get",{originalErrorMessage:e?.message});Di.warn(i.message)}}}async function py(s,e){try{const r=(await A_()).transaction(Xl,"readwrite");await r.objectStore(Xl).put(e,S_(s)),await r.done}catch(i){if(i instanceof Ss)Di.warn(i.message);else{const r=pa.create("idb-set",{originalErrorMessage:i?.message});Di.warn(r.message)}}}function S_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=1024,S1=30;class b1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new w1(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=yy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(u=>u.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>S1){const u=C1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Di.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=yy(),{heartbeatsToSend:i,unsentEntries:r}=R1(this._heartbeatsCache.heartbeats),u=Bo(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return Di.warn(e),""}}}function yy(){return new Date().toISOString().substring(0,10)}function R1(s,e=A1){const i=[];let r=s.slice();for(const u of s){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),_y(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),_y(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class w1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fT()?dT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await T1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return py(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return py(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function _y(s){return Bo(JSON.stringify({version:2,heartbeats:s})).length}function C1(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(s){jo(new Fl("platform-logger",e=>new LT(e),"PRIVATE")),jo(new Fl("heartbeat",e=>new b1(e),"PRIVATE")),ms(Uf,my,s),ms(Uf,my,"esm2020"),ms("fire-js","")}D1("");var vy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ya,b_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,b){function w(){}w.prototype=b.prototype,I.F=b.prototype,I.prototype=new w,I.prototype.constructor=I,I.D=function(M,V,O){for(var S=Array(arguments.length-2),$t=2;$t<arguments.length;$t++)S[$t-2]=arguments[$t];return b.prototype[V].apply(M,S)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(I,b,w){w||(w=0);const M=Array(16);if(typeof b=="string")for(var V=0;V<16;++V)M[V]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(V=0;V<16;++V)M[V]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=I.g[0],w=I.g[1],V=I.g[2];let O=I.g[3],S;S=b+(O^w&(V^O))+M[0]+3614090360&4294967295,b=w+(S<<7&4294967295|S>>>25),S=O+(V^b&(w^V))+M[1]+3905402710&4294967295,O=b+(S<<12&4294967295|S>>>20),S=V+(w^O&(b^w))+M[2]+606105819&4294967295,V=O+(S<<17&4294967295|S>>>15),S=w+(b^V&(O^b))+M[3]+3250441966&4294967295,w=V+(S<<22&4294967295|S>>>10),S=b+(O^w&(V^O))+M[4]+4118548399&4294967295,b=w+(S<<7&4294967295|S>>>25),S=O+(V^b&(w^V))+M[5]+1200080426&4294967295,O=b+(S<<12&4294967295|S>>>20),S=V+(w^O&(b^w))+M[6]+2821735955&4294967295,V=O+(S<<17&4294967295|S>>>15),S=w+(b^V&(O^b))+M[7]+4249261313&4294967295,w=V+(S<<22&4294967295|S>>>10),S=b+(O^w&(V^O))+M[8]+1770035416&4294967295,b=w+(S<<7&4294967295|S>>>25),S=O+(V^b&(w^V))+M[9]+2336552879&4294967295,O=b+(S<<12&4294967295|S>>>20),S=V+(w^O&(b^w))+M[10]+4294925233&4294967295,V=O+(S<<17&4294967295|S>>>15),S=w+(b^V&(O^b))+M[11]+2304563134&4294967295,w=V+(S<<22&4294967295|S>>>10),S=b+(O^w&(V^O))+M[12]+1804603682&4294967295,b=w+(S<<7&4294967295|S>>>25),S=O+(V^b&(w^V))+M[13]+4254626195&4294967295,O=b+(S<<12&4294967295|S>>>20),S=V+(w^O&(b^w))+M[14]+2792965006&4294967295,V=O+(S<<17&4294967295|S>>>15),S=w+(b^V&(O^b))+M[15]+1236535329&4294967295,w=V+(S<<22&4294967295|S>>>10),S=b+(V^O&(w^V))+M[1]+4129170786&4294967295,b=w+(S<<5&4294967295|S>>>27),S=O+(w^V&(b^w))+M[6]+3225465664&4294967295,O=b+(S<<9&4294967295|S>>>23),S=V+(b^w&(O^b))+M[11]+643717713&4294967295,V=O+(S<<14&4294967295|S>>>18),S=w+(O^b&(V^O))+M[0]+3921069994&4294967295,w=V+(S<<20&4294967295|S>>>12),S=b+(V^O&(w^V))+M[5]+3593408605&4294967295,b=w+(S<<5&4294967295|S>>>27),S=O+(w^V&(b^w))+M[10]+38016083&4294967295,O=b+(S<<9&4294967295|S>>>23),S=V+(b^w&(O^b))+M[15]+3634488961&4294967295,V=O+(S<<14&4294967295|S>>>18),S=w+(O^b&(V^O))+M[4]+3889429448&4294967295,w=V+(S<<20&4294967295|S>>>12),S=b+(V^O&(w^V))+M[9]+568446438&4294967295,b=w+(S<<5&4294967295|S>>>27),S=O+(w^V&(b^w))+M[14]+3275163606&4294967295,O=b+(S<<9&4294967295|S>>>23),S=V+(b^w&(O^b))+M[3]+4107603335&4294967295,V=O+(S<<14&4294967295|S>>>18),S=w+(O^b&(V^O))+M[8]+1163531501&4294967295,w=V+(S<<20&4294967295|S>>>12),S=b+(V^O&(w^V))+M[13]+2850285829&4294967295,b=w+(S<<5&4294967295|S>>>27),S=O+(w^V&(b^w))+M[2]+4243563512&4294967295,O=b+(S<<9&4294967295|S>>>23),S=V+(b^w&(O^b))+M[7]+1735328473&4294967295,V=O+(S<<14&4294967295|S>>>18),S=w+(O^b&(V^O))+M[12]+2368359562&4294967295,w=V+(S<<20&4294967295|S>>>12),S=b+(w^V^O)+M[5]+4294588738&4294967295,b=w+(S<<4&4294967295|S>>>28),S=O+(b^w^V)+M[8]+2272392833&4294967295,O=b+(S<<11&4294967295|S>>>21),S=V+(O^b^w)+M[11]+1839030562&4294967295,V=O+(S<<16&4294967295|S>>>16),S=w+(V^O^b)+M[14]+4259657740&4294967295,w=V+(S<<23&4294967295|S>>>9),S=b+(w^V^O)+M[1]+2763975236&4294967295,b=w+(S<<4&4294967295|S>>>28),S=O+(b^w^V)+M[4]+1272893353&4294967295,O=b+(S<<11&4294967295|S>>>21),S=V+(O^b^w)+M[7]+4139469664&4294967295,V=O+(S<<16&4294967295|S>>>16),S=w+(V^O^b)+M[10]+3200236656&4294967295,w=V+(S<<23&4294967295|S>>>9),S=b+(w^V^O)+M[13]+681279174&4294967295,b=w+(S<<4&4294967295|S>>>28),S=O+(b^w^V)+M[0]+3936430074&4294967295,O=b+(S<<11&4294967295|S>>>21),S=V+(O^b^w)+M[3]+3572445317&4294967295,V=O+(S<<16&4294967295|S>>>16),S=w+(V^O^b)+M[6]+76029189&4294967295,w=V+(S<<23&4294967295|S>>>9),S=b+(w^V^O)+M[9]+3654602809&4294967295,b=w+(S<<4&4294967295|S>>>28),S=O+(b^w^V)+M[12]+3873151461&4294967295,O=b+(S<<11&4294967295|S>>>21),S=V+(O^b^w)+M[15]+530742520&4294967295,V=O+(S<<16&4294967295|S>>>16),S=w+(V^O^b)+M[2]+3299628645&4294967295,w=V+(S<<23&4294967295|S>>>9),S=b+(V^(w|~O))+M[0]+4096336452&4294967295,b=w+(S<<6&4294967295|S>>>26),S=O+(w^(b|~V))+M[7]+1126891415&4294967295,O=b+(S<<10&4294967295|S>>>22),S=V+(b^(O|~w))+M[14]+2878612391&4294967295,V=O+(S<<15&4294967295|S>>>17),S=w+(O^(V|~b))+M[5]+4237533241&4294967295,w=V+(S<<21&4294967295|S>>>11),S=b+(V^(w|~O))+M[12]+1700485571&4294967295,b=w+(S<<6&4294967295|S>>>26),S=O+(w^(b|~V))+M[3]+2399980690&4294967295,O=b+(S<<10&4294967295|S>>>22),S=V+(b^(O|~w))+M[10]+4293915773&4294967295,V=O+(S<<15&4294967295|S>>>17),S=w+(O^(V|~b))+M[1]+2240044497&4294967295,w=V+(S<<21&4294967295|S>>>11),S=b+(V^(w|~O))+M[8]+1873313359&4294967295,b=w+(S<<6&4294967295|S>>>26),S=O+(w^(b|~V))+M[15]+4264355552&4294967295,O=b+(S<<10&4294967295|S>>>22),S=V+(b^(O|~w))+M[6]+2734768916&4294967295,V=O+(S<<15&4294967295|S>>>17),S=w+(O^(V|~b))+M[13]+1309151649&4294967295,w=V+(S<<21&4294967295|S>>>11),S=b+(V^(w|~O))+M[4]+4149444226&4294967295,b=w+(S<<6&4294967295|S>>>26),S=O+(w^(b|~V))+M[11]+3174756917&4294967295,O=b+(S<<10&4294967295|S>>>22),S=V+(b^(O|~w))+M[2]+718787259&4294967295,V=O+(S<<15&4294967295|S>>>17),S=w+(O^(V|~b))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(V+(S<<21&4294967295|S>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+O&4294967295}r.prototype.v=function(I,b){b===void 0&&(b=I.length);const w=b-this.blockSize,M=this.C;let V=this.h,O=0;for(;O<b;){if(V==0)for(;O<=w;)u(this,I,O),O+=this.blockSize;if(typeof I=="string"){for(;O<b;)if(M[V++]=I.charCodeAt(O++),V==this.blockSize){u(this,M),V=0;break}}else for(;O<b;)if(M[V++]=I[O++],V==this.blockSize){u(this,M),V=0;break}}this.h=V,this.o+=b},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;b=this.o*8;for(var w=I.length-8;w<I.length;++w)I[w]=b&255,b/=256;for(this.v(I),I=Array(16),b=0,w=0;w<4;++w)for(let M=0;M<32;M+=8)I[b++]=this.g[w]>>>M&255;return I};function h(I,b){var w=y;return Object.prototype.hasOwnProperty.call(w,I)?w[I]:w[I]=b(I)}function d(I,b){this.h=b;const w=[];let M=!0;for(let V=I.length-1;V>=0;V--){const O=I[V]|0;M&&O==b||(w[V]=O,M=!1)}this.g=w}var y={};function v(I){return-128<=I&&I<128?h(I,function(b){return new d([b|0],b<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return D;if(I<0)return Z(_(-I));const b=[];let w=1;for(let M=0;I>=w;M++)b[M]=I/w|0,w*=4294967296;return new d(b,0)}function A(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return Z(A(I.substring(1),b));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=_(Math.pow(b,8));let M=D;for(let O=0;O<I.length;O+=8){var V=Math.min(8,I.length-O);const S=parseInt(I.substring(O,O+V),b);V<8?(V=_(Math.pow(b,V)),M=M.j(V).add(_(S))):(M=M.j(w),M=M.add(_(S)))}return M}var D=v(0),x=v(1),G=v(16777216);s=d.prototype,s.m=function(){if(it(this))return-Z(this).m();let I=0,b=1;for(let w=0;w<this.g.length;w++){const M=this.i(w);I+=(M>=0?M:4294967296+M)*b,b*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(W(this))return"0";if(it(this))return"-"+Z(this).toString(I);const b=_(Math.pow(I,6));var w=this;let M="";for(;;){const V=Bt(w,b).g;w=At(w,V.j(b));let O=((w.g.length>0?w.g[0]:w.h)>>>0).toString(I);if(w=V,W(w))return O+M;for(;O.length<6;)O="0"+O;M=O+M}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function W(I){if(I.h!=0)return!1;for(let b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function it(I){return I.h==-1}s.l=function(I){return I=At(this,I),it(I)?-1:W(I)?0:1};function Z(I){const b=I.g.length,w=[];for(let M=0;M<b;M++)w[M]=~I.g[M];return new d(w,~I.h).add(x)}s.abs=function(){return it(this)?Z(this):this},s.add=function(I){const b=Math.max(this.g.length,I.g.length),w=[];let M=0;for(let V=0;V<=b;V++){let O=M+(this.i(V)&65535)+(I.i(V)&65535),S=(O>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);M=S>>>16,O&=65535,S&=65535,w[V]=S<<16|O}return new d(w,w[w.length-1]&-2147483648?-1:0)};function At(I,b){return I.add(Z(b))}s.j=function(I){if(W(this)||W(I))return D;if(it(this))return it(I)?Z(this).j(Z(I)):Z(Z(this).j(I));if(it(I))return Z(this.j(Z(I)));if(this.l(G)<0&&I.l(G)<0)return _(this.m()*I.m());const b=this.g.length+I.g.length,w=[];for(var M=0;M<2*b;M++)w[M]=0;for(M=0;M<this.g.length;M++)for(let V=0;V<I.g.length;V++){const O=this.i(M)>>>16,S=this.i(M)&65535,$t=I.i(V)>>>16,Xt=I.i(V)&65535;w[2*M+2*V]+=S*Xt,Tt(w,2*M+2*V),w[2*M+2*V+1]+=O*Xt,Tt(w,2*M+2*V+1),w[2*M+2*V+1]+=S*$t,Tt(w,2*M+2*V+1),w[2*M+2*V+2]+=O*$t,Tt(w,2*M+2*V+2)}for(I=0;I<b;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=b;I<2*b;I++)w[I]=0;return new d(w,0)};function Tt(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function ft(I,b){this.g=I,this.h=b}function Bt(I,b){if(W(b))throw Error("division by zero");if(W(I))return new ft(D,D);if(it(I))return b=Bt(Z(I),b),new ft(Z(b.g),Z(b.h));if(it(b))return b=Bt(I,Z(b)),new ft(Z(b.g),b.h);if(I.g.length>30){if(it(I)||it(b))throw Error("slowDivide_ only works with positive integers.");for(var w=x,M=b;M.l(I)<=0;)w=dt(w),M=dt(M);var V=bt(w,1),O=bt(M,1);for(M=bt(M,2),w=bt(w,2);!W(M);){var S=O.add(M);S.l(I)<=0&&(V=V.add(w),O=S),M=bt(M,1),w=bt(w,1)}return b=At(I,V.j(b)),new ft(V,b)}for(V=D;I.l(b)>=0;){for(w=Math.max(1,Math.floor(I.m()/b.m())),M=Math.ceil(Math.log(w)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),O=_(w),S=O.j(b);it(S)||S.l(I)>0;)w-=M,O=_(w),S=O.j(b);W(O)&&(O=x),V=V.add(O),I=At(I,S)}return new ft(V,I)}s.B=function(I){return Bt(this,I).h},s.and=function(I){const b=Math.max(this.g.length,I.g.length),w=[];for(let M=0;M<b;M++)w[M]=this.i(M)&I.i(M);return new d(w,this.h&I.h)},s.or=function(I){const b=Math.max(this.g.length,I.g.length),w=[];for(let M=0;M<b;M++)w[M]=this.i(M)|I.i(M);return new d(w,this.h|I.h)},s.xor=function(I){const b=Math.max(this.g.length,I.g.length),w=[];for(let M=0;M<b;M++)w[M]=this.i(M)^I.i(M);return new d(w,this.h^I.h)};function dt(I){const b=I.g.length+1,w=[];for(let M=0;M<b;M++)w[M]=I.i(M)<<1|I.i(M-1)>>>31;return new d(w,I.h)}function bt(I,b){const w=b>>5;b%=32;const M=I.g.length-w,V=[];for(let O=0;O<M;O++)V[O]=b>0?I.i(O+w)>>>b|I.i(O+w+1)<<32-b:I.i(O+w);return new d(V,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,b_=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,ya=d}).apply(typeof vy<"u"?vy:typeof self<"u"?self:typeof window<"u"?window:{});var Do=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var R_,Ll,w_,Mo,Pf,C_,D_,V_;(function(){var s,e=Object.defineProperty;function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Do=="object"&&Do];for(var m=0;m<o.length;++m){var g=o[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=i(this);function u(o,m){if(m)t:{var g=r;o=o.split(".");for(var T=0;T<o.length-1;T++){var z=o[T];if(!(z in g))break t;g=g[z]}o=o[o.length-1],T=g[o],m=m(T),m!=T&&m!=null&&e(g,o,{configurable:!0,writable:!0,value:m})}}u("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),u("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),u("Object.entries",function(o){return o||function(m){var g=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&g.push([T,m[T]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function y(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function v(o,m,g){return o.call.apply(o.bind,arguments)}function _(o,m,g){return _=v,_.apply(null,arguments)}function A(o,m){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function D(o,m){function g(){}g.prototype=m.prototype,o.Z=m.prototype,o.prototype=new g,o.prototype.constructor=o,o.Ob=function(T,z,j){for(var $=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)$[vt-2]=arguments[vt];return m.prototype[z].apply(T,$)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function G(o){const m=o.length;if(m>0){const g=Array(m);for(let T=0;T<m;T++)g[T]=o[T];return g}return[]}function W(o,m){for(let T=1;T<arguments.length;T++){const z=arguments[T];var g=typeof z;if(g=g!="object"?g:z?Array.isArray(z)?"array":g:"null",g=="array"||g=="object"&&typeof z.length=="number"){g=o.length||0;const j=z.length||0;o.length=g+j;for(let $=0;$<j;$++)o[g+$]=z[$]}else o.push(z)}}class it{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(o){d.setTimeout(()=>{throw o},0)}function At(){var o=I;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class Tt{constructor(){this.h=this.g=null}add(m,g){const T=ft.get();T.set(m,g),this.h?this.h.next=T:this.g=T,this.h=T}}var ft=new it(()=>new Bt,o=>o.reset());class Bt{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let dt,bt=!1,I=new Tt,b=()=>{const o=Promise.resolve(void 0);dt=()=>{o.then(w)}};function w(){for(var o;o=At();){try{o.h.call(o.g)}catch(g){Z(g)}var m=ft;m.j(o),m.h<100&&(m.h++,o.next=m.g,m.g=o)}bt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const g=()=>{};d.addEventListener("test",g,m),d.removeEventListener("test",g,m)}catch{}return o})();function S(o){return/^[\s\xa0]*$/.test(o)}function $t(o,m){V.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,m)}D($t,V),$t.prototype.init=function(o,m){const g=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget,m||(g=="mouseover"?m=o.fromElement:g=="mouseout"&&(m=o.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&$t.Z.h.call(this)},$t.prototype.h=function(){$t.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Xt="closure_listenable_"+(Math.random()*1e6|0),q=0;function et(o,m,g,T,z){this.listener=o,this.proxy=null,this.src=m,this.type=g,this.capture=!!T,this.ha=z,this.key=++q,this.da=this.fa=!1}function ot(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Ut(o,m,g){for(const T in o)m.call(g,o[T],T,o)}function C(o,m){for(const g in o)m.call(void 0,o[g],g,o)}function X(o){const m={};for(const g in o)m[g]=o[g];return m}const nt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(o,m){let g,T;for(let z=1;z<arguments.length;z++){T=arguments[z];for(g in T)o[g]=T[g];for(let j=0;j<nt.length;j++)g=nt[j],Object.prototype.hasOwnProperty.call(T,g)&&(o[g]=T[g])}}function ut(o){this.src=o,this.g={},this.h=0}ut.prototype.add=function(o,m,g,T,z){const j=o.toString();o=this.g[j],o||(o=this.g[j]=[],this.h++);const $=pt(o,m,T,z);return $>-1?(m=o[$],g||(m.fa=!1)):(m=new et(m,this.src,j,!!T,z),m.fa=g,o.push(m)),m};function Vt(o,m){const g=m.type;if(g in o.g){var T=o.g[g],z=Array.prototype.indexOf.call(T,m,void 0),j;(j=z>=0)&&Array.prototype.splice.call(T,z,1),j&&(ot(m),o.g[g].length==0&&(delete o.g[g],o.h--))}}function pt(o,m,g,T){for(let z=0;z<o.length;++z){const j=o[z];if(!j.da&&j.listener==m&&j.capture==!!g&&j.ha==T)return z}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),Ht={};function Dn(o,m,g,T,z){if(Array.isArray(m)){for(let j=0;j<m.length;j++)Dn(o,m[j],g,T,z);return null}return g=lu(g),o&&o[Xt]?o.J(m,g,y(T)?!!T.capture:!1,z):Ds(o,m,g,!1,T,z)}function Ds(o,m,g,T,z,j){if(!m)throw Error("Invalid event type");const $=y(z)?!!z.capture:!!z;let vt=Vs(o);if(vt||(o[Oe]=vt=new ut(o)),g=vt.add(m,g,T,$,j),g.proxy)return g;if(T=vr(),g.proxy=T,T.src=o,T.listener=g,o.addEventListener)O||(z=$),z===void 0&&(z=!1),o.addEventListener(m.toString(),T,z);else if(o.attachEvent)o.attachEvent(Tr(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function vr(){function o(g){return m.call(o.src,o.listener,g)}const m=_c;return o}function Er(o,m,g,T,z){if(Array.isArray(m))for(var j=0;j<m.length;j++)Er(o,m[j],g,T,z);else T=y(T)?!!T.capture:!!T,g=lu(g),o&&o[Xt]?(o=o.i,j=String(m).toString(),j in o.g&&(m=o.g[j],g=pt(m,g,T,z),g>-1&&(ot(m[g]),Array.prototype.splice.call(m,g,1),m.length==0&&(delete o.g[j],o.h--)))):o&&(o=Vs(o))&&(m=o.g[m.toString()],o=-1,m&&(o=pt(m,g,T,z)),(g=o>-1?m[o]:null)&&Ca(g))}function Ca(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[Xt])Vt(m.i,o);else{var g=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(g,T,o.capture):m.detachEvent?m.detachEvent(Tr(g),T):m.addListener&&m.removeListener&&m.removeListener(T),(g=Vs(m))?(Vt(g,o),g.h==0&&(g.src=null,m[Oe]=null)):ot(o)}}}function Tr(o){return o in Ht?Ht[o]:Ht[o]="on"+o}function _c(o,m){if(o.da)o=!0;else{m=new $t(m,this);const g=o.listener,T=o.ha||o.src;o.fa&&Ca(o),o=g.call(T,m)}return o}function Vs(o){return o=o[Oe],o instanceof ut?o:null}var Je="__closure_events_fn_"+(Math.random()*1e9>>>0);function lu(o){return typeof o=="function"?o:(o[Je]||(o[Je]=function(m){return o.handleEvent(m)}),o[Je])}function ve(){M.call(this),this.i=new ut(this),this.M=this,this.G=null}D(ve,M),ve.prototype[Xt]=!0,ve.prototype.removeEventListener=function(o,m,g,T){Er(this,o,m,g,T)};function we(o,m){var g,T=o.G;if(T)for(g=[];T;T=T.G)g.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new V(m,o);else if(m instanceof V)m.target=m.target||o;else{var z=m;m=new V(T,o),tt(m,z)}z=!0;let j,$;if(g)for($=g.length-1;$>=0;$--)j=m.g=g[$],z=li(j,T,!0,m)&&z;if(j=m.g=o,z=li(j,T,!0,m)&&z,z=li(j,T,!1,m)&&z,g)for($=0;$<g.length;$++)j=m.g=g[$],z=li(j,T,!1,m)&&z}ve.prototype.N=function(){if(ve.Z.N.call(this),this.i){var o=this.i;for(const m in o.g){const g=o.g[m];for(let T=0;T<g.length;T++)ot(g[T]);delete o.g[m],o.h--}}this.G=null},ve.prototype.J=function(o,m,g,T){return this.i.add(String(o),m,!1,g,T)},ve.prototype.K=function(o,m,g,T){return this.i.add(String(o),m,!0,g,T)};function li(o,m,g,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();let z=!0;for(let j=0;j<m.length;++j){const $=m[j];if($&&!$.da&&$.capture==g){const vt=$.listener,te=$.ha||$.src;$.fa&&Vt(o.i,$),z=vt.call(te,T)!==!1&&z}}return z&&!T.defaultPrevented}function vc(o,m){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=_(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(o,m||0)}function Ns(o){o.g=vc(()=>{o.g=null,o.i&&(o.i=!1,Ns(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class Ec extends M{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ns(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Da(o){M.call(this),this.h=o,this.g={}}D(Da,M);var Ii=[];function ke(o){Ut(o.g,function(m,g){this.g.hasOwnProperty(g)&&Ca(m)},o),o.g={}}Da.prototype.N=function(){Da.Z.N.call(this),ke(this)},Da.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gn=d.JSON.stringify,Fe=d.JSON.parse,Tc=class{stringify(o){return d.JSON.stringify(o,void 0)}parse(o){return d.JSON.parse(o,void 0)}};function uu(){}function ou(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Oi(){V.call(this,"d")}D(Oi,V);function Vn(){V.call(this,"c")}D(Vn,V);var pn={},Mi=null;function Ar(){return Mi=Mi||new ve}pn.Ia="serverreachability";function Is(o){V.call(this,pn.Ia,o)}D(Is,V);function xi(o){const m=Ar();we(m,new Is(m))}pn.STAT_EVENT="statevent";function Sr(o,m){V.call(this,pn.STAT_EVENT,o),this.stat=m}D(Sr,V);function ue(o){const m=Ar();we(m,new Sr(m,o))}pn.Ja="timingevent";function cu(o,m){V.call(this,pn.Ja,o),this.size=m}D(cu,V);function Ui(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){o()},m)}function Li(){this.g=!0}Li.prototype.ua=function(){this.g=!1};function Os(o,m,g,T,z,j){o.info(function(){if(o.g)if(j){var $="",vt=j.split("&");for(let kt=0;kt<vt.length;kt++){var te=vt[kt].split("=");if(te.length>1){const he=te[0];te=te[1];const sn=he.split("_");$=sn.length>=2&&sn[1]=="type"?$+(he+"="+te+"&"):$+(he+"=redacted&")}}}else $=null;else $=j;return"XMLHTTP REQ ("+T+") [attempt "+z+"]: "+m+`
`+g+`
`+$})}function Ms(o,m,g,T,z,j,$){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+z+"]: "+m+`
`+g+`
`+j+" "+$})}function ui(o,m,g,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+kn(o,g)+(T?" "+T:"")})}function Ac(o,m){o.info(function(){return"TIMEOUT: "+m})}Li.prototype.info=function(){};function kn(o,m){if(!o.g)return m;if(!m)return null;try{const j=JSON.parse(m);if(j){for(o=0;o<j.length;o++)if(Array.isArray(j[o])){var g=j[o];if(!(g.length<2)){var T=g[1];if(Array.isArray(T)&&!(T.length<1)){var z=T[0];if(z!="noop"&&z!="stop"&&z!="close")for(let $=1;$<T.length;$++)T[$]=""}}}}return gn(j)}catch{return m}}var oe={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Me={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},oi;function Va(){}D(Va,uu),Va.prototype.g=function(){return new XMLHttpRequest},oi=new Va;function Na(o){return encodeURIComponent(String(o))}function Sc(o){var m=1;o=o.split(":");const g=[];for(;m>0&&o.length;)g.push(o.shift()),m--;return o.length&&g.push(o.join(":")),g}function Nn(o,m,g,T){this.j=o,this.i=m,this.l=g,this.S=T||1,this.V=new Da(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zi}function zi(){this.i=null,this.g="",this.h=!1}var br={},jn={};function qn(o,m,g){o.M=1,o.A=hi(ne(m)),o.u=g,o.R=!0,Pi(o,null)}function Pi(o,m){o.F=Date.now(),Ia(o),o.B=ne(o.A);var g=o.B,T=o.S;Array.isArray(T)||(T=[String(T)]),mu(g.i,"t",T),o.C=0,g=o.j.L,o.h=new zi,o.g=xr(o.j,g?m:null,!o.u),o.P>0&&(o.O=new Ec(_(o.Y,o,o.g),o.P)),m=o.V,g=o.g,T=o.ba;var z="readystatechange";Array.isArray(z)||(z&&(Ii[0]=z.toString()),z=Ii);for(let j=0;j<z.length;j++){const $=Dn(g,z[j],T||m.handleEvent,!1,m.h||m);if(!$)break;m.g[$.key]=$}m=o.J?X(o.J):{},o.u?(o.v||(o.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,m)):(o.v="GET",o.g.ea(o.B,o.v,null,m)),xi(),Os(o.i,o.v,o.B,o.l,o.S,o.u)}Nn.prototype.ba=function(o){o=o.target;const m=this.O;m&&je(o)==3?m.j():this.Y(o)},Nn.prototype.Y=function(o){try{if(o==this.g)t:{const vt=je(this.g),te=this.g.ya(),kt=this.g.ca();if(!(vt<3)&&(vt!=3||this.g&&(this.h.h||this.g.la()||qa(this.g)))){this.K||vt!=4||te==7||(te==8||kt<=0?xi(3):xi(2)),Gn(this);var m=this.g.ca();this.X=m;var g=Bi(this);if(this.o=m==200,Ms(this.i,this.v,this.B,this.l,this.S,vt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,z=this.g;if((T=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(T)){var j=T;break e}}j=null}if(o=j)ui(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Rr(this,o);else{this.o=!1,this.m=3,ue(12),Qn(this),Oa(this);break t}}if(this.R){o=!0;let he;for(;!this.K&&this.C<g.length;)if(he=hu(this,g),he==jn){vt==4&&(this.m=4,ue(14),o=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(he==br){this.m=4,ue(15),ui(this.i,this.l,g,"[Invalid Chunk]"),o=!1;break}else ui(this.i,this.l,he,null),Rr(this,he);if(ce(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||g.length!=0||this.h.h||(this.m=1,ue(16),o=!1),this.o=this.o&&o,!o)ui(this.i,this.l,g,"[Invalid Chunked Response]"),Qn(this),Oa(this);else if(g.length>0&&!this.W){this.W=!0;var $=this.j;$.g==this&&$.aa&&!$.P&&($.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),Hs($),$.P=!0,ue(11))}}else ui(this.i,this.l,g,null),Rr(this,g);vt==4&&Qn(this),this.o&&!this.K&&(vt==4?Gs(this.j,this):(this.o=!1,Ia(this)))}else Ha(this.g),m==400&&g.indexOf("Unknown SID")>0?(this.m=3,ue(12)):(this.m=0,ue(13)),Qn(this),Oa(this)}}}catch{}finally{}};function Bi(o){if(!ce(o))return o.g.la();const m=qa(o.g);if(m==="")return"";let g="";const T=m.length,z=je(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return Qn(o),Oa(o),"";o.h.i=new d.TextDecoder}for(let j=0;j<T;j++)o.h.h=!0,g+=o.h.i.decode(m[j],{stream:!(z&&j==T-1)});return m.length=0,o.h.g+=g,o.C=0,o.h.g}function ce(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function hu(o,m){var g=o.C,T=m.indexOf(`
`,g);return T==-1?jn:(g=Number(m.substring(g,T)),isNaN(g)?br:(T+=1,T+g>m.length?jn:(m=m.slice(T,T+g),o.C=T+g,m)))}Nn.prototype.cancel=function(){this.K=!0,Qn(this)};function Ia(o){o.T=Date.now()+o.H,Hn(o,o.H)}function Hn(o,m){if(o.D!=null)throw Error("WatchDog timer not null");o.D=Ui(_(o.aa,o),m)}function Gn(o){o.D&&(d.clearTimeout(o.D),o.D=null)}Nn.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(Ac(this.i,this.B),this.M!=2&&(xi(),ue(17)),Qn(this),this.m=2,Oa(this)):Hn(this,this.T-o)};function Oa(o){o.j.I==0||o.K||Gs(o.j,o)}function Qn(o){Gn(o);var m=o.O;m&&typeof m.dispose=="function"&&m.dispose(),o.O=null,ke(o.V),o.g&&(m=o.g,o.g=null,m.abort(),m.dispose())}function Rr(o,m){try{var g=o.j;if(g.I!=0&&(g.g==o||Ua(g.h,o))){if(!o.L&&Ua(g.h,o)&&g.I==3){try{var T=g.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var z=T;if(z[0]==0){t:if(!g.v){if(g.g)if(g.g.F+3e3<o.F)Mr(g),Yn(g);else break t;qs(g),ue(18)}}else g.xa=z[1],0<g.xa-g.K&&z[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=Ui(_(g.Va,g),6e3));yn(g.h)<=1&&g.ta&&(g.ta=void 0)}else mi(g,11)}else if((o.L||g.g==o)&&Mr(g),!S(m))for(z=g.Ba.g.parse(m),m=0;m<z.length;m++){let kt=z[m];const he=kt[0];if(!(he<=g.K))if(g.K=he,kt=kt[1],g.I==2)if(kt[0]=="c"){g.M=kt[1],g.ba=kt[2];const sn=kt[3];sn!=null&&(g.ka=sn,g.j.info("VER="+g.ka));const Fn=kt[4];Fn!=null&&(g.za=Fn,g.j.info("SVER="+g.za));const Mn=kt[5];Mn!=null&&typeof Mn=="number"&&Mn>0&&(T=1.5*Mn,g.O=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const xn=o.g;if(xn){const Un=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Un){var j=T.h;j.g||Un.indexOf("spdy")==-1&&Un.indexOf("quic")==-1&&Un.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(wr(j,j.h),j.h=null))}if(T.G){const Ys=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ys&&(T.wa=Ys,Gt(T.J,T.G,Ys))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-o.F,g.j.info("Handshake RTT: "+g.T+"ms")),T=g;var $=o;if(T.na=Su(T,T.L?T.ba:null,T.W),$.L){ci(T.h,$);var vt=$,te=T.O;te&&(vt.H=te),vt.D&&(Gn(vt),Ia(vt)),T.g=$}else vu(T);g.i.length>0&&Fa(g)}else kt[0]!="stop"&&kt[0]!="close"||mi(g,7);else g.I==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?mi(g,7):Qa(g):kt[0]!="noop"&&g.l&&g.l.qa(kt),g.A=0)}}xi(4)}catch{}}var bc=class{constructor(o,m){this.g=o,this.map=m}};function Ma(o){this.l=o||10,d.PerformanceNavigationTiming?(o=d.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function xa(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function yn(o){return o.h?1:o.g?o.g.size:0}function Ua(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function wr(o,m){o.g?o.g.add(m):o.h=m}function ci(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}Ma.prototype.cancel=function(){if(this.i=Cr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Cr(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const g of o.g.values())m=m.concat(g.G);return m}return G(o.i)}var Dr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rc(o,m){if(o){o=o.split("&");for(let g=0;g<o.length;g++){const T=o[g].indexOf("=");let z,j=null;T>=0?(z=o[g].substring(0,T),j=o[g].substring(T+1)):z=o[g],m(z,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function In(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;o instanceof In?(this.l=o.l,ki(this,o.j),this.o=o.o,this.g=o.g,La(this,o.u),this.h=o.h,ji(this,gu(o.i)),this.m=o.m):o&&(m=String(o).match(Dr))?(this.l=!1,ki(this,m[1]||"",!0),this.o=za(m[2]||""),this.g=za(m[3]||"",!0),La(this,m[4]),this.h=za(m[5]||"",!0),ji(this,m[6]||"",!0),this.m=za(m[7]||"")):(this.l=!1,this.i=new _n(null,this.l))}In.prototype.toString=function(){const o=[];var m=this.j;m&&o.push(Ce(m,Us,!0),":");var g=this.g;return(g||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Ce(m,Us,!0),"@"),o.push(Na(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&o.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&o.push("/"),o.push(Ce(g,g.charAt(0)=="/"?qi:Ls,!0))),(g=this.i.toString())&&o.push("?",g),(g=this.m)&&o.push("#",Ce(g,du)),o.join("")},In.prototype.resolve=function(o){const m=ne(this);let g=!!o.j;g?ki(m,o.j):g=!!o.o,g?m.o=o.o:g=!!o.g,g?m.g=o.g:g=o.u!=null;var T=o.h;if(g)La(m,o.u);else if(g=!!o.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var z=m.h.lastIndexOf("/");z!=-1&&(T=m.h.slice(0,z+1)+T)}if(z=T,z==".."||z==".")T="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){T=z.lastIndexOf("/",0)==0,z=z.split("/");const j=[];for(let $=0;$<z.length;){const vt=z[$++];vt=="."?T&&$==z.length&&j.push(""):vt==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),T&&$==z.length&&j.push("")):(j.push(vt),T=!0)}T=j.join("/")}else T=z}return g?m.h=T:g=o.i.toString()!=="",g?ji(m,gu(o.i)):g=!!o.m,g&&(m.m=o.m),m};function ne(o){return new In(o)}function ki(o,m,g){o.j=g?za(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function La(o,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);o.u=m}else o.u=null}function ji(o,m,g){m instanceof _n?(o.i=m,Bs(o.i,o.l)):(g||(m=Ce(m,fu)),o.i=new _n(m,o.l))}function Gt(o,m,g){o.i.set(m,g)}function hi(o){return Gt(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function za(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ce(o,m,g){return typeof o=="string"?(o=encodeURI(o).replace(m,xs),g&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function xs(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Us=/[#\/\?@]/g,Ls=/[#\?:]/g,qi=/[#\?]/g,fu=/[#\?@]/g,du=/#/g;function _n(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function fi(o){o.g||(o.g=new Map,o.h=0,o.i&&Rc(o.i,function(m,g){o.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}s=_n.prototype,s.add=function(o,m){fi(this),this.i=null,o=On(this,o);let g=this.g.get(o);return g||this.g.set(o,g=[]),g.push(m),this.h+=1,this};function zs(o,m){fi(o),m=On(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function Ps(o,m){return fi(o),m=On(o,m),o.g.has(m)}s.forEach=function(o,m){fi(this),this.g.forEach(function(g,T){g.forEach(function(z){o.call(m,z,T,this)},this)},this)};function Vr(o,m){fi(o);let g=[];if(typeof m=="string")Ps(o,m)&&(g=g.concat(o.g.get(On(o,m))));else for(o=Array.from(o.g.values()),m=0;m<o.length;m++)g=g.concat(o[m]);return g}s.set=function(o,m){return fi(this),this.i=null,o=On(this,o),Ps(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=Vr(this,o),o.length>0?String(o[0]):m):m};function mu(o,m,g){zs(o,m),g.length>0&&(o.i=null,o.g.set(On(o,m),G(g)),o.h+=g.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var g=m[T];const z=Na(g);g=Vr(this,g);for(let j=0;j<g.length;j++){let $=z;g[j]!==""&&($+="="+Na(g[j])),o.push($)}}return this.i=o.join("&")};function gu(o){const m=new _n;return m.i=o.i,o.g&&(m.g=new Map(o.g),m.h=o.h),m}function On(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function Bs(o,m){m&&!o.j&&(fi(o),o.i=null,o.g.forEach(function(g,T){const z=T.toLowerCase();T!=z&&(zs(this,T),mu(this,z,g))},o)),o.j=m}function ks(o,m){const g=new Li;if(d.Image){const T=new Image;T.onload=A(Xe,g,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Xe,g,"TestLoadImage: error",!1,m,T),T.onabort=A(Xe,g,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Xe,g,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function Hi(o,m){const g=new Li,T=new AbortController,z=setTimeout(()=>{T.abort(),Xe(g,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(j=>{clearTimeout(z),j.ok?Xe(g,"TestPingServer: ok",!0,m):Xe(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),Xe(g,"TestPingServer: error",!1,m)})}function Xe(o,m,g,T,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),T(g)}catch{}}function pu(){this.g=new Tc}function Pa(o){this.i=o.Sb||null,this.h=o.ab||!1}D(Pa,uu),Pa.prototype.g=function(){return new Ba(this.i,this.h)};function Ba(o,m){ve.call(this),this.H=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}D(Ba,ve),s=Ba.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=m,this.readyState=1,di(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(m.body=o),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ke(this)),this.readyState=0},s.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Gi(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function Gi(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}s.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Ke(this):di(this),this.readyState==3&&Gi(this)}},s.Oa=function(o){this.g&&(this.response=this.responseText=o,Ke(this))},s.Na=function(o){this.g&&(this.response=o,Ke(this))},s.ga=function(){this.g&&Ke(this)};function Ke(o){o.readyState=4,o.l=null,o.j=null,o.B=null,di(o)}s.setRequestHeader=function(o,m){this.A.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,o.push(g[0]+": "+g[1]),g=m.next();return o.join(`\r
`)};function di(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Ba.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Qi(o){let m="";return Ut(o,function(g,T){m+=T,m+=":",m+=g,m+=`\r
`}),m}function vn(o,m,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=Qi(g),typeof o=="string"?g!=null&&Na(g):Gt(o,m,g))}function Jt(o){ve.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}D(Jt,ve);var Nr=/^https?$/i,yu=["POST","PUT"];s=Jt.prototype,s.Fa=function(o){this.H=o},s.ea=function(o,m,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():oi.g(),this.g.onreadystatechange=x(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(j){ka(this,j);return}if(o=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var z in T)g.set(z,T[z]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())g.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(j=>j.toLowerCase()=="content-type"),z=d.FormData&&o instanceof d.FormData,!(Array.prototype.indexOf.call(yu,m,void 0)>=0)||T||z||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,$]of g)this.g.setRequestHeader(j,$);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(j){ka(this,j)}};function ka(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.o=5,ja(o),Ee(o)}function ja(o){o.A||(o.A=!0,we(o,"complete"),we(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,we(this,"complete"),we(this,"abort"),Ee(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ee(this,!0)),Jt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?js(this):this.Xa())},s.Xa=function(){js(this)};function js(o){if(o.h&&typeof h<"u"){if(o.v&&je(o)==4)setTimeout(o.Ca.bind(o),0);else if(we(o,"readystatechange"),je(o)==4){o.h=!1;try{const j=o.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var g;if(!(g=m)){var T;if(T=j===0){let $=String(o.D).match(Dr)[1]||null;!$&&d.self&&d.self.location&&($=d.self.location.protocol.slice(0,-1)),T=!Nr.test($?$.toLowerCase():"")}g=T}if(g)we(o,"complete"),we(o,"success");else{o.o=6;try{var z=je(o)>2?o.g.statusText:""}catch{z=""}o.l=z+" ["+o.ca()+"]",ja(o)}}finally{Ee(o)}}}}function Ee(o,m){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const g=o.g;o.g=null,m||we(o,"ready");try{g.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function je(o){return o.g?o.g.readyState:0}s.ca=function(){try{return je(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),Fe(m)}};function qa(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Ha(o){const m={};o=(o.g&&je(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(S(o[T]))continue;var g=Sc(o[T]);const z=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const j=m[z]||[];m[z]=j,j.push(g)}C(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ga(o,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[o]||m}function Ir(o){this.za=0,this.i=[],this.j=new Li,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ga("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ga("baseRetryDelayMs",5e3,o),this.Za=Ga("retryDelaySeedMs",1e4,o),this.Ta=Ga("forwardChannelMaxRetries",2,o),this.va=Ga("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new Ma(o&&o.concurrentRequestLimit),this.Ba=new pu,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ir.prototype,s.ka=8,s.I=1,s.connect=function(o,m,g,T){ue(0),this.W=o,this.H=m||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.J=Su(this,null,this.W),Fa(this)};function Qa(o){if(Ya(o),o.I==3){var m=o.V++,g=ne(o.J);if(Gt(g,"SID",o.M),Gt(g,"RID",m),Gt(g,"TYPE","terminate"),Xa(o,g),m=new Nn(o,o.j,m),m.M=2,m.A=hi(ne(g)),g=!1,d.navigator&&d.navigator.sendBeacon)try{g=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!g&&d.Image&&(new Image().src=m.A,g=!0),g||(m.g=xr(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ia(m)}Au(o)}function Yn(o){o.g&&(Hs(o),o.g.cancel(),o.g=null)}function Ya(o){Yn(o),o.v&&(d.clearTimeout(o.v),o.v=null),Mr(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&d.clearTimeout(o.m),o.m=null)}function Fa(o){if(!xa(o.h)&&!o.m){o.m=!0;var m=o.Ea;dt||b(),bt||(dt(),bt=!0),I.add(m,o),o.D=0}}function wc(o,m){return yn(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=m.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=Ui(_(o.Ea,o,m),Tu(o,o.D)),o.D++,!0)}s.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const z=new Nn(this,this.j,o);let j=this.o;if(this.U&&(j?(j=X(j),tt(j,this.U)):j=this.U),this.u!==null||this.R||(z.J=j,j=null),this.S)t:{for(var m=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=g;break t}if(m===4096||g===this.i.length-1){m=g+1;break t}}m=1e3}else m=1e3;m=Or(this,z,m),g=ne(this.J),Gt(g,"RID",o),Gt(g,"CVER",22),this.G&&Gt(g,"X-HTTP-Session-Id",this.G),Xa(this,g),j&&(this.R?m="headers="+Na(Qi(j))+"&"+m:this.u&&vn(g,this.u,j)),wr(this.h,z),this.Ra&&Gt(g,"TYPE","init"),this.S?(Gt(g,"$req",m),Gt(g,"SID","null"),z.U=!0,qn(z,g,null)):qn(z,g,m),this.I=2}}else this.I==3&&(o?_u(this,o):this.i.length==0||xa(this.h)||_u(this))};function _u(o,m){var g;m?g=m.l:g=o.V++;const T=ne(o.J);Gt(T,"SID",o.M),Gt(T,"RID",g),Gt(T,"AID",o.K),Xa(o,T),o.u&&o.o&&vn(T,o.u,o.o),g=new Nn(o,o.j,g,o.D+1),o.u===null&&(g.J=o.o),m&&(o.i=m.G.concat(o.i)),m=Or(o,g,1e3),g.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),wr(o.h,g),qn(g,T,m)}function Xa(o,m){o.H&&Ut(o.H,function(g,T){Gt(m,T,g)}),o.l&&Ut({},function(g,T){Gt(m,T,g)})}function Or(o,m,g){g=Math.min(o.i.length,g);const T=o.l?_(o.l.Ka,o.l,o):null;t:{var z=o.i;let vt=-1;for(;;){const te=["count="+g];vt==-1?g>0?(vt=z[0].g,te.push("ofs="+vt)):vt=0:te.push("ofs="+vt);let kt=!0;for(let he=0;he<g;he++){var j=z[he].g;const sn=z[he].map;if(j-=vt,j<0)vt=Math.max(0,z[he].g-100),kt=!1;else try{j="req"+j+"_"||"";try{var $=sn instanceof Map?sn:Object.entries(sn);for(const[Fn,Mn]of $){let xn=Mn;y(Mn)&&(xn=gn(Mn)),te.push(j+Fn+"="+encodeURIComponent(xn))}}catch(Fn){throw te.push(j+"type="+encodeURIComponent("_badmap")),Fn}}catch{T&&T(sn)}}if(kt){$=te.join("&");break t}}$=void 0}return o=o.i.splice(0,g),m.G=o,$}function vu(o){if(!o.g&&!o.v){o.Y=1;var m=o.Da;dt||b(),bt||(dt(),bt=!0),I.add(m,o),o.A=0}}function qs(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=Ui(_(o.Da,o),Tu(o,o.A)),o.A++,!0)}s.Da=function(){if(this.v=null,Eu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=Ui(_(this.Wa,this),o)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ue(10),Yn(this),Eu(this))};function Hs(o){o.B!=null&&(d.clearTimeout(o.B),o.B=null)}function Eu(o){o.g=new Nn(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var m=ne(o.na);Gt(m,"RID","rpc"),Gt(m,"SID",o.M),Gt(m,"AID",o.K),Gt(m,"CI",o.F?"0":"1"),!o.F&&o.ia&&Gt(m,"TO",o.ia),Gt(m,"TYPE","xmlhttp"),Xa(o,m),o.u&&o.o&&vn(m,o.u,o.o),o.O&&(o.g.H=o.O);var g=o.g;o=o.ba,g.M=1,g.A=hi(ne(m)),g.u=null,g.R=!0,Pi(g,o)}s.Va=function(){this.C!=null&&(this.C=null,Yn(this),qs(this),ue(19))};function Mr(o){o.C!=null&&(d.clearTimeout(o.C),o.C=null)}function Gs(o,m){var g=null;if(o.g==m){Mr(o),Hs(o),o.g=null;var T=2}else if(Ua(o.h,m))g=m.G,ci(o.h,m),T=1;else return;if(o.I!=0){if(m.o)if(T==1){g=m.u?m.u.length:0,m=Date.now()-m.F;var z=o.D;T=Ar(),we(T,new cu(T,g)),Fa(o)}else vu(o);else if(z=m.m,z==3||z==0&&m.X>0||!(T==1&&wc(o,m)||T==2&&qs(o)))switch(g&&g.length>0&&(m=o.h,m.i=m.i.concat(g)),z){case 1:mi(o,5);break;case 4:mi(o,10);break;case 3:mi(o,6);break;default:mi(o,2)}}}function Tu(o,m){let g=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(g*=2),g*m}function mi(o,m){if(o.j.info("Error code "+m),m==2){var g=_(o.bb,o),T=o.Ua;const z=!T;T=new In(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ki(T,"https"),hi(T),z?ks(T.toString(),g):Hi(T.toString(),g)}else ue(2);o.I=0,o.l&&o.l.pa(m),Au(o),Ya(o)}s.bb=function(o){o?(this.j.info("Successfully pinged google.com"),ue(2)):(this.j.info("Failed to ping google.com"),ue(1))};function Au(o){if(o.I=0,o.ja=[],o.l){const m=Cr(o.h);(m.length!=0||o.i.length!=0)&&(W(o.ja,m),W(o.ja,o.i),o.h.i.length=0,G(o.i),o.i.length=0),o.l.oa()}}function Su(o,m,g){var T=g instanceof In?ne(g):new In(g);if(T.g!="")m&&(T.g=m+"."+T.g),La(T,T.u);else{var z=d.location;T=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;const j=new In(null);T&&ki(j,T),m&&(j.g=m),z&&La(j,z),g&&(j.h=g),T=j}return g=o.G,m=o.wa,g&&m&&Gt(T,g,m),Gt(T,"VER",o.ka),Xa(o,T),T}function xr(o,m,g){if(m&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Aa&&!o.ma?new Jt(new Pa({ab:g})):new Jt(o.ma),m.Fa(o.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function bu(){}s=bu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ur(){}Ur.prototype.g=function(o,m){return new Ze(o,m)};function Ze(o,m){ve.call(this),this.g=new Ir(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(o?o["X-WebChannel-Client-Profile"]=m.sa:o={"X-WebChannel-Client-Profile":m.sa}),this.g.U=o,(o=m&&m.Qb)&&!S(o)&&(this.g.u=o),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!S(m)&&(this.g.G=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Yi(this)}D(Ze,ve),Ze.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){Qa(this.g)},Ze.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var g={};g.__data__=o,o=g}else this.v&&(g={},g.__data__=gn(o),o=g);m.i.push(new bc(m.Ya++,o)),m.I==3&&Fa(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,Qa(this.g),delete this.g,Ze.Z.N.call(this)};function Qs(o){Oi.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const g in m){o=g;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}D(Qs,Oi);function Ru(){Vn.call(this),this.status=1}D(Ru,Vn);function Yi(o){this.g=o}D(Yi,bu),Yi.prototype.ra=function(){we(this.g,"a")},Yi.prototype.qa=function(o){we(this.g,new Qs(o))},Yi.prototype.pa=function(o){we(this.g,new Ru)},Yi.prototype.oa=function(){we(this.g,"b")},Ur.prototype.createWebChannel=Ur.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,V_=function(){return new Ur},D_=function(){return Ar()},C_=pn,Pf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},oe.NO_ERROR=0,oe.TIMEOUT=8,oe.HTTP_ERROR=6,Mo=oe,Me.COMPLETE="complete",w_=Me,ou.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",ve.prototype.listen=ve.prototype.J,Ll=ou,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,R_=Jt}).apply(typeof Do<"u"?Do:typeof self<"u"?self:typeof window<"u"?window:{});const Ey="@firebase/firestore",Ty="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bs="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new __("@firebase/firestore");function cs(){return mr.logLevel}function at(s,...e){if(mr.logLevel<=xt.DEBUG){const i=e.map(rd);mr.debug(`Firestore (${bs}): ${s}`,...i)}}function Vi(s,...e){if(mr.logLevel<=xt.ERROR){const i=e.map(rd);mr.error(`Firestore (${bs}): ${s}`,...i)}}function ps(s,...e){if(mr.logLevel<=xt.WARN){const i=e.map(rd);mr.warn(`Firestore (${bs}): ${s}`,...i)}}function rd(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,N_(s,r,i)}function N_(s,e,i){let r=`FIRESTORE (${bs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Vi(r),new Error(r)}function Pt(s,e,i,r){let u="Unexpected state";typeof i=="string"?u=i:r=i,s||N_(e,u,r)}function Et(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends Ss{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class V1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Qe.UNAUTHENTICATED)))}shutdown(){}}class N1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class I1{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Pt(this.o===void 0,42304);let r=this.i;const u=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let h=new _a;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new _a,e.enqueueRetryable((()=>u(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await u(this.currentUser)}))},y=v=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new _a)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pt(typeof r.accessToken=="string",31837,{l:r}),new I_(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pt(e===null||typeof e=="string",2055,{h:e}),new Qe(e)}}class O1{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class M1{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new O1(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Qe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ay{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class x1{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,m1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Pt(this.o===void 0,3512);const r=h=>{h.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>r(h)))};const u=h=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>u(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ay(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Pt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Ay(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const u=U1(40);for(let h=0;h<u.length;++h)r.length<20&&u[h]<i&&(r+=e.charAt(u[h]%62))}return r}}function Nt(s,e){return s<e?-1:s>e?1:0}function Bf(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const u=s.charAt(r),h=e.charAt(r);if(u!==h)return Df(u)===Df(h)?Nt(u,h):Df(u)?1:-1}return Nt(s.length,e.length)}const L1=55296,z1=57343;function Df(s){const e=s.charCodeAt(0);return e>=L1&&e<=z1}function ys(s,e,i){return s.length===e.length&&s.every(((r,u)=>i(r,e[u])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy="__name__";class Wn{constructor(e,i,r){i===void 0?i=0:i>e.length&&gt(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&gt(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Wn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Wn?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let u=0;u<r;u++){const h=Wn.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return Nt(e.length,i.length)}static compareSegments(e,i){const r=Wn.isNumericId(e),u=Wn.isNumericId(i);return r&&!u?-1:!r&&u?1:r&&u?Wn.extractNumericId(e).compare(Wn.extractNumericId(i)):Bf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ya.fromString(e.substring(4,e.length-2))}}class ae extends Wn{construct(e,i,r){return new ae(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new st(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((u=>u.length>0)))}return new ae(i)}static emptyPath(){return new ae([])}}const P1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pe extends Wn{construct(e,i,r){return new Pe(e,i,r)}static isValidIdentifier(e){return P1.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pe.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Sy}static keyField(){return new Pe([Sy])}static fromServerFormat(e){const i=[];let r="",u=0;const h=()=>{if(r.length===0)throw new st(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;u<e.length;){const y=e[u];if(y==="\\"){if(u+1===e.length)throw new st(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new st(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,u+=2}else y==="`"?(d=!d,u++):y!=="."||d?(r+=y,u++):(h(),u++)}if(h(),d)throw new st(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pe(i)}static emptyPath(){return new Pe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.path=e}static fromPath(e){return new ct(ae.fromString(e))}static fromName(e){return new ct(ae.fromString(e).popFirst(5))}static empty(){return new ct(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ae.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ct(new ae(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(s,e,i){if(!i)throw new st(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function k1(s,e,i,r){if(e===!0&&r===!0)throw new st(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function by(s){if(!ct.isDocumentKey(s))throw new st(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function O_(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function ld(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":gt(12329,{type:typeof s})}function gr(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new st(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ld(s);throw new st(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(s,e){const i={typeString:s};return e&&(i.value=e),i}function eu(s,e){if(!O_(s))throw new st(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const u=e[r].typeString,h="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(u&&typeof d!==u){i=`JSON field '${r}' must be a ${u}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new st(K.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry=-62135596800,wy=1e6;class Zt{static now(){return Zt.fromMillis(Date.now())}static fromDate(e){return Zt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*wy);return new Zt(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new st(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Ry)throw new st(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wy}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Zt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(eu(e,Zt._jsonSchema))return new Zt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ry;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Zt._jsonSchemaVersion="firestore/timestamp/1.0",Zt._jsonSchema={type:_e("string",Zt._jsonSchemaVersion),seconds:_e("number"),nanoseconds:_e("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static fromTimestamp(e){return new _t(e)}static min(){return new _t(new Zt(0,0))}static max(){return new _t(new Zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=-1;function j1(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,u=_t.fromTimestamp(r===1e9?new Zt(i+1,0):new Zt(i,r));return new va(u,ct.empty(),e)}function q1(s){return new va(s.readTime,s.key,Kl)}class va{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new va(_t.min(),ct.empty(),Kl)}static max(){return new va(_t.max(),ct.empty(),Kl)}}function H1(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ct.comparator(s.documentKey,e.documentKey),i!==0?i:Nt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Q1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rs(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==G1)throw s;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new F(((r,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,u)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof F?i:F.resolve(i)}catch(i){return F.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):F.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):F.reject(i)}static resolve(e){return new F(((i,r)=>{i(e)}))}static reject(e){return new F(((i,r)=>{r(e)}))}static waitFor(e){return new F(((i,r)=>{let u=0,h=0,d=!1;e.forEach((y=>{++u,y.next((()=>{++h,d&&h===u&&i()}),(v=>r(v)))})),d=!0,h===u&&i()}))}static or(e){let i=F.resolve(!1);for(const r of e)i=i.next((u=>u?F.resolve(u):r()));return i}static forEach(e,i){const r=[];return e.forEach(((u,h)=>{r.push(i.call(this,u,h))})),this.waitFor(r)}static mapArray(e,i){return new F(((r,u)=>{const h=e.length,d=new Array(h);let y=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((A=>{d[_]=A,++y,y===h&&r(d)}),(A=>u(A)))}}))}static doWhile(e,i){return new F(((r,u)=>{const h=()=>{e()===!0?i().next((()=>{h()}),u):r()};h()}))}}function Y1(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ws(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ec.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud=-1;function nc(s){return s==null}function qo(s){return s===0&&1/s==-1/0}function F1(s){return typeof s=="number"&&Number.isInteger(s)&&!qo(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="";function X1(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Cy(e)),e=K1(s.get(i),e);return Cy(e)}function K1(s,e){let i=e;const r=s.length;for(let u=0;u<r;u++){const h=s.charAt(u);switch(h){case"\0":i+="";break;case M_:i+="";break;default:i+=h}}return i}function Cy(s){return s+M_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Ra(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function x_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new re(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const u=this.comparator(e,r.key);if(u===0)return i+r.left.size;u<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vo(this.root,e,this.comparator,!0)}}class Vo{constructor(e,i,r,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,r,u,h){this.key=e,this.value=i,this.color=r??ze.RED,this.left=u??ze.EMPTY,this.right=h??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,u,h){return new ze(e??this.key,i??this.value,r??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let u=this;const h=r(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,r),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,r)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return ze.EMPTY;r=u.right.min(),u=u.copy(r.key,r.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw gt(27949);return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(e,i,r,u,h){return this}insert(e,i,r){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.comparator=e,this.data=new re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const u=r.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Vy(this.data.getIterator())}getIteratorFrom(e){return new Vy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Re)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=r.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Re(this.comparator);return i.data=e,i}}class Vy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(Pe.comparator)}static empty(){return new mn([])}unionWith(e){let i=new Re(Pe.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new mn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ys(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new U_("Invalid base64 string: "+h):h}})(e);return new Be(i)}static fromUint8Array(e){const i=(function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h})(e);return new Be(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let u=0;u<i.length;u++)r[u]=i.charCodeAt(u);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const Z1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ea(s){if(Pt(!!s,39018),typeof s=="string"){let e=0;const i=Z1.exec(s);if(Pt(!!i,46558,{timestamp:s}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:me(s.seconds),nanos:me(s.nanos)}}function me(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ta(s){return typeof s=="string"?Be.fromBase64String(s):Be.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="server_timestamp",z_="__type__",P_="__previous_value__",B_="__local_write_time__";function od(s){return(s?.mapValue?.fields||{})[z_]?.stringValue===L_}function ic(s){const e=s.mapValue.fields[P_];return od(e)?ic(e):e}function Zl(s){const e=Ea(s.mapValue.fields[B_].timestampValue);return new Zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,i,r,u,h,d,y,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const Ho="(default)";class $l{constructor(e,i){this.projectId=e,this.database=i||Ho}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===Ho}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="__type__",J1="__max__",No={mapValue:{}},j_="__vector__",Go="value";function Aa(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?od(s)?4:tA(s)?9007199254740991:W1(s)?10:11:gt(28295,{value:s})}function ri(s,e){if(s===e)return!0;const i=Aa(s);if(i!==Aa(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Zl(s).isEqual(Zl(e));case 3:return(function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=Ea(u.timestampValue),y=Ea(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(u,h){return Ta(u.bytesValue).isEqual(Ta(h.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(u,h){return me(u.geoPointValue.latitude)===me(h.geoPointValue.latitude)&&me(u.geoPointValue.longitude)===me(h.geoPointValue.longitude)})(s,e);case 2:return(function(u,h){if("integerValue"in u&&"integerValue"in h)return me(u.integerValue)===me(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=me(u.doubleValue),y=me(h.doubleValue);return d===y?qo(d)===qo(y):isNaN(d)&&isNaN(y)}return!1})(s,e);case 9:return ys(s.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:case 11:return(function(u,h){const d=u.mapValue.fields||{},y=h.mapValue.fields||{};if(Dy(d)!==Dy(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!ri(d[v],y[v])))return!1;return!0})(s,e);default:return gt(52216,{left:s})}}function Jl(s,e){return(s.values||[]).find((i=>ri(i,e)))!==void 0}function _s(s,e){if(s===e)return 0;const i=Aa(s),r=Aa(e);if(i!==r)return Nt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(s.booleanValue,e.booleanValue);case 2:return(function(h,d){const y=me(h.integerValue||h.doubleValue),v=me(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(s,e);case 3:return Ny(s.timestampValue,e.timestampValue);case 4:return Ny(Zl(s),Zl(e));case 5:return Bf(s.stringValue,e.stringValue);case 6:return(function(h,d){const y=Ta(h),v=Ta(d);return y.compareTo(v)})(s.bytesValue,e.bytesValue);case 7:return(function(h,d){const y=h.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const A=Nt(y[_],v[_]);if(A!==0)return A}return Nt(y.length,v.length)})(s.referenceValue,e.referenceValue);case 8:return(function(h,d){const y=Nt(me(h.latitude),me(d.latitude));return y!==0?y:Nt(me(h.longitude),me(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Iy(s.arrayValue,e.arrayValue);case 10:return(function(h,d){const y=h.fields||{},v=d.fields||{},_=y[Go]?.arrayValue,A=v[Go]?.arrayValue,D=Nt(_?.values?.length||0,A?.values?.length||0);return D!==0?D:Iy(_,A)})(s.mapValue,e.mapValue);case 11:return(function(h,d){if(h===No.mapValue&&d===No.mapValue)return 0;if(h===No.mapValue)return 1;if(d===No.mapValue)return-1;const y=h.fields||{},v=Object.keys(y),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let D=0;D<v.length&&D<A.length;++D){const x=Bf(v[D],A[D]);if(x!==0)return x;const G=_s(y[v[D]],_[A[D]]);if(G!==0)return G}return Nt(v.length,A.length)})(s.mapValue,e.mapValue);default:throw gt(23264,{he:i})}}function Ny(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Nt(s,e);const i=Ea(s),r=Ea(e),u=Nt(i.seconds,r.seconds);return u!==0?u:Nt(i.nanos,r.nanos)}function Iy(s,e){const i=s.values||[],r=e.values||[];for(let u=0;u<i.length&&u<r.length;++u){const h=_s(i[u],r[u]);if(h)return h}return Nt(i.length,r.length)}function vs(s){return kf(s)}function kf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Ea(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Ta(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ct.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",u=!0;for(const h of i.values||[])u?u=!1:r+=",",r+=kf(h);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of r)h?h=!1:u+=",",u+=`${d}:${kf(i.fields[d])}`;return u+"}"})(s.mapValue):gt(61005,{value:s})}function xo(s){switch(Aa(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ic(s);return e?16+xo(e):16;case 5:return 2*s.stringValue.length;case 6:return Ta(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((u,h)=>u+xo(h)),0)})(s.arrayValue);case 10:case 11:return(function(r){let u=0;return Ra(r.fields,((h,d)=>{u+=h.length+xo(d)})),u})(s.mapValue);default:throw gt(13486,{value:s})}}function jf(s){return!!s&&"integerValue"in s}function cd(s){return!!s&&"arrayValue"in s}function Oy(s){return!!s&&"nullValue"in s}function My(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Uo(s){return!!s&&"mapValue"in s}function W1(s){return(s?.mapValue?.fields||{})[k_]?.stringValue===j_}function jl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Ra(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=jl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=jl(s.arrayValue.values[i]);return e}return{...s}}function tA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===J1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Uo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=jl(i)}setAll(e){let i=Pe.emptyPath(),r={},u=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,r,u),r={},u=[],i=y.popLast()}d?r[y.lastSegment()]=jl(d):u.push(y.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,u)}delete(e){const i=this.field(e.popLast());Uo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let u=i.mapValue.fields[e.get(r)];Uo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,r){Ra(i,((u,h)=>e[u]=h));for(const u of r)delete e[u]}clone(){return new rn(jl(this.value))}}function q_(s){const e=[];return Ra(s.fields,((i,r)=>{const u=new Pe([i]);if(Uo(r)){const h=q_(r.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)})),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,i,r,u,h,d,y){this.key=e,this.documentType=i,this.version=r,this.readTime=u,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(e){return new Ye(e,0,_t.min(),_t.min(),_t.min(),rn.empty(),0)}static newFoundDocument(e,i,r,u){return new Ye(e,1,i,_t.min(),r,u,0)}static newNoDocument(e,i){return new Ye(e,2,i,_t.min(),_t.min(),rn.empty(),0)}static newUnknownDocument(e,i){return new Ye(e,3,i,_t.min(),_t.min(),rn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ye&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,i){this.position=e,this.inclusive=i}}function xy(s,e,i){let r=0;for(let u=0;u<s.position.length;u++){const h=e[u],d=s.position[u];if(h.field.isKeyField()?r=ct.comparator(ct.fromName(d.referenceValue),i.key):r=_s(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function Uy(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ri(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,i="asc"){this.field=e,this.dir=i}}function eA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{}class Se extends H_{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new iA(e,i,r):i==="array-contains"?new sA(e,r):i==="in"?new lA(e,r):i==="not-in"?new uA(e,r):i==="array-contains-any"?new oA(e,r):new Se(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new aA(e,r):new rA(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(_s(i,this.value)):i!==null&&Aa(this.value)===Aa(i)&&this.matchesComparison(_s(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends H_{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new si(e,i)}matches(e){return G_(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function G_(s){return s.op==="and"}function Q_(s){return nA(s)&&G_(s)}function nA(s){for(const e of s.filters)if(e instanceof si)return!1;return!0}function qf(s){if(s instanceof Se)return s.field.canonicalString()+s.op.toString()+vs(s.value);if(Q_(s))return s.filters.map((e=>qf(e))).join(",");{const e=s.filters.map((i=>qf(i))).join(",");return`${s.op}(${e})`}}function Y_(s,e){return s instanceof Se?(function(r,u){return u instanceof Se&&r.op===u.op&&r.field.isEqual(u.field)&&ri(r.value,u.value)})(s,e):s instanceof si?(function(r,u){return u instanceof si&&r.op===u.op&&r.filters.length===u.filters.length?r.filters.reduce(((h,d,y)=>h&&Y_(d,u.filters[y])),!0):!1})(s,e):void gt(19439)}function F_(s){return s instanceof Se?(function(i){return`${i.field.canonicalString()} ${i.op} ${vs(i.value)}`})(s):s instanceof si?(function(i){return i.op.toString()+" {"+i.getFilters().map(F_).join(" ,")+"}"})(s):"Filter"}class iA extends Se{constructor(e,i,r){super(e,i,r),this.key=ct.fromName(r.referenceValue)}matches(e){const i=ct.comparator(e.key,this.key);return this.matchesComparison(i)}}class aA extends Se{constructor(e,i){super(e,"in",i),this.keys=X_("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class rA extends Se{constructor(e,i){super(e,"not-in",i),this.keys=X_("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function X_(s,e){return(e.arrayValue?.values||[]).map((i=>ct.fromName(i.referenceValue)))}class sA extends Se{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return cd(i)&&Jl(i.arrayValue,this.value)}}class lA extends Se{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Jl(this.value.arrayValue,i)}}class uA extends Se{constructor(e,i){super(e,"not-in",i)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Jl(this.value.arrayValue,i)}}class oA extends Se{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!cd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Jl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,i=null,r=[],u=[],h=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=u,this.limit=h,this.startAt=d,this.endAt=y,this.Te=null}}function Ly(s,e=null,i=[],r=[],u=null,h=null,d=null){return new cA(s,e,i,r,u,h,d)}function hd(s){const e=Et(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>qf(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),nc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>vs(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>vs(r))).join(",")),e.Te=i}return e.Te}function fd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!eA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Y_(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Uy(s.startAt,e.startAt)&&Uy(s.endAt,e.endAt)}function Hf(s){return ct.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,i=null,r=[],u=[],h=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=u,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function hA(s,e,i,r,u,h,d,y){return new ac(s,e,i,r,u,h,d,y)}function dd(s){return new ac(s)}function zy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function fA(s){return s.collectionGroup!==null}function ql(s){const e=Et(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Re(Pe.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new Yo(h,r))})),i.has(Pe.keyField().canonicalString())||e.Ie.push(new Yo(Pe.keyField(),r))}return e.Ie}function ti(s){const e=Et(s);return e.Ee||(e.Ee=dA(e,ql(s))),e.Ee}function dA(s,e){if(s.limitType==="F")return Ly(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((u=>{const h=u.dir==="desc"?"asc":"desc";return new Yo(u.field,h)}));const i=s.endAt?new Qo(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Qo(s.startAt.position,s.startAt.inclusive):null;return Ly(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Gf(s,e,i){return new ac(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function rc(s,e){return fd(ti(s),ti(e))&&s.limitType===e.limitType}function K_(s){return`${hd(ti(s))}|lt:${s.limitType}`}function hs(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((u=>F_(u))).join(", ")}]`),nc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((u=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(u))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((u=>vs(u))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((u=>vs(u))).join(",")),`Target(${r})`})(ti(s))}; limitType=${s.limitType})`}function sc(s,e){return e.isFoundDocument()&&(function(r,u){const h=u.key.path;return r.collectionGroup!==null?u.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):ct.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(s,e)&&(function(r,u){for(const h of ql(r))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0})(s,e)&&(function(r,u){for(const h of r.filters)if(!h.matches(u))return!1;return!0})(s,e)&&(function(r,u){return!(r.startAt&&!(function(d,y,v){const _=xy(d,y,v);return d.inclusive?_<=0:_<0})(r.startAt,ql(r),u)||r.endAt&&!(function(d,y,v){const _=xy(d,y,v);return d.inclusive?_>=0:_>0})(r.endAt,ql(r),u))})(s,e)}function mA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Z_(s){return(e,i)=>{let r=!1;for(const u of ql(s)){const h=gA(u,e,i);if(h!==0)return h;r=r||u.field.isKeyField()}return 0}}function gA(s,e,i){const r=s.field.isKeyField()?ct.comparator(e.key,i.key):(function(h,d,y){const v=d.data.field(h),_=y.data.field(h);return v!==null&&_!==null?_s(v,_):gt(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return gt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[u,h]of r)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),u=this.inner[r];if(u===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let u=0;u<r.length;u++)if(this.equalsFn(r[u][0],e))return r.length===1?delete this.inner[i]:r.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Ra(this.inner,((i,r)=>{for(const[u,h]of r)e(u,h)}))}isEmpty(){return x_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=new re(ct.comparator);function Ni(){return pA}const $_=new re(ct.comparator);function zl(...s){let e=$_;for(const i of s)e=e.insert(i.key,i);return e}function J_(s){let e=$_;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function hr(){return Hl()}function W_(){return Hl()}function Hl(){return new yr((s=>s.toString()),((s,e)=>s.isEqual(e)))}const yA=new re(ct.comparator),_A=new Re(ct.comparator);function It(...s){let e=_A;for(const i of s)e=e.add(i);return e}const vA=new Re(Nt);function EA(){return vA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qo(e)?"-0":e}}function tv(s){return{integerValue:""+s}}function TA(s,e){return F1(e)?tv(e):md(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(){this._=void 0}}function AA(s,e,i){return s instanceof Fo?(function(u,h){const d={fields:{[z_]:{stringValue:L_},[B_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&od(h)&&(h=ic(h)),h&&(d.fields[P_]=h),{mapValue:d}})(i,e):s instanceof Es?nv(s,e):s instanceof Wl?iv(s,e):(function(u,h){const d=ev(u,h),y=Py(d)+Py(u.Ae);return jf(d)&&jf(u.Ae)?tv(y):md(u.serializer,y)})(s,e)}function SA(s,e,i){return s instanceof Es?nv(s,e):s instanceof Wl?iv(s,e):i}function ev(s,e){return s instanceof Xo?(function(r){return jf(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(e)?e:{integerValue:0}:null}class Fo extends lc{}class Es extends lc{constructor(e){super(),this.elements=e}}function nv(s,e){const i=av(e);for(const r of s.elements)i.some((u=>ri(u,r)))||i.push(r);return{arrayValue:{values:i}}}class Wl extends lc{constructor(e){super(),this.elements=e}}function iv(s,e){let i=av(e);for(const r of s.elements)i=i.filter((u=>!ri(u,r)));return{arrayValue:{values:i}}}class Xo extends lc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Py(s){return me(s.integerValue||s.doubleValue)}function av(s){return cd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,i){this.field=e,this.transform=i}}function RA(s,e){return s.field.isEqual(e.field)&&(function(r,u){return r instanceof Es&&u instanceof Es||r instanceof Wl&&u instanceof Wl?ys(r.elements,u.elements,ri):r instanceof Xo&&u instanceof Xo?ri(r.Ae,u.Ae):r instanceof Fo&&u instanceof Fo})(s.transform,e.transform)}class wA{constructor(e,i){this.version=e,this.transformResults=i}}class ei{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ei}static exists(e){return new ei(void 0,e)}static updateTime(e){return new ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lo(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class uc{}function rv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new lv(s.key,ei.none()):new nu(s.key,s.data,ei.none());{const i=s.data,r=rn.empty();let u=new Re(Pe.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),u=u.add(h)}return new wa(s.key,r,new mn(u.toArray()),ei.none())}}function CA(s,e,i){s instanceof nu?(function(u,h,d){const y=u.value.clone(),v=ky(u.fieldTransforms,h,d.transformResults);y.setAll(v),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):s instanceof wa?(function(u,h,d){if(!Lo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const y=ky(u.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(sv(u)),v.setAll(y),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,e,i):(function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Gl(s,e,i,r){return s instanceof nu?(function(h,d,y,v){if(!Lo(h.precondition,d))return y;const _=h.value.clone(),A=jy(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,r):s instanceof wa?(function(h,d,y,v){if(!Lo(h.precondition,d))return y;const _=jy(h.fieldTransforms,v,d),A=d.data;return A.setAll(sv(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((D=>D.field)))})(s,e,i,r):(function(h,d,y){return Lo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(s,e,i)}function DA(s,e){let i=null;for(const r of s.fieldTransforms){const u=e.data.field(r.field),h=ev(r.transform,u||null);h!=null&&(i===null&&(i=rn.empty()),i.set(r.field,h))}return i||null}function By(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,u){return r===void 0&&u===void 0||!(!r||!u)&&ys(r,u,((h,d)=>RA(h,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class nu extends uc{constructor(e,i,r,u=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class wa extends uc{constructor(e,i,r,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function sv(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function ky(s,e,i){const r=new Map;Pt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let u=0;u<i.length;u++){const h=s[u],d=h.transform,y=e.data.field(h.field);r.set(h.field,SA(d,y,i[u]))}return r}function jy(s,e,i){const r=new Map;for(const u of s){const h=u.transform,d=i.data.field(u.field);r.set(u.field,AA(h,d,e))}return r}class lv extends uc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VA extends uc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,i,r,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=u}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&CA(h,e,r[u])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Gl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Gl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=W_();return this.mutations.forEach((u=>{const h=e.get(u.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=i.has(u.key)?null:y;const v=rv(d,y);v!==null&&r.set(u.key,v),d.isValidDocument()||d.convertToNoDocument(_t.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),It())}isEqual(e){return this.batchId===e.batchId&&ys(this.mutations,e.mutations,((i,r)=>By(i,r)))&&ys(this.baseMutations,e.baseMutations,((i,r)=>By(i,r)))}}class gd{constructor(e,i,r,u){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=u}static from(e,i,r){Pt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let u=(function(){return yA})();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,r[d].version);return new gd(e,i,r,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye,Mt;function MA(s){switch(s){case K.OK:return gt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return gt(15467,{code:s})}}function uv(s){if(s===void 0)return Vi("GRPC error has no .code"),K.UNKNOWN;switch(s){case ye.OK:return K.OK;case ye.CANCELLED:return K.CANCELLED;case ye.UNKNOWN:return K.UNKNOWN;case ye.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case ye.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case ye.INTERNAL:return K.INTERNAL;case ye.UNAVAILABLE:return K.UNAVAILABLE;case ye.UNAUTHENTICATED:return K.UNAUTHENTICATED;case ye.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case ye.NOT_FOUND:return K.NOT_FOUND;case ye.ALREADY_EXISTS:return K.ALREADY_EXISTS;case ye.PERMISSION_DENIED:return K.PERMISSION_DENIED;case ye.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case ye.ABORTED:return K.ABORTED;case ye.OUT_OF_RANGE:return K.OUT_OF_RANGE;case ye.UNIMPLEMENTED:return K.UNIMPLEMENTED;case ye.DATA_LOSS:return K.DATA_LOSS;default:return gt(39323,{code:s})}}(Mt=ye||(ye={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=new ya([4294967295,4294967295],0);function qy(s){const e=xA().encode(s),i=new b_;return i.update(e),new Uint8Array(i.digest())}function Hy(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new ya([i,r],0),new ya([u,h],0)]}class pd{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Pl(`Invalid padding: ${i}`);if(r<0)throw new Pl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Pl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Pl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=ya.fromNumber(this.ge)}ye(e,i,r){let u=e.add(i.multiply(ya.fromNumber(r)));return u.compare(UA)===1&&(u=new ya([u.getBits(0),u.getBits(1)],0)),u.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=qy(e),[r,u]=Hy(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,u,h);if(!this.we(d))return!1}return!0}static create(e,i,r){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new pd(h,u,i);return r.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=qy(e),[r,u]=Hy(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,u,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,i,r,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const u=new Map;return u.set(e,iu.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new oc(_t.min(),u,new re(Nt),Ni(),It())}}class iu{constructor(e,i,r,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new iu(r,i,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,i,r,u){this.be=e,this.removedTargetIds=i,this.key=r,this.De=u}}class ov{constructor(e,i){this.targetId=e,this.Ce=i}}class cv{constructor(e,i,r=Be.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=u}}class Gy{constructor(){this.ve=0,this.Fe=Qy(),this.Me=Be.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=It(),i=It(),r=It();return this.Fe.forEach(((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:r=r.add(u);break;default:gt(38017,{changeType:h})}})),new iu(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=Qy()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Pt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class LA{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ni(),this.Je=Io(),this.He=Io(),this.Ye=new re(Nt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:gt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,u)=>{this.rt(u)&&i(u)}))}st(e){const i=e.targetId,r=e.Ce.count,u=this.ot(i);if(u){const h=u.target;if(Hf(h))if(r===0){const d=new ct(h.path);this.et(i,d,Ye.newNoDocument(d,_t.min()))}else Pt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:u=0},hashCount:h=0}=i;let d,y;try{d=Ta(r).toUint8Array()}catch(v){if(v instanceof U_)return ps("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new pd(d,u,h)}catch(v){return ps(v instanceof Pl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let u=0;return r.forEach((h=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(y)||(this.et(i,h,null),u++)})),u}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const y=this.ot(d);if(y){if(h.current&&Hf(y.target)){const v=new ct(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Ye.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let r=It();this.He.forEach(((h,d)=>{let y=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const u=new oc(e,i,this.Ye,this.je,r);return this.je=Ni(),this.Je=Io(),this.He=Io(),this.Ye=new re(Nt),u}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const u=this.nt(e);this.Et(e,i)?u.Qe(i,1):u.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new Gy,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Re(Nt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Re(Nt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||at("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Gy),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Io(){return new re(ct.comparator)}function Qy(){return new re(ct.comparator)}const zA={asc:"ASCENDING",desc:"DESCENDING"},PA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BA={and:"AND",or:"OR"};class kA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Qf(s,e){return s.useProto3Json||nc(e)?e:{value:e}}function Ko(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function jA(s,e){return Ko(s,e.toTimestamp())}function ni(s){return Pt(!!s,49232),_t.fromTimestamp((function(i){const r=Ea(i);return new Zt(r.seconds,r.nanos)})(s))}function yd(s,e){return Yf(s,e).canonicalString()}function Yf(s,e){const i=(function(u){return new ae(["projects",u.projectId,"databases",u.database])})(s).child("documents");return e===void 0?i:i.child(e)}function fv(s){const e=ae.fromString(s);return Pt(yv(e),10190,{key:e.toString()}),e}function Ff(s,e){return yd(s.databaseId,e.path)}function Vf(s,e){const i=fv(e);if(i.get(1)!==s.databaseId.projectId)throw new st(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new st(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ct(mv(i))}function dv(s,e){return yd(s.databaseId,e)}function qA(s){const e=fv(s);return e.length===4?ae.emptyPath():mv(e)}function Xf(s){return new ae(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function mv(s){return Pt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Yy(s,e,i){return{name:Ff(s,e),fields:i.value.mapValue.fields}}function HA(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:gt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?(Pt(A===void 0||typeof A=="string",58123),Be.fromBase64String(A||"")):(Pt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Be.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const A=_.code===void 0?K.UNKNOWN:uv(_.code);return new st(A,_.message||"")})(d);i=new cv(r,u,h,y||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const u=Vf(s,r.document.name),h=ni(r.document.updateTime),d=r.document.createTime?ni(r.document.createTime):_t.min(),y=new rn({mapValue:{fields:r.document.fields}}),v=Ye.newFoundDocument(u,h,d,y),_=r.targetIds||[],A=r.removedTargetIds||[];i=new zo(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const u=Vf(s,r.document),h=r.readTime?ni(r.readTime):_t.min(),d=Ye.newNoDocument(u,h),y=r.removedTargetIds||[];i=new zo([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const u=Vf(s,r.document),h=r.removedTargetIds||[];i=new zo([],h,u,null)}else{if(!("filter"in e))return gt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:u=0,unchangedNames:h}=r,d=new OA(u,h),y=r.targetId;i=new ov(y,d)}}return i}function GA(s,e){let i;if(e instanceof nu)i={update:Yy(s,e.key,e.value)};else if(e instanceof lv)i={delete:Ff(s,e.key)};else if(e instanceof wa)i={update:Yy(s,e.key,e.data),updateMask:WA(e.fieldMask)};else{if(!(e instanceof VA))return gt(16599,{Vt:e.type});i={verify:Ff(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(h,d){const y=d.transform;if(y instanceof Fo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Es)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Wl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof Xo)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw gt(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(u,h){return h.updateTime!==void 0?{updateTime:jA(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:gt(27497)})(s,e.precondition)),i}function QA(s,e){return s&&s.length>0?(Pt(e!==void 0,14353),s.map((i=>(function(u,h){let d=u.updateTime?ni(u.updateTime):ni(h);return d.isEqual(_t.min())&&(d=ni(h)),new wA(d,u.transformResults||[])})(i,e)))):[]}function YA(s,e){return{documents:[dv(s,e.path)]}}function FA(s,e){const i={structuredQuery:{}},r=e.path;let u;e.collectionGroup!==null?(u=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=dv(s,u);const h=(function(_){if(_.length!==0)return pv(si.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((A=>(function(x){return{field:fs(x.field),direction:ZA(x.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=Qf(s,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:u}}function XA(s){let e=qA(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let u=null;if(r>0){Pt(r===1,65062);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=(function(D){const x=gv(D);return x instanceof si&&Q_(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(D){return D.map((x=>(function(W){return new Yo(ds(W.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(x)))})(i.orderBy));let y=null;i.limit&&(y=(function(D){let x;return x=typeof D=="object"?D.value:D,nc(x)?null:x})(i.limit));let v=null;i.startAt&&(v=(function(D){const x=!!D.before,G=D.values||[];return new Qo(G,x)})(i.startAt));let _=null;return i.endAt&&(_=(function(D){const x=!D.before,G=D.values||[];return new Qo(G,x)})(i.endAt)),hA(e,u,d,h,y,"F",v,_)}function KA(s,e){const i=(function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:u})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function gv(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=ds(i.unaryFilter.field);return Se.create(r,"==",{doubleValue:NaN});case"IS_NULL":const u=ds(i.unaryFilter.field);return Se.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=ds(i.unaryFilter.field);return Se.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ds(i.unaryFilter.field);return Se.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Se.create(ds(i.fieldFilter.field),(function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return si.create(i.compositeFilter.filters.map((r=>gv(r))),(function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(s):gt(30097,{filter:s})}function ZA(s){return zA[s]}function $A(s){return PA[s]}function JA(s){return BA[s]}function fs(s){return{fieldPath:s.canonicalString()}}function ds(s){return Pe.fromServerFormat(s.fieldPath)}function pv(s){return s instanceof Se?(function(i){if(i.op==="=="){if(My(i.value))return{unaryFilter:{field:fs(i.field),op:"IS_NAN"}};if(Oy(i.value))return{unaryFilter:{field:fs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(My(i.value))return{unaryFilter:{field:fs(i.field),op:"IS_NOT_NAN"}};if(Oy(i.value))return{unaryFilter:{field:fs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fs(i.field),op:$A(i.op),value:i.value}}})(s):s instanceof si?(function(i){const r=i.getFilters().map((u=>pv(u)));return r.length===1?r[0]:{compositeFilter:{op:JA(i.op),filters:r}}})(s):gt(54877,{filter:s})}function WA(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function yv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,i,r,u,h=_t.min(),d=_t.min(),y=Be.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new ma(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e){this.yt=e}}function eS(s){const e=XA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Gf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(){this.Cn=new iS}addToCollectionParentIndex(e,i){return this.Cn.add(i),F.resolve()}getCollectionParents(e,i){return F.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return F.resolve()}deleteFieldIndex(e,i){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,i){return F.resolve()}getDocumentsMatchingTarget(e,i){return F.resolve(null)}getIndexType(e,i){return F.resolve(0)}getFieldIndexes(e,i){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,i){return F.resolve(va.min())}getMinOffsetFromCollectionGroup(e,i){return F.resolve(va.min())}updateCollectionGroup(e,i,r){return F.resolve()}updateIndexEntries(e,i){return F.resolve()}}class iS{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),u=this.index[i]||new Re(ae.comparator),h=!u.has(r);return this.index[i]=u.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),u=this.index[i];return u&&u.has(r)}getEntries(e){return(this.index[e]||new Re(ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_v=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(_v,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ts(0)}static cr(){return new Ts(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="LruGarbageCollector",aS=1048576;function Ky([s,e],[i,r]){const u=Nt(s,i);return u===0?Nt(e,r):u}class rS{constructor(e){this.Ir=e,this.buffer=new Re(Ky),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();Ky(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class sS{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){at(Xy,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ws(i)?at(Xy,"Ignoring IndexedDB error during garbage collection: ",i):await Rs(i)}await this.Vr(3e5)}))}}class lS{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return F.resolve(ec.ce);const r=new rS(i);return this.mr.forEachTarget(e,(u=>r.Ar(u.sequenceNumber))).next((()=>this.mr.pr(e,(u=>r.Ar(u))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(Fy)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fy):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,u,h,d,y,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((D=>(D>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),u=this.params.maximumSequenceNumbersToCollect):u=D,d=Date.now(),this.nthSequenceNumber(e,u)))).next((D=>(r=D,y=Date.now(),this.removeTargets(e,r,i)))).next((D=>(h=D,v=Date.now(),this.removeOrphanedDocuments(e,r)))).next((D=>(_=Date.now(),cs()<=xt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(y-d)+`ms
	Removed ${h} targets in `+(v-y)+`ms
	Removed ${D} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:D}))))}}function uS(s,e){return new lS(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(){this.changes=new yr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ye.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?F.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,i,r,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=u}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((u=>(r=u,this.remoteDocumentCache.getEntry(e,i)))).next((u=>(r!==null&&Gl(r.mutation,u,mn.empty(),Zt.now()),u)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,It()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=It()){const u=hr();return this.populateOverlays(e,u,i).next((()=>this.computeViews(e,i,u,r).next((h=>{let d=zl();return h.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=hr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,It())))}populateOverlays(e,i,r){const u=[];return r.forEach((h=>{i.has(h)||u.push(h)})),this.documentOverlayCache.getOverlays(e,u).next((h=>{h.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,r,u){let h=Ni();const d=Hl(),y=(function(){return Hl()})();return i.forEach(((v,_)=>{const A=r.get(_.key);u.has(_.key)&&(A===void 0||A.mutation instanceof wa)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Gl(A.mutation,_,A.mutation.getFieldMask(),Zt.now())):d.set(_.key,mn.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>y.set(_,new cS(A,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const r=Hl();let u=new re(((d,y)=>d-y)),h=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=r.get(v)||mn.empty();A=y.applyToLocalView(_,A),r.set(v,A);const D=(u.get(y.batchId)||It()).add(v);u=u.insert(y.batchId,D)}))})).next((()=>{const d=[],y=u.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,A=v.value,D=W_();A.forEach((x=>{if(!h.has(x)){const G=rv(i.get(x),r.get(x));G!==null&&D.set(x,G),h=h.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,D))}return F.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,u){return(function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):fA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,u):this.getDocumentsMatchingCollectionQuery(e,i,r,u)}getNextDocuments(e,i,r,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,u).next((h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,u-h.size):F.resolve(hr());let y=Kl,v=h;return d.next((_=>F.forEach(_,((A,D)=>(y<D.largestBatchId&&(y=D.largestBatchId),h.get(A)?F.resolve():this.remoteDocumentCache.getEntry(e,A).next((x=>{v=v.insert(A,x)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,It()))).next((A=>({batchId:y,changes:J_(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ct(i)).next((r=>{let u=zl();return r.isFoundDocument()&&(u=u.insert(r.key,r)),u}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,u){const h=i.collectionGroup;let d=zl();return this.indexManager.getCollectionParents(e,h).next((y=>F.forEach(y,(v=>{const _=(function(D,x){return new ac(x,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,r,u).next((A=>{A.forEach(((D,x)=>{d=d.insert(D,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,u)))).next((d=>{h.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Ye.newInvalidDocument(A)))}));let y=zl();return d.forEach(((v,_)=>{const A=h.get(v);A!==void 0&&Gl(A.mutation,_,mn.empty(),Zt.now()),sc(i,_)&&(y=y.insert(v,_))})),y}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return F.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(u){return{id:u.id,version:u.version,createTime:ni(u.createTime)}})(i)),F.resolve()}getNamedQuery(e,i){return F.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(u){return{name:u.name,query:eS(u.bundledQuery),readTime:ni(u.readTime)}})(i)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(){this.overlays=new re(ct.comparator),this.qr=new Map}getOverlay(e,i){return F.resolve(this.overlays.get(i))}getOverlays(e,i){const r=hr();return F.forEach(i,(u=>this.getOverlay(e,u).next((h=>{h!==null&&r.set(u,h)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((u,h)=>{this.St(e,i,h)})),F.resolve()}removeOverlaysForBatchId(e,i,r){const u=this.qr.get(r);return u!==void 0&&(u.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(r)),F.resolve()}getOverlaysForCollection(e,i,r){const u=hr(),h=i.length+1,d=new ct(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>r&&u.set(v.getKey(),v)}return F.resolve(u)}getOverlaysForCollectionGroup(e,i,r,u){let h=new re(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let A=h.get(_.largestBatchId);A===null&&(A=hr(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const y=hr(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>y.set(_,A))),!(y.size()>=u)););return F.resolve(y)}St(e,i,r){const u=this.overlays.get(r.key);if(u!==null){const d=this.qr.get(u.largestBatchId).delete(r.key);this.qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new IA(i,r));let h=this.qr.get(i);h===void 0&&(h=It(),this.qr.set(i,h)),this.qr.set(i,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(){this.Qr=new Re(Ie.$r),this.Ur=new Re(Ie.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Ie(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Ie(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new ct(new ae([])),r=new Ie(i,e),u=new Ie(i,e+1),h=[];return this.Ur.forEachInRange([r,u],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ct(new ae([])),r=new Ie(i,e),u=new Ie(i,e+1);let h=It();return this.Ur.forEachInRange([r,u],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Ie(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Ie{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ct.comparator(e.key,i.key)||Nt(e.Yr,i.Yr)}static Kr(e,i){return Nt(e.Yr,i.Yr)||ct.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Re(Ie.$r)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,u){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new NA(h,i,r,u);this.mutationQueue.push(d);for(const y of u)this.Zr=this.Zr.add(new Ie(y.key,h)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return F.resolve(d)}lookupMutationBatch(e,i){return F.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,u=this.ei(r),h=u<0?0:u;return F.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?ud:this.tr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Ie(i,0),u=new Ie(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,u],(d=>{const y=this.Xr(d.Yr);h.push(y)})),F.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Re(Nt);return i.forEach((u=>{const h=new Ie(u,0),d=new Ie(u,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(y=>{r=r.add(y.Yr)}))})),F.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,u=r.length+1;let h=r;ct.isDocumentKey(h)||(h=h.child(""));const d=new Ie(new ct(h),0);let y=new Re(Nt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!r.isPrefixOf(_)&&(_.length===u&&(y=y.add(v.Yr)),!0)}),d),F.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((r=>{const u=this.Xr(r);u!==null&&i.push(u)})),i}removeMutationBatch(e,i){Pt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return F.forEach(i.mutations,(u=>{const h=new Ie(u.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Ie(i,0),u=this.Zr.firstAfterOrEqual(r);return F.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.ri=e,this.docs=(function(){return new re(ct.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,u=this.docs.get(r),h=u?u.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return F.resolve(r?r.document.mutableCopy():Ye.newInvalidDocument(i))}getEntries(e,i){let r=Ni();return i.forEach((u=>{const h=this.docs.get(u);r=r.insert(u,h?h.document.mutableCopy():Ye.newInvalidDocument(u))})),F.resolve(r)}getDocumentsMatchingQuery(e,i,r,u){let h=Ni();const d=i.path,y=new ct(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||H1(q1(A),r)<=0||(u.has(A.key)||sc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return F.resolve(h)}getAllFromCollectionGroup(e,i,r,u){gt(9500)}ii(e,i){return F.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new yS(this)}getSize(e){return F.resolve(this.size)}}class yS extends oS{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,u)=>{u.isValidDocument()?i.push(this.Nr.addEntry(e,u)):this.Nr.removeEntry(r)})),F.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e){this.persistence=e,this.si=new yr((i=>hd(i)),fd),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new _d,this.targetCount=0,this.ai=Ts.ur()}forEachTarget(e,i){return this.si.forEach(((r,u)=>i(u))),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),F.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Ts(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,F.resolve()}updateTargetData(e,i){return this.Pr(i),F.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,i,r){let u=0;const h=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&r.get(y.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,y.targetId)),u++)})),F.waitFor(h).next((()=>u))}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return F.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),F.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach((d=>{h.push(u.markPotentiallyOrphaned(e,d))})),F.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),F.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return F.resolve(r)}containsKey(e,i){return F.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,i){this.ui={},this.overlays={},this.ci=new ec(0),this.li=!1,this.li=!0,this.hi=new mS,this.referenceDelegate=e(this),this.Pi=new _S(this),this.indexManager=new nS,this.remoteDocumentCache=(function(u){return new pS(u)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new tS(i),this.Ii=new fS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new dS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new gS(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){at("MemoryPersistence","Starting transaction:",e);const u=new vS(this.ci.next());return this.referenceDelegate.Ei(),r(u).next((h=>this.referenceDelegate.di(u).next((()=>h)))).toPromise().then((h=>(u.raiseOnCommittedEvent(),h)))}Ai(e,i){return F.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class vS extends Q1{constructor(e){super(),this.currentSequenceNumber=e}}class vd{constructor(e){this.persistence=e,this.Ri=new _d,this.Vi=null}static mi(e){return new vd(e)}get fi(){if(this.Vi)return this.Vi;throw gt(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),F.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),F.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((u=>this.fi.add(u.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((u=>{u.forEach((h=>this.fi.add(h.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.fi,(r=>{const u=ct.fromPath(r);return this.gi(e,u).next((h=>{h||i.removeEntry(u,_t.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return F.or([()=>F.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Zo{constructor(e,i){this.persistence=e,this.pi=new yr((r=>X1(r.path)),((r,u)=>r.isEqual(u))),this.garbageCollector=uS(this,i)}static mi(e,i){return new Zo(e,i)}Ei(){}di(e){return F.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((u=>r+u))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return F.forEach(this.pi,((r,u)=>this.br(e,r,u).next((h=>h?F.resolve():i(u)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.ii(e,(d=>this.br(e,d,i).next((y=>{y||(r++,h.removeEntry(d,_t.min()))})))).next((()=>h.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),F.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),F.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=xo(e.data.value)),i}br(e,i,r){return F.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.pi.get(i);return F.resolve(u!==void 0&&u>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,i,r,u){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=u}static As(e,i){let r=It(),u=It();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new Ed(e,i.fromCache,r,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return hT()?8:Y1(oT())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,u){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,u,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new ES;return this.Ss(e,i,d).next((y=>{if(h.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>h.result))}bs(e,i,r,u){return r.documentReadCount<this.fs?(cs()<=xt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",hs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),F.resolve()):(cs()<=xt.DEBUG&&at("QueryEngine","Query:",hs(i),"scans",r.documentReadCount,"local documents and returns",u,"documents as results."),r.documentReadCount>this.gs*u?(cs()<=xt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",hs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(i))):F.resolve())}ys(e,i){if(zy(i))return F.resolve(null);let r=ti(i);return this.indexManager.getIndexType(e,r).next((u=>u===0?null:(i.limit!==null&&u===1&&(i=Gf(i,null,"F"),r=ti(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((h=>{const d=It(...h);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,r).next((v=>{const _=this.Ds(i,y);return this.Cs(i,_,d,v.readTime)?this.ys(e,Gf(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,r,u){return zy(i)||u.isEqual(_t.min())?F.resolve(null):this.ps.getDocuments(e,r).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,r,u)?F.resolve(null):(cs()<=xt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),hs(i)),this.vs(e,d,i,j1(u,Kl)).next((y=>y)))}))}Ds(e,i){let r=new Re(Z_(e));return i.forEach(((u,h)=>{sc(e,h)&&(r=r.add(h))})),r}Cs(e,i,r,u){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Ss(e,i,r){return cs()<=xt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",hs(i)),this.ps.getDocumentsMatchingQuery(e,i,va.min(),r)}vs(e,i,r,u){return this.ps.getDocumentsMatchingQuery(e,r,u).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="LocalStore",AS=3e8;class SS{constructor(e,i,r,u){this.persistence=e,this.Fs=i,this.serializer=u,this.Ms=new re(Nt),this.xs=new yr((h=>hd(h)),fd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function bS(s,e,i,r){return new SS(s,e,i,r)}async function Ev(s,e){const i=Et(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let u;return i.mutationQueue.getAllMutationBatches(r).next((h=>(u=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],y=[];let v=It();for(const _ of u){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){y.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(r,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function RS(s,e){const i=Et(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const u=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,A){const D=_.batch,x=D.keys();let G=F.resolve();return x.forEach((W=>{G=G.next((()=>A.getEntry(v,W))).next((it=>{const Z=_.docVersions.get(W);Pt(Z!==null,48541),it.version.compareTo(Z)<0&&(D.applyToRemoteDocument(it,_),it.isValidDocument()&&(it.setReadTime(_.commitVersion),A.addEntry(it)))}))})),G.next((()=>y.mutationQueue.removeMutationBatch(v,D)))})(i,r,e,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,u,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(y){let v=It();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(r,u)))}))}function Tv(s){const e=Et(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function wS(s,e){const i=Et(s),r=e.snapshotVersion;let u=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});u=i.Ms;const y=[];e.targetChanges.forEach(((A,D)=>{const x=u.get(D);if(!x)return;y.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,D).next((()=>i.Pi.addMatchingKeys(h,A.addedDocuments,D))));let G=x.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(D)!==null?G=G.withResumeToken(Be.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,r)),u=u.insert(D,G),(function(it,Z,At){return it.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=AS?!0:At.addedDocuments.size+At.modifiedDocuments.size+At.removedDocuments.size>0})(x,G,A)&&y.push(i.Pi.updateTargetData(h,G))}));let v=Ni(),_=It();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),y.push(CS(h,d,e.documentUpdates).next((A=>{v=A.ks,_=A.qs}))),!r.isEqual(_t.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next((D=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r)));y.push(A)}return F.waitFor(y).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=u,h)))}function CS(s,e,i){let r=It(),u=It();return i.forEach((h=>r=r.add(h))),e.getEntries(s,r).next((h=>{let d=Ni();return i.forEach(((y,v)=>{const _=h.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(u=u.add(y)),v.isNoDocument()&&v.version.isEqual(_t.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):at(Td,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:u}}))}function DS(s,e){const i=Et(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=ud),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function VS(s,e){const i=Et(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let u;return i.Pi.getTargetData(r,e).next((h=>h?(u=h,F.resolve(u)):i.Pi.allocateTargetId(r).next((d=>(u=new ma(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,u).next((()=>u)))))))})).then((r=>{const u=i.Ms.get(r.targetId);return(u===null||r.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function Kf(s,e,i){const r=Et(s),u=r.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,u)))}catch(d){if(!ws(d))throw d;at(Td,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(u.target)}function Zy(s,e,i){const r=Et(s);let u=_t.min(),h=It();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const D=Et(v),x=D.xs.get(A);return x!==void 0?F.resolve(D.Ms.get(x)):D.Pi.getTargetData(_,A)})(r,d,ti(e)).next((y=>{if(y)return u=y.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,y.targetId).next((v=>{h=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?u:_t.min(),i?h:It()))).next((y=>(NS(r,mA(e),y),{documents:y,Qs:h})))))}function NS(s,e,i){let r=s.Os.get(e)||_t.min();i.forEach(((u,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),s.Os.set(e,r)}class $y{constructor(){this.activeTargetIds=EA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IS{constructor(){this.Mo=new $y,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new $y,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="ConnectivityMonitor";class Wy{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(Jy,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){at(Jy,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo=null;function Zf(){return Oo===null?Oo=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oo++,"0x"+Oo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf="RestConnection",MS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xS{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${u}`,this.Wo=this.databaseId.database===Ho?`project_id=${r}`:`project_id=${r}&database_id=${u}`}Go(e,i,r,u,h){const d=Zf(),y=this.zo(e,i.toUriEncodedString());at(Nf,`Sending RPC '${e}' ${d}:`,y,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,u,h);const{host:_}=new URL(y),A=id(_);return this.Jo(e,y,v,r,A).then((D=>(at(Nf,`Received RPC '${e}' ${d}: `,D),D)),(D=>{throw ps(Nf,`RPC '${e}' ${d} failed with error: `,D,"url: ",y,"request:",r),D}))}Ho(e,i,r,u,h,d){return this.Go(e,i,r,u,h)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bs})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((u,h)=>e[h]=u)),r&&r.headers.forEach(((u,h)=>e[h]=u))}zo(e,i){const r=MS[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class LS extends xS{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,u,h){const d=Zf();return new Promise(((y,v)=>{const _=new R_;_.setWithCredentials(!0),_.listenOnce(w_.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Mo.NO_ERROR:const D=_.getResponseJson();at(Ge,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(D)),y(D);break;case Mo.TIMEOUT:at(Ge,`RPC '${e}' ${d} timed out`),v(new st(K.DEADLINE_EXCEEDED,"Request time out"));break;case Mo.HTTP_ERROR:const x=_.getStatus();if(at(Ge,`RPC '${e}' ${d} failed with status:`,x,"response text:",_.getResponseText()),x>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const W=G?.error;if(W&&W.status&&W.message){const it=(function(At){const Tt=At.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(Tt)>=0?Tt:K.UNKNOWN})(W.status);v(new st(it,W.message))}else v(new st(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new st(K.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{at(Ge,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(u);at(Ge,`RPC '${e}' ${d} sending request:`,u),_.send(i,"POST",A,r,15)}))}T_(e,i,r){const u=Zf(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=V_(),y=D_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,r),v.encodeInitMessageHeaders=!0;const A=h.join("");at(Ge,`Creating RPC '${e}' stream ${u}: ${A}`,v);const D=d.createWebChannel(A,v);this.I_(D);let x=!1,G=!1;const W=new US({Yo:Z=>{G?at(Ge,`Not sending because RPC '${e}' stream ${u} is closed:`,Z):(x||(at(Ge,`Opening RPC '${e}' stream ${u} transport.`),D.open(),x=!0),at(Ge,`RPC '${e}' stream ${u} sending:`,Z),D.send(Z))},Zo:()=>D.close()}),it=(Z,At,Tt)=>{Z.listen(At,(ft=>{try{Tt(ft)}catch(Bt){setTimeout((()=>{throw Bt}),0)}}))};return it(D,Ll.EventType.OPEN,(()=>{G||(at(Ge,`RPC '${e}' stream ${u} transport opened.`),W.o_())})),it(D,Ll.EventType.CLOSE,(()=>{G||(G=!0,at(Ge,`RPC '${e}' stream ${u} transport closed`),W.a_(),this.E_(D))})),it(D,Ll.EventType.ERROR,(Z=>{G||(G=!0,ps(Ge,`RPC '${e}' stream ${u} transport errored. Name:`,Z.name,"Message:",Z.message),W.a_(new st(K.UNAVAILABLE,"The operation could not be completed")))})),it(D,Ll.EventType.MESSAGE,(Z=>{if(!G){const At=Z.data[0];Pt(!!At,16349);const Tt=At,ft=Tt?.error||Tt[0]?.error;if(ft){at(Ge,`RPC '${e}' stream ${u} received error:`,ft);const Bt=ft.status;let dt=(function(b){const w=ye[b];if(w!==void 0)return uv(w)})(Bt),bt=ft.message;dt===void 0&&(dt=K.INTERNAL,bt="Unknown error status: "+Bt+" with message "+ft.message),G=!0,W.a_(new st(dt,bt)),D.close()}else at(Ge,`RPC '${e}' stream ${u} received:`,At),W.u_(At)}})),it(y,C_.STAT_EVENT,(Z=>{Z.stat===Pf.PROXY?at(Ge,`RPC '${e}' stream ${u} detected buffering proxy`):Z.stat===Pf.NOPROXY&&at(Ge,`RPC '${e}' stream ${u} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function If(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(s){return new kA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,i,r=1e3,u=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=u,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),u=Math.max(0,i-r);u>0&&at("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,u,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="PersistentStream";class Sv{constructor(e,i,r,u,h,d,y,v){this.Mi=e,this.S_=r,this.b_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Av(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Vi(i.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,u])=>{this.D_===i&&this.G_(r,u)}),(r=>{e((()=>{const u=new st(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(u)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((u=>{r((()=>this.z_(u)))})),this.stream.onMessage((u=>{r((()=>++this.F_==1?this.J_(u):this.onNext(u)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return at(t_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(at(t_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zS extends Sv{constructor(e,i,r,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,u,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=HA(this.serializer,e),r=(function(h){if(!("targetChange"in h))return _t.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?ni(d.readTime):_t.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=Xf(this.serializer),i.addTarget=(function(h,d){let y;const v=d.target;if(y=Hf(v)?{documents:YA(h,v)}:{query:FA(h,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=hv(h,d.resumeToken);const _=Qf(h,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(_t.min())>0){y.readTime=Ko(h,d.snapshotVersion.toTimestamp());const _=Qf(h,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const r=KA(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=Xf(this.serializer),i.removeTarget=e,this.q_(i)}}class PS extends Sv{constructor(e,i,r,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,u,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Pt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Pt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Pt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=QA(e.writeResults,e.commitTime),r=ni(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Xf(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>GA(this.serializer,r)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{}class kS extends BS{constructor(e,i,r,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new st(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,Yf(i,r),u,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new st(K.UNKNOWN,h.toString())}))}Ho(e,i,r,u,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,Yf(i,r),u,d,y,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class jS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vi(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr="RemoteStore";class qS{constructor(e,i,r,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{_r(this)&&(at(pr,"Restarting streams for network reachability change."),await(async function(v){const _=Et(v);_.Ea.add(4),await au(_),_.Ra.set("Unknown"),_.Ea.delete(4),await hc(_)})(this))}))})),this.Ra=new jS(r,u)}}async function hc(s){if(_r(s))for(const e of s.da)await e(!0)}async function au(s){for(const e of s.da)await e(!1)}function bv(s,e){const i=Et(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Rd(i)?bd(i):Cs(i).O_()&&Sd(i,e))}function Ad(s,e){const i=Et(s),r=Cs(i);i.Ia.delete(e),r.O_()&&Rv(i,e),i.Ia.size===0&&(r.O_()?r.L_():_r(i)&&i.Ra.set("Unknown"))}function Sd(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Cs(s).Y_(e)}function Rv(s,e){s.Va.Ue(e),Cs(s).Z_(e)}function bd(s){s.Va=new LA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Cs(s).start(),s.Ra.ua()}function Rd(s){return _r(s)&&!Cs(s).x_()&&s.Ia.size>0}function _r(s){return Et(s).Ea.size===0}function wv(s){s.Va=void 0}async function HS(s){s.Ra.set("Online")}async function GS(s){s.Ia.forEach(((e,i)=>{Sd(s,e)}))}async function QS(s,e){wv(s),Rd(s)?(s.Ra.ha(e),bd(s)):s.Ra.set("Unknown")}async function YS(s,e,i){if(s.Ra.set("Online"),e instanceof cv&&e.state===2&&e.cause)try{await(async function(u,h){const d=h.cause;for(const y of h.targetIds)u.Ia.has(y)&&(await u.remoteSyncer.rejectListen(y,d),u.Ia.delete(y),u.Va.removeTarget(y))})(s,e)}catch(r){at(pr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await $o(s,r)}else if(e instanceof zo?s.Va.Ze(e):e instanceof ov?s.Va.st(e):s.Va.tt(e),!i.isEqual(_t.min()))try{const r=await Tv(s.localStore);i.compareTo(r)>=0&&await(function(h,d){const y=h.Va.Tt(d);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(Be.EMPTY_BYTE_STRING,A.snapshotVersion)),Rv(h,v);const D=new ma(A.target,v,_,A.sequenceNumber);Sd(h,D)})),h.remoteSyncer.applyRemoteEvent(y)})(s,i)}catch(r){at(pr,"Failed to raise snapshot:",r),await $o(s,r)}}async function $o(s,e,i){if(!ws(e))throw e;s.Ea.add(1),await au(s),s.Ra.set("Offline"),i||(i=()=>Tv(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{at(pr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await hc(s)}))}function Cv(s,e){return e().catch((i=>$o(s,i,e)))}async function fc(s){const e=Et(s),i=Sa(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ud;for(;FS(e);)try{const u=await DS(e.localStore,r);if(u===null){e.Ta.length===0&&i.L_();break}r=u.batchId,XS(e,u)}catch(u){await $o(e,u)}Dv(e)&&Vv(e)}function FS(s){return _r(s)&&s.Ta.length<10}function XS(s,e){s.Ta.push(e);const i=Sa(s);i.O_()&&i.X_&&i.ea(e.mutations)}function Dv(s){return _r(s)&&!Sa(s).x_()&&s.Ta.length>0}function Vv(s){Sa(s).start()}async function KS(s){Sa(s).ra()}async function ZS(s){const e=Sa(s);for(const i of s.Ta)e.ea(i.mutations)}async function $S(s,e,i){const r=s.Ta.shift(),u=gd.from(r,e,i);await Cv(s,(()=>s.remoteSyncer.applySuccessfulWrite(u))),await fc(s)}async function JS(s,e){e&&Sa(s).X_&&await(async function(r,u){if((function(d){return MA(d)&&d!==K.ABORTED})(u.code)){const h=r.Ta.shift();Sa(r).B_(),await Cv(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,u))),await fc(r)}})(s,e),Dv(s)&&Vv(s)}async function e_(s,e){const i=Et(s);i.asyncQueue.verifyOperationInProgress(),at(pr,"RemoteStore received new credentials");const r=_r(i);i.Ea.add(3),await au(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await hc(i)}async function WS(s,e){const i=Et(s);e?(i.Ea.delete(2),await hc(i)):e||(i.Ea.add(2),await au(i),i.Ra.set("Unknown"))}function Cs(s){return s.ma||(s.ma=(function(i,r,u){const h=Et(i);return h.sa(),new zS(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(s.datastore,s.asyncQueue,{Xo:HS.bind(null,s),t_:GS.bind(null,s),r_:QS.bind(null,s),H_:YS.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),Rd(s)?bd(s):s.Ra.set("Unknown")):(await s.ma.stop(),wv(s))}))),s.ma}function Sa(s){return s.fa||(s.fa=(function(i,r,u){const h=Et(i);return h.sa(),new PS(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:KS.bind(null,s),r_:JS.bind(null,s),ta:ZS.bind(null,s),na:$S.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await fc(s)):(await s.fa.stop(),s.Ta.length>0&&(at(pr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,i,r,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=u,this.removalCallback=h,this.deferred=new _a,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,u,h){const d=Date.now()+r,y=new wd(e,i,d,u,h);return y.start(r),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cd(s,e){if(Vi("AsyncQueue",`${e}: ${s}`),ws(s))return new st(K.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{static emptySet(e){return new gs(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||ct.comparator(i.key,r.key):(i,r)=>ct.comparator(i.key,r.key),this.keyedMap=zl(),this.sortedSet=new re(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof gs)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=r.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new gs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(){this.ga=new re(ct.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):gt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class As{constructor(e,i,r,u,h,d,y,v,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,u,h){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new As(e,i,gs.emptySet(i),d,r,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==r[u].type||!i[u].doc.isEqual(r[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class eb{constructor(){this.queries=i_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const u=Et(i),h=u.queries;u.queries=i_(),h.forEach(((d,y)=>{for(const v of y.Sa)v.onError(r)}))})(this,new st(K.ABORTED,"Firestore shutting down"))}}function i_(){return new yr((s=>K_(s)),rc)}async function nb(s,e){const i=Et(s);let r=3;const u=e.query;let h=i.queries.get(u);h?!h.ba()&&e.Da()&&(r=2):(h=new tb,r=e.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(u,!0);break;case 1:h.wa=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const y=Cd(d,`Initialization of query '${hs(e.query)}' failed`);return void e.onError(y)}i.queries.set(u,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Dd(i)}async function ib(s,e){const i=Et(s),r=e.query;let u=3;const h=i.queries.get(r);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?u=e.Da()?0:1:!h.ba()&&e.Da()&&(u=2))}switch(u){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function ab(s,e){const i=Et(s);let r=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const y of d.Sa)y.Fa(u)&&(r=!0);d.wa=u}}r&&Dd(i)}function rb(s,e,i){const r=Et(s),u=r.queries.get(e);if(u)for(const h of u.Sa)h.onError(i);r.queries.delete(e)}function Dd(s){s.Ca.forEach((e=>{e.next()}))}var $f,a_;(a_=$f||($f={})).Ma="default",a_.Cache="cache";class sb{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const u of e.docChanges)u.type!==3&&r.push(u);e=new As(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=As.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$f.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e){this.key=e}}class Iv{constructor(e){this.key=e}}class lb{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=It(),this.mutatedKeys=It(),this.eu=Z_(e),this.tu=new gs(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new n_,u=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,y=!1;const v=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,_=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal(((A,D)=>{const x=u.get(A),G=sc(this.query,D)?D:null,W=!!x&&this.mutatedKeys.has(x.key),it=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let Z=!1;x&&G?x.data.isEqual(G.data)?W!==it&&(r.track({type:3,doc:G}),Z=!0):this.su(x,G)||(r.track({type:2,doc:G}),Z=!0,(v&&this.eu(G,v)>0||_&&this.eu(G,_)<0)&&(y=!0)):!x&&G?(r.track({type:0,doc:G}),Z=!0):x&&!G&&(r.track({type:1,doc:x}),Z=!0,(v||_)&&(y=!0)),Z&&(G?(d=d.add(G),h=it?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:y,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,u){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,D)=>(function(G,W){const it=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Rt:Z})}};return it(G)-it(W)})(A.type,D.type)||this.eu(A.doc,D.doc))),this.ou(r),u=u??!1;const y=i&&!u?this._u():[],v=this.Xa.size===0&&this.current&&!u?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new As(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new n_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=It(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new Iv(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new Nv(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=It();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return As.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Vd="SyncEngine";class ub{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class ob{constructor(e){this.key=e,this.hu=!1}}class cb{constructor(e,i,r,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new yr((y=>K_(y)),rc),this.Iu=new Map,this.Eu=new Set,this.du=new re(ct.comparator),this.Au=new Map,this.Ru=new _d,this.Vu={},this.mu=new Map,this.fu=Ts.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function hb(s,e,i=!0){const r=zv(s);let u;const h=r.Tu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.lu()):u=await Ov(r,e,i,!0),u}async function fb(s,e){const i=zv(s);await Ov(i,e,!0,!1)}async function Ov(s,e,i,r){const u=await VS(s.localStore,ti(e)),h=u.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let y;return r&&(y=await db(s,e,h,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&bv(s.remoteStore,u),y}async function db(s,e,i,r,u){s.pu=(D,x,G)=>(async function(it,Z,At,Tt){let ft=Z.view.ru(At);ft.Cs&&(ft=await Zy(it.localStore,Z.query,!1).then((({documents:I})=>Z.view.ru(I,ft))));const Bt=Tt&&Tt.targetChanges.get(Z.targetId),dt=Tt&&Tt.targetMismatches.get(Z.targetId)!=null,bt=Z.view.applyChanges(ft,it.isPrimaryClient,Bt,dt);return s_(it,Z.targetId,bt.au),bt.snapshot})(s,D,x,G);const h=await Zy(s.localStore,e,!0),d=new lb(e,h.Qs),y=d.ru(h.documents),v=iu.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",u),_=d.applyChanges(y,s.isPrimaryClient,v);s_(s,i,_.au);const A=new ub(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function mb(s,e,i){const r=Et(s),u=r.Tu.get(e),h=r.Iu.get(u.targetId);if(h.length>1)return r.Iu.set(u.targetId,h.filter((d=>!rc(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(u.targetId),r.sharedClientState.isActiveQueryTarget(u.targetId)||await Kf(r.localStore,u.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(u.targetId),i&&Ad(r.remoteStore,u.targetId),Jf(r,u.targetId)})).catch(Rs)):(Jf(r,u.targetId),await Kf(r.localStore,u.targetId,!0))}async function gb(s,e){const i=Et(s),r=i.Tu.get(e),u=i.Iu.get(r.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Ad(i.remoteStore,r.targetId))}async function pb(s,e,i){const r=Sb(s);try{const u=await(function(d,y){const v=Et(d),_=Zt.now(),A=y.reduce(((G,W)=>G.add(W.key)),It());let D,x;return v.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let W=Ni(),it=It();return v.Ns.getEntries(G,A).next((Z=>{W=Z,W.forEach(((At,Tt)=>{Tt.isValidDocument()||(it=it.add(At))}))})).next((()=>v.localDocuments.getOverlayedDocuments(G,W))).next((Z=>{D=Z;const At=[];for(const Tt of y){const ft=DA(Tt,D.get(Tt.key).overlayedDocument);ft!=null&&At.push(new wa(Tt.key,ft,q_(ft.value.mapValue),ei.exists(!0)))}return v.mutationQueue.addMutationBatch(G,_,At,y)})).next((Z=>{x=Z;const At=Z.applyToLocalDocumentSet(D,it);return v.documentOverlayCache.saveOverlays(G,Z.batchId,At)}))})).then((()=>({batchId:x.batchId,changes:J_(D)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(u.batchId),(function(d,y,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new re(Nt)),_=_.insert(y,v),d.Vu[d.currentUser.toKey()]=_})(r,u.batchId,i),await ru(r,u.changes),await fc(r.remoteStore)}catch(u){const h=Cd(u,"Failed to persist write");i.reject(h)}}async function Mv(s,e){const i=Et(s);try{const r=await wS(i.localStore,e);e.targetChanges.forEach(((u,h)=>{const d=i.Au.get(h);d&&(Pt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.hu=!0:u.modifiedDocuments.size>0?Pt(d.hu,14607):u.removedDocuments.size>0&&(Pt(d.hu,42227),d.hu=!1))})),await ru(i,r,e)}catch(r){await Rs(r)}}function r_(s,e,i){const r=Et(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const u=[];r.Tu.forEach(((h,d)=>{const y=d.view.va(e);y.snapshot&&u.push(y.snapshot)})),(function(d,y){const v=Et(d);v.onlineState=y;let _=!1;v.queries.forEach(((A,D)=>{for(const x of D.Sa)x.va(y)&&(_=!0)})),_&&Dd(v)})(r.eventManager,e),u.length&&r.Pu.H_(u),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function yb(s,e,i){const r=Et(s);r.sharedClientState.updateQueryState(e,"rejected",i);const u=r.Au.get(e),h=u&&u.key;if(h){let d=new re(ct.comparator);d=d.insert(h,Ye.newNoDocument(h,_t.min()));const y=It().add(h),v=new oc(_t.min(),new Map,new re(Nt),d,y);await Mv(r,v),r.du=r.du.remove(h),r.Au.delete(e),Nd(r)}else await Kf(r.localStore,e,!1).then((()=>Jf(r,e,i))).catch(Rs)}async function _b(s,e){const i=Et(s),r=e.batch.batchId;try{const u=await RS(i.localStore,e);Uv(i,r,null),xv(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await ru(i,u)}catch(u){await Rs(u)}}async function vb(s,e,i){const r=Et(s);try{const u=await(function(d,y){const v=Et(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,y).next((D=>(Pt(D!==null,37113),A=D.keys(),v.mutationQueue.removeMutationBatch(_,D)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(r.localStore,e);Uv(r,e,i),xv(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await ru(r,u)}catch(u){await Rs(u)}}function xv(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function Uv(s,e,i){const r=Et(s);let u=r.Vu[r.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),r.Vu[r.currentUser.toKey()]=u}}function Jf(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||Lv(s,r)}))}function Lv(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(Ad(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),Nd(s))}function s_(s,e,i){for(const r of i)r instanceof Nv?(s.Ru.addReference(r.key,e),Eb(s,r)):r instanceof Iv?(at(Vd,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||Lv(s,r.key)):gt(19791,{wu:r})}function Eb(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(at(Vd,"New document in limbo: "+i),s.Eu.add(r),Nd(s))}function Nd(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ct(ae.fromString(e)),r=s.fu.next();s.Au.set(r,new ob(i)),s.du=s.du.insert(i,r),bv(s.remoteStore,new ma(ti(dd(i.path)),r,"TargetPurposeLimboResolution",ec.ce))}}async function ru(s,e,i){const r=Et(s),u=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((y,v)=>{d.push(r.pu(v,e,i).then((_=>{if((_||i)&&r.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){u.push(_);const A=Ed.As(v.targetId,_);h.push(A)}})))})),await Promise.all(d),r.Pu.H_(u),await(async function(v,_){const A=Et(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(D=>F.forEach(_,(x=>F.forEach(x.Es,(G=>A.persistence.referenceDelegate.addReference(D,x.targetId,G))).next((()=>F.forEach(x.ds,(G=>A.persistence.referenceDelegate.removeReference(D,x.targetId,G)))))))))}catch(D){if(!ws(D))throw D;at(Td,"Failed to update sequence numbers: "+D)}for(const D of _){const x=D.targetId;if(!D.fromCache){const G=A.Ms.get(x),W=G.snapshotVersion,it=G.withLastLimboFreeSnapshotVersion(W);A.Ms=A.Ms.insert(x,it)}}})(r.localStore,h))}async function Tb(s,e){const i=Et(s);if(!i.currentUser.isEqual(e)){at(Vd,"User change. New user:",e.toKey());const r=await Ev(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((y=>{y.forEach((v=>{v.reject(new st(K.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ru(i,r.Ls)}}function Ab(s,e){const i=Et(s),r=i.Au.get(e);if(r&&r.hu)return It().add(r.key);{let u=It();const h=i.Iu.get(e);if(!h)return u;for(const d of h){const y=i.Tu.get(d);u=u.unionWith(y.view.nu)}return u}}function zv(s){const e=Et(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Mv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ab.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yb.bind(null,e),e.Pu.H_=ab.bind(null,e.eventManager),e.Pu.yu=rb.bind(null,e.eventManager),e}function Sb(s){const e=Et(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_b.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vb.bind(null,e),e}class Jo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return bS(this.persistence,new TS,e.initialUser,this.serializer)}Cu(e){return new vv(vd.mi,this.serializer)}Du(e){return new IS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jo.provider={build:()=>new Jo};class bb extends Jo{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Pt(this.persistence.referenceDelegate instanceof Zo,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new sS(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new vv((r=>Zo.mi(r,i)),this.serializer)}}class Wf{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>r_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Tb.bind(null,this.syncEngine),await WS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new eb})()}createDatastore(e){const i=cc(e.databaseInfo.databaseId),r=(function(h){return new LS(h)})(e.databaseInfo);return(function(h,d,y,v){return new kS(h,d,y,v)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,u,h,d,y){return new qS(r,u,h,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>r_(this.syncEngine,i,0)),(function(){return Wy.v()?new Wy:new OS})())}createSyncEngine(e,i){return(function(u,h,d,y,v,_,A){const D=new cb(u,h,d,y,v,_);return A&&(D.gu=!0),D})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Et(i);at(pr,"RemoteStore shutting down."),r.Ea.add(5),await au(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Wf.provider={build:()=>new Wf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="FirestoreClient";class wb{constructor(e,i,r,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=u,this.user=Qe.UNAUTHENTICATED,this.clientId=sd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{at(ba,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(at(ba,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _a;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Cd(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Of(s,e){s.asyncQueue.verifyOperationInProgress(),at(ba,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async u=>{r.isEqual(u)||(await Ev(e.localStore,u),r=u)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function l_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await Cb(s);at(ba,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>e_(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,u)=>e_(e.remoteStore,u))),s._onlineComponents=e}async function Cb(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){at(ba,"Using user provided OfflineComponentProvider");try{await Of(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(u){return u.name==="FirebaseError"?u.code===K.FAILED_PRECONDITION||u.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11})(i))throw i;ps("Error using user provided cache. Falling back to memory cache: "+i),await Of(s,new Jo)}}else at(ba,"Using default OfflineComponentProvider"),await Of(s,new bb(void 0));return s._offlineComponents}async function Pv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(at(ba,"Using user provided OnlineComponentProvider"),await l_(s,s._uninitializedComponentsProvider._online)):(at(ba,"Using default OnlineComponentProvider"),await l_(s,new Wf))),s._onlineComponents}function Db(s){return Pv(s).then((e=>e.syncEngine))}async function Vb(s){const e=await Pv(s),i=e.eventManager;return i.onListen=hb.bind(null,e.syncEngine),i.onUnlisten=mb.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=fb.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=gb.bind(null,e.syncEngine),i}function Nb(s,e,i={}){const r=new _a;return s.asyncQueue.enqueueAndForget((async()=>(function(h,d,y,v,_){const A=new Rb({next:x=>{A.Nu(),d.enqueueAndForget((()=>ib(h,D)));const G=x.docs.has(y);!G&&x.fromCache?_.reject(new st(K.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&x.fromCache&&v&&v.source==="server"?_.reject(new st(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),D=new sb(dd(y.path),A,{includeMetadataChanges:!0,qa:!0});return nb(h,D)})(await Vb(s),s.asyncQueue,e,i,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="firestore.googleapis.com",o_=!0;class c_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new st(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kv,this.ssl=o_}else this.host=e.host,this.ssl=e.ssl??o_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_v;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aS)throw new st(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}k1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Bv(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,u){return r.timeoutSeconds===u.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Id{constructor(e,i,r,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new c_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new st(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new c_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new V1;switch(r.type){case"firstParty":return new M1(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new st(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=u_.get(i);r&&(at("ComponentProvider","Removing Datastore"),u_.delete(i),r.terminate())})(this),Promise.resolve()}}function Ib(s,e,i,r={}){s=gr(s,Id);const u=id(e),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},y=`${e}:${i}`;u&&(aT(`https://${y}`),uT("Firestore",!0)),h.host!==kv&&h.host!==y&&ps("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:y,ssl:u,emulatorOptions:r};if(!Yl(v,d)&&(s._setSettings(v),r.mockUserToken)){let _,A;if(typeof r.mockUserToken=="string")_=r.mockUserToken,A=Qe.MOCK_USER;else{_=rT(r.mockUserToken,s._app?.options.projectId);const D=r.mockUserToken.sub||r.mockUserToken.user_id;if(!D)throw new st(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Qe(D)}s._authCredentials=new N1(new I_(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Od(this.firestore,e,this._query)}}class be{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new be(this.firestore,e,this._key)}toJSON(){return{type:be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(eu(i,be._jsonSchema))return new be(e,r||null,new ct(ae.fromString(i.referencePath)))}}be._jsonSchemaVersion="firestore/documentReference/1.0",be._jsonSchema={type:_e("string",be._jsonSchemaVersion),referencePath:_e("string")};class tu extends Od{constructor(e,i,r){super(e,i,dd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new be(this.firestore,null,new ct(e))}withConverter(e){return new tu(this.firestore,e,this._path)}}function Md(s,e,...i){if(s=dr(s),arguments.length===1&&(e=sd.newId()),B1("doc","path",e),s instanceof Id){const r=ae.fromString(e,...i);return by(r),new be(s,null,new ct(r))}{if(!(s instanceof be||s instanceof tu))throw new st(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ae.fromString(e,...i));return by(r),new be(s.firestore,s instanceof tu?s.converter:null,new ct(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="AsyncQueue";class f_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Av(this,"async_queue_retry"),this._c=()=>{const r=If();r&&at(h_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=If();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=If();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new _a;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ws(e))throw e;at(h_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Vi("INTERNAL UNHANDLED ERROR: ",d_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const u=wd.createAndSchedule(this,e,i,r,(h=>this.hc(h)));return this.tc.push(u),u}uc(){this.nc&&gt(47125,{Pc:d_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function d_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class dc extends Id{constructor(e,i,r,u){super(e,i,r,u),this.type="firestore",this._queue=new f_,this._persistenceKey=u?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new f_(e),this._firestoreClient=void 0,await e}}}function Ob(s,e){const i=typeof s=="object"?s:_1(),r=typeof s=="string"?s:Ho,u=d1(i,"firestore").getImmediate({identifier:r});if(!u._initialized){const h=nT("firestore");h&&Ib(u,...h)}return u}function jv(s){if(s._terminated)throw new st(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Mb(s),s._firestoreClient}function Mb(s){const e=s._freezeSettings(),i=(function(u,h,d,y){return new $1(u,h,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,Bv(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new wb(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(u){const h=u?._online.build();return{_offline:u?._offline.build(h),_online:h}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cn(Be.fromBase64String(e))}catch(i){throw new st(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Cn(Be.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Cn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(eu(e,Cn._jsonSchema))return Cn.fromBase64String(e.bytes)}}Cn._jsonSchemaVersion="firestore/bytes/1.0",Cn._jsonSchema={type:_e("string",Cn._jsonSchemaVersion),bytes:_e("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new st(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new st(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new st(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ii._jsonSchemaVersion}}static fromJSON(e){if(eu(e,ii._jsonSchema))return new ii(e.latitude,e.longitude)}}ii._jsonSchemaVersion="firestore/geoPoint/1.0",ii._jsonSchema={type:_e("string",ii._jsonSchemaVersion),latitude:_e("number"),longitude:_e("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,u){if(r.length!==u.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==u[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(eu(e,ai._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ai(e.vectorValues);throw new st(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ai._jsonSchemaVersion="firestore/vectorValue/1.0",ai._jsonSchema={type:_e("string",ai._jsonSchemaVersion),vectorValues:_e("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=/^__.*__$/;class Ub{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new wa(e,this.data,this.fieldMask,i,this.fieldTransforms):new nu(e,this.data,i,this.fieldTransforms)}}class qv{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new wa(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Hv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ac:s})}}class pc{constructor(e,i,r,u,h,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=u,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new pc({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Wo(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Hv(this.Ac)&&xb.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Lb{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||cc(e)}Cc(e,i,r,u=!1){return new pc({Ac:e,methodName:i,Dc:r,path:Pe.emptyPath(),fc:!1,bc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gv(s){const e=s._freezeSettings(),i=cc(s._databaseId);return new Lb(s._databaseId,!!e.ignoreUndefinedProperties,i)}function zb(s,e,i,r,u,h={}){const d=s.Cc(h.merge||h.mergeFields?2:0,e,i,u);Ud("Data must be an object, but it was:",d,r);const y=Qv(r,d);let v,_;if(h.merge)v=new mn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const D of h.mergeFields){const x=td(e,D,i);if(!d.contains(x))throw new st(K.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);Fv(A,x)||A.push(x)}v=new mn(A),_=d.fieldTransforms.filter((D=>v.covers(D.field)))}else v=null,_=d.fieldTransforms;return new Ub(new rn(y),v,_)}class yc extends gc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yc}}function Pb(s,e,i){return new pc({Ac:3,Dc:e.settings.Dc,methodName:s._methodName,fc:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class xd extends gc{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=Pb(this,e,!0),r=this.vc.map((h=>su(h,i))),u=new Es(r);return new bA(e.path,u)}isEqual(e){return e instanceof xd&&Yl(this.vc,e.vc)}}function Bb(s,e,i,r){const u=s.Cc(1,e,i);Ud("Data must be an object, but it was:",u,r);const h=[],d=rn.empty();Ra(r,((v,_)=>{const A=Ld(e,v,i);_=dr(_);const D=u.yc(A);if(_ instanceof yc)h.push(A);else{const x=su(_,D);x!=null&&(h.push(A),d.set(A,x))}}));const y=new mn(h);return new qv(d,y,u.fieldTransforms)}function kb(s,e,i,r,u,h){const d=s.Cc(1,e,i),y=[td(e,r,i)],v=[u];if(h.length%2!=0)throw new st(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<h.length;x+=2)y.push(td(e,h[x])),v.push(h[x+1]);const _=[],A=rn.empty();for(let x=y.length-1;x>=0;--x)if(!Fv(_,y[x])){const G=y[x];let W=v[x];W=dr(W);const it=d.yc(G);if(W instanceof yc)_.push(G);else{const Z=su(W,it);Z!=null&&(_.push(G),A.set(G,Z))}}const D=new mn(_);return new qv(A,D,d.fieldTransforms)}function su(s,e){if(Yv(s=dr(s)))return Ud("Unsupported field value:",e,s),Qv(s,e);if(s instanceof gc)return(function(r,u){if(!Hv(u.Ac))throw u.Sc(`${r._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Sc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(u);h&&u.fieldTransforms.push(h)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,u){const h=[];let d=0;for(const y of r){let v=su(y,u.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(s,e)}return(function(r,u){if((r=dr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return TA(u.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=Zt.fromDate(r);return{timestampValue:Ko(u.serializer,h)}}if(r instanceof Zt){const h=new Zt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ko(u.serializer,h)}}if(r instanceof ii)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Cn)return{bytesValue:hv(u.serializer,r._byteString)};if(r instanceof be){const h=u.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw u.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:yd(r.firestore._databaseId||u.databaseId,r._key.path)}}if(r instanceof ai)return(function(d,y){return{mapValue:{fields:{[k_]:{stringValue:j_},[Go]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return md(y.serializer,_)}))}}}}}})(r,u);throw u.Sc(`Unsupported field value: ${ld(r)}`)})(s,e)}function Qv(s,e){const i={};return x_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ra(s,((r,u)=>{const h=su(u,e.mc(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function Yv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Zt||s instanceof ii||s instanceof Cn||s instanceof be||s instanceof gc||s instanceof ai)}function Ud(s,e,i){if(!Yv(i)||!O_(i)){const r=ld(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function td(s,e,i){if((e=dr(e))instanceof mc)return e._internalPath;if(typeof e=="string")return Ld(s,e);throw Wo("Field path arguments must be of type string or ",s,!1,void 0,i)}const jb=new RegExp("[~\\*/\\[\\]]");function Ld(s,e,i){if(e.search(jb)>=0)throw Wo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new mc(...e.split("."))._internalPath}catch{throw Wo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Wo(s,e,i,r,u){const h=r&&!r.isEmpty(),d=u!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${r}`),d&&(v+=` in document ${u}`),v+=")"),new st(K.INVALID_ARGUMENT,y+s+v)}function Fv(s,e){return s.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,i,r,u,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Kv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class qb extends Xv{data(){return super.data()}}function Kv(s,e){return typeof e=="string"?Ld(s,e):e instanceof mc?e._internalPath:e._delegate._internalPath}class Hb{convertValue(e,i="none"){switch(Aa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ta(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw gt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Ra(e,((u,h)=>{r[u]=this.convertValue(h,i)})),r}convertVectorValue(e){const i=e.fields?.[Go].arrayValue?.values?.map((r=>me(r.doubleValue)));return new ai(i)}convertGeoPoint(e){return new ii(me(e.latitude),me(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=ic(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const i=Ea(e);return new Zt(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ae.fromString(e);Pt(yv(r),9688,{name:e});const u=new $l(r.get(1),r.get(3)),h=new ct(r.popFirst(5));return u.isEqual(i)||Vi(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class Bl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fr extends Xv{constructor(e,i,r,u,h,d){super(e,i,r,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Po(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Kv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=fr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}fr._jsonSchemaVersion="firestore/documentSnapshot/1.0",fr._jsonSchema={type:_e("string",fr._jsonSchemaVersion),bundleSource:_e("string","DocumentSnapshot"),bundleName:_e("string"),bundle:_e("string")};class Po extends fr{data(e={}){return super.data(e)}}class Ql{constructor(e,i,r,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Bl(u.hasPendingWrites,u.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Po(this._firestore,this._userDataWriter,r.key,r,new Bl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map((y=>{const v=new Po(u._firestore,u._userDataWriter,y.doc.key,y.doc,new Bl(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const v=new Po(u._firestore,u._userDataWriter,y.doc.key,y.doc,new Bl(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);let _=-1,A=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:Qb(y.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ql._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=sd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],u=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),u.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Qb(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(s){s=gr(s,be);const e=gr(s.firestore,dc);return Nb(jv(e),s._key).then((i=>Zb(e,s,i)))}Ql._jsonSchemaVersion="firestore/querySnapshot/1.0",Ql._jsonSchema={type:_e("string",Ql._jsonSchemaVersion),bundleSource:_e("string","QuerySnapshot"),bundleName:_e("string"),bundle:_e("string")};class Fb extends Hb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new be(this.firestore,null,i)}}function Xb(s,e,i){s=gr(s,be);const r=gr(s.firestore,dc),u=Gb(s.converter,e);return Zv(r,[zb(Gv(r),"setDoc",s._key,u,s.converter!==null,i).toMutation(s._key,ei.none())])}function Kb(s,e,i,...r){s=gr(s,be);const u=gr(s.firestore,dc),h=Gv(u);let d;return d=typeof(e=dr(e))=="string"||e instanceof mc?kb(h,"updateDoc",s._key,e,i,r):Bb(h,"updateDoc",s._key,e),Zv(u,[d.toMutation(s._key,ei.exists(!0))])}function Zv(s,e){return(function(r,u){const h=new _a;return r.asyncQueue.enqueueAndForget((async()=>pb(await Db(r),u,h))),h.promise})(jv(s),e)}function Zb(s,e,i){const r=i.docs.get(e._key),u=new Fb(s);return new fr(s,u,e._key,r,new Bl(i.hasPendingWrites,i.fromCache),e.converter)}function $b(...s){return new xd("arrayUnion",s)}(function(e,i=!0){(function(u){bs=u})(y1),jo(new Fl("firestore",((r,{instanceIdentifier:u,options:h})=>{const d=r.getProvider("app").getImmediate(),y=new dc(new I1(r.getProvider("auth-internal")),new x1(d,r.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new st(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(_.options.projectId,A)})(d,u),d);return h={useFetchStreams:i,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),ms(Ey,Ty,e),ms(Ey,Ty,"esm2020")})();var Jb="firebase",Wb="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ms(Jb,Wb,"app");const t2={apiKey:"AIzaSyDNiJknJG5f3dVKnprDWnSUAHQSkHB29mg",authDomain:"nuny-9726a.firebaseapp.com",projectId:"nuny-9726a",storageBucket:"nuny-9726a.firebasestorage.app",messagingSenderId:"968216764670",appId:"1:968216764670:web:ebffb8aebf7efbb30845af",measurementId:"G-QJB27T0KRT"},e2=T_(t2),zd=Ob(e2),Pd=()=>new Date().toISOString().split("T")[0],n2=async()=>{const s=Pd(),e=Md(zd,"casino",s);try{const i=await Yb(e);return i.exists()?i.data():null}catch(i){return console.error("Error al obtener sesin:",i),null}},i2=async s=>{const e=Pd(),i=Md(zd,"casino",e);try{await Xb(i,{date:e,balance:s,numbersHistory:[],lastUpdated:Zt.now()})}catch(r){throw console.error("Error al crear sesin:",r),r}},a2=async(s,e)=>{const i=Pd(),r=Md(zd,"casino",i);try{await Kb(r,{balance:s,numbersHistory:$b(e),lastUpdated:Zt.now()})}catch(u){throw console.error("Error al actualizar sesin:",u),u}};function r2(){const[s,e]=nn.useState(!1),[i,r]=nn.useState(!0),[u,h]=nn.useState(0),[d,y]=nn.useState(1e4),[v,_]=nn.useState({}),[A,D]=nn.useState({}),[x,G]=nn.useState(!1),[W,it]=nn.useState(null),[Z,At]=nn.useState(!1),[Tt,ft]=nn.useState(0),[Bt,dt]=nn.useState([]);nn.useEffect(()=>{(async()=>{r(!0);const S=await n2();S&&(h(S.balance),dt(S.numbersHistory),e(!0)),r(!1)})()},[]);const bt=Object.values(v).reduce((O,S)=>O+S,0)+Object.values(A).reduce((O,S)=>O+(S||0),0),I=async O=>{try{await i2(O),h(O),e(!0)}catch(S){console.error("Error al iniciar sesin:",S),alert("Error al guardar la sesin en la base de datos")}},b=O=>{x||u-bt<d||_(S=>({...S,[O]:(S[O]||0)+d}))},w=O=>{x||u-bt<d||D(S=>({...S,[O]:(S[O]||0)+d}))},M=()=>{_({}),D({}),it(null)},V=()=>{if(bt===0)return;const O=PE();G(!0),it(O);const S=u-bt;h(S),setTimeout(async()=>{dt(q=>[O,...q].slice(0,20));const $t=BE(v,A,O,UE),Xt=S+$t;h(Xt);try{await a2(Xt,O)}catch(q){console.error("Error al guardar en Firebase:",q)}$t>0?(At(!0),ft($t-bt)):(At(!1),ft(0)),G(!1),_({}),D({})},LE)};return i?J.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-900 to-green-700 flex items-center justify-center",children:J.jsx("div",{className:"text-white text-2xl",children:"Cargando sesin..."})}):s?J.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-900 to-green-700 p-4",children:J.jsxs("div",{className:"max-w-6xl mx-auto",children:[J.jsx("h1",{className:"text-4xl font-bold text-white text-center mb-2",children:"Ruleta Argentina"}),J.jsx("p",{className:"text-white text-center mb-6 opacity-80",children:"37 nmeros (0-36)  Paga 36:1"}),J.jsx(jE,{balance:u,betAmount:d,onBetChange:y,totalBet:bt}),J.jsx(QE,{history:Bt}),J.jsx(qE,{result:W,won:Z,winAmount:Tt}),J.jsx(HE,{bets:v,specialBets:A,onBet:b,onSpecialBet:w}),J.jsx(GE,{onSpin:V,onClear:M,spinning:x,canSpin:bt>0&&!x})]})}):J.jsx(kE,{onStart:I})}ME.createRoot(document.getElementById("root")).render(J.jsx(nn.StrictMode,{children:J.jsx(r2,{})}));
